{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///kero.min.js","webpack:///webpack/bootstrap 9db18da7dd280b206c20","webpack:///./js/index.js","webpack:///./js/app/indexApp.js","webpack:///./js/app/init.js","webpack:///./~/neoui-sparrow/js/compMgr.js","webpack:///./~/neoui-sparrow/js/dom.js","webpack:///./~/neoui-sparrow/js/event.js","webpack:///./~/neoui-sparrow/js/env.js","webpack:///./~/neoui-sparrow/js/extend.js","webpack:///./~/neoui-sparrow/js/enumerables.js","webpack:///./~/neoui-sparrow/js/util.js","webpack:///./~/neoui-sparrow/js/util/hotKeys.js","webpack:///./~/neoui-sparrow/js/class.js","webpack:///./js/app/adjustMetaFunc.js","webpack:///./js/app/dataTable.js","webpack:///./js/app/comp.js","webpack:///./js/app/validate.js","webpack:///./js/app/cache.js","webpack:///./js/app/iwebCore.js","webpack:///./js/app/ajax.js","webpack:///./~/neoui-sparrow/js/ajax.js","webpack:///./js/app/processXHRError.js","webpack:///./js/app/serverEvent.js","webpack:///./js/app/util.js","webpack:///./js/app/indexServerEvent.js","webpack:///./js/app/server-dataTable.js","webpack:///./js/app/server-fire.js","webpack:///./js/app/server-processXHRError.js","webpack:///./js/app/server-util.js","webpack:///./js/dataTable/indexDataTable.js","webpack:///./js/dataTable/indexEvents.js","webpack:///./js/dataTable/events.js","webpack:///./js/dataTable/copyRow.js","webpack:///./js/dataTable/data.js","webpack:///./js/dataTable/enable.js","webpack:///./js/dataTable/getCurrent.js","webpack:///./js/dataTable/getData.js","webpack:///./js/dataTable/getFocus.js","webpack:///./js/dataTable/getMeta.js","webpack:///./js/dataTable/getPage.js","webpack:///./js/dataTable/getParam.js","webpack:///./js/dataTable/getSelect.js","webpack:///./js/dataTable/getSimpleData.js","webpack:///./js/dataTable/meta.js","webpack:///./js/dataTable/page.js","webpack:///./js/dataTable/param.js","webpack:///./js/dataTable/ref.js","webpack:///./js/dataTable/removeRow.js","webpack:///./js/dataTable/util.js","webpack:///./js/dataTable/row.js","webpack:///./js/dataTable/rowCurrent.js","webpack:///./js/dataTable/rowDelete.js","webpack:///./js/dataTable/rowSelect.js","webpack:///./js/dataTable/rowFocus.js","webpack:///./js/dataTable/simpleData.js","webpack:///./js/dataTable/indexPage.js","webpack:///./js/dataTable/page-data.js","webpack:///./js/dataTable/page-getData.js","webpack:///./js/dataTable/page-getMeta.js","webpack:///./js/dataTable/page-meta.js","webpack:///./js/dataTable/page-removeRow.js","webpack:///./js/dataTable/indexRow.js","webpack:///./js/dataTable/row-data.js","webpack:///./js/dataTable/row-getData.js","webpack:///./js/dataTable/row-getMeta.js","webpack:///./js/dataTable/row-getSimpleData.js","webpack:///./js/dataTable/row-init.js","webpack:///./js/dataTable/row-meta.js","webpack:///./js/dataTable/row-ref.js","webpack:///./~/neoui-sparrow/js/util/dateUtils.js","webpack:///./~/neoui-sparrow/js/core.js","webpack:///./~/neoui-sparrow/js/cookies.js","webpack:///./js/dataTable/row-rowSelect.js","webpack:///./js/dataTable/row-simpleData.js","webpack:///./js/dataTable/row-util.js"],"names":["root","factory","exports","module","define","amd","a","i","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","Object","defineProperty","value","DataTable","u","undefined","_indexApp","_indexServerEvent","_indexDataTable","_indexPage","_indexRow","window","App","processXHRError","ServerEvent","Page","Row","createApp","_classCallCheck","instance","Constructor","TypeError","_init","_adjustMetaFunc","_dataTable","_comp","_validate","_cache","_iwebCore","_ajax","_processXHRError","_serverEvent","_util","init","adjustMetaFunc","addDataTable","getDataTable","getDataTables","createComp","getComp","getCompsByDataTable","getCompsByType","getComps","showComp","compsValidate","compsValidateMultiParam","setUserCache","getUserCache","removeUserCache","setCache","getCache","removeCache","setSessionCache","getSessionCache","removeSessionCache","getEnvironment","setClientAttribute","getClientAttribute","ajax","serverEvent","setEnable","app","arguments","length","arg","model","el","_compMgr","_hotKeys","viewModel","element","doApplyBindings","self","document","body","isArray","elements","each","querySelector","querySelectorAll","forEach","ele","options","JSON","parse","getAttribute","adjustFunc","comp","compMgr","createDataAdapter","hotkeys","scan","ko","applyBindings","updateComp","_getDataTables","key","parent","_findRegisteredClass","name","optReplace","CompMgr","registeredControls","className","_getUpgradedListOfElement","dataUpgraded","split","_isElementUpgraded","jsClass","upgradedList","indexOf","_upgradeElement","optJsClass","_typeof","Element","Error","classesToUpgrade","push","component","cssClass","registeredClass","n","setAttribute","join","classConstructor","createdControls","j","callbacks","_upgradeDomInternal","optCssClass","_dom","hasClass","Symbol","iterator","obj","constructor","plugs","dataAdapters","apply","_el","comps","addPlug","config","plug","compType","addDataAdapter","adapter","getDataAdapter","opt","type","adpt","_createComp","regComp","newConfig","compAsString","css","prototype","item","showPanelByEle","getScroll","getOffset","makeModal","makeDOM","getZIndex","getStyle","wrap","closest","toggleClass","removeClass","addClass","globalZIndex","_event","classList","_addClass","add","_removeClass","remove","nodeName","_hasClass","contains","_toggleClass","toggle","selector","tmp","parentNode","csstext","val","k","tmpcss","isNumber","style","insertBefore","appendChild","allCSS","getComputedStyle","currentStyle","htmlString","tempDiv","createElement","innerHTML","children","parEle","overlayDiv","zIndex","on","e","stopEvent","Node","offset","top","left","offsetTop","offsetLeft","offsetParent","scrollTop","documentElement","scrollLeft","panel","position","off","scroll","offLeft","offTop","eleWidth","offsetWidth","eleHeight","offsetHeight","panelWidth","panelHeight","clientWidth","clientHeight","event","trigger","_env","touchStartEvent","env","hasTouch","touchStopEvent","touchMoveEvent","tap","tapholdThreshold","emitTapOnTaphold","touchstartFun","touchendFun","setup","thisObject","isTaphold","clearTapTimer","clearTimeout","timer","clearTapHandlers","clickHandler","origTarget","target","preventDefault","which","setTimeout","teardown","taphold","swipe","scrollSupressionThreshold","durationThreshold","horizontalDistanceThreshold","verticalDistanceThreshold","getLocation","winPageX","pageXOffset","winPageY","pageYOffset","x","clientX","y","clientY","pageY","Math","floor","pageX","start","data","touches","location","time","Date","getTime","coords","origin","stop","handleSwipe","abs","direction","eventInProgress","events","context","emitted","move","swipeleft","swiperight","eventName","child","listener","childlistener","tmpchildren","node","lis","hasLis","fn","srcElement","addEventListener","attachEvent","splice","eventfn","removeEventListener","removeEvent","stopPropagation","cancelBubble","returnValue","_extend","extend","isIE","isFF","isOpera","isChrome","isSafari","isWebkit","isIE8_BEFORE","isIE8","isIE8_CORE","isIE9","isIE9_CORE","isIE10","isIE10_ABOVE","isIE11","isIOS","isIphone","isIPAD","isStandard","version","isWin","isUnix","isLinux","isAndroid","isMac","isMobile","s","userAgent","navigator","rMsie","rFirefox","rOpera","rChrome","rSafari","ua","toLowerCase","browserMatch","browser","match","exec","platform","String","intVersion","parseInt","mode","documentMode","isSTANDARD","_enumerables","object","args","len","enumerables","hasOwnProperty","U_LANGUAGES","U_THEME","U_LOCALE","U_USERCODE","enumerablesTest","toString","createShellObject","proto","exf","execIgnoreError","b","getFunction","func","getJSObject","names","nameArr","isDate","input","parseFloat","Array","isEmptyObject","inArray","arr","isDomElement","HTMLElement","tagName","nodeType","callback","v","NodeList","lengthb","str","replace","replaceAll","AFindText","ARepText","raRegExp","RegExp","_class","special_keys","27","9","32","13","8","145","20","144","19","45","36","46","35","33","34","37","38","39","40","112","113","114","115","116","117","118","119","120","121","122","123","shift_nums","`","1","2","3","4","5","6","7","0","-","=",";","'",",",".","/","\\","combi","isFunction","defaults","propagate","disableInInput","checkParent","that","inspector","code","character","fromCharCode","special","shift","shiftKey","ctrl","ctrlKey","alt","altKey","mapPoint","cbMap","callbackMap","modif","cb","exp","enterValue","substring","focus","h","hotkey","click","implement","properties","Class","Mutators","classify","cls","Ctor","mix","r","wl","o","create","SubClass","ret","initialize","Extends","StaticsWhiteList","existed","createProto","superclass","Implements","items","Statics","staticProperties","__proto__","setAdjustMetaFunc","dataTable","dataTables","compId","returnComp","dataTableId","targetComps","dataModel","returnComps","bodyHeight","nowTop","retUnpass","passed","unpassed","doValidate","result","trueValue","showMsg","notPassedArr","userCode","usercode","localStorage","setItem","getItem","removeItem","sessionStorage","iweb","Core","collectEnvironment","getClientAttributes","params","_wrapAjax","XmlHttp","get","post","reqCount","createXhr","xmlhttp","ActiveXObject","XMLHttpRequest","_json","url","async","error","method","compressType","serializeUrl","serializeParams","open","setRequestHeader","execount","onreadystatechange","readyState","execBack","send","status","responseText","errorMsg","alert","cache","random","ud","encodeURIComponent","rsl","state","xhr","getResponseHeader","showMessageDialog","title","msg","backdrop","eval","enable","_serverDataTable","_serverFire","_serverProcessXHRError","_serverUtil","datas","ent","debugMode","compression","addDataTables","addAllDataTables","updateDataTables","fire","setSuccessFunc","setCompression","addParameter","setEvent","getData","updateDom","DEFAULT","singleton","$ctx","rule","getDataByRule","dt","dts","deferred","setData","updateMeta","meta","parameters","utils","stringifyJson","success","dataType","preSuccess","orignSuccess","orignError","resolve","reject","_successFunc","custom","_updateDom","vos","vo","props","pako","log","_formatEvent","envJson","datasJson","trimServerEventData","encodeBase64","gzip","environment","dom","two","one","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","enumerable","writable","configurable","setPrototypeOf","_indexEvents","_copyRow","_data","_enable","_getCurrent","_getData","_getFocus","_getMeta","_getPage","_getParam","_getSelect","_getSimpleData","_meta","_page","_param","_ref","_removeRow","_row","_rowCurrent","_rowDelete","_rowSelect","_rowFocus","_simpleData","_Events","_this","getPrototypeOf","strict","createMetaItems","DEFAULTS","pageSize","observable","pageIndex","totalPages","totalRow","pageCache","rows","observableArray","selectedIndices","_oldCurrentIndex","focusIndex","cachedPages","metaChange","valueChange","currentRowChange","enableChange","master","allSelected","ns","copyRow","copyRows","setValue","isEnable","getRow","getRowByRowId","getRowIndex","getRowsByField","getRowByField","getAllRows","getAllPageRows","getChangedDatas","getChangedRows","getValue","getIndexByRowId","getAllDatas","getRowIdsByIndices","getCurrentRow","getCurrentIndex","getFocusRow","getFocusIndex","getMeta","getRowMeta","getPage","getPages","getParam","getSelectedIndex","getSelectedIndices","getSelectedIndexs","getSelectedDatas","getSelectedRows","getSimpleData","setMeta","createField","setCurrentPage","updatePages","setPages","hasPage","clearCache","cacheCurrentPage","addParam","addParams","refSelectedRows","ref","refMeta","refRowMeta","refEnable","setRows","addRow","addRows","insertRow","insertRows","createEmptyRow","removeRowByRowId","removeRow","removeAllRows","removeRows","clear","updateCurrIndex","setRowDelete","setAllRowsDelete","setRowsDelete","setRowFocus","setRowUnFocus","updateFocusIndex","setAllRowsSelect","setRowSelect","setRowsSelect","addRowSelect","addRowsSelect","setAllRowsUnSelect","setRowUnSelect","setRowsUnSelect","toggleAllSelect","updateSelectedIndices","setSimpleData","addSimpleData","isChanged","Events","META_DEFAULTS","required","descs","ON_ROW_SELECT","ON_ROW_UNSELECT","ON_ROW_ALLSELECT","ON_ROW_ALLUNSELECT","ON_VALUE_CHANGE","ON_CURRENT_VALUE_CHANGE","ON_INSERT","ON_UPDATE","ON_CURRENT_UPDATE","ON_DELETE","ON_DELETE_ALL","ON_ROW_FOCUS","ON_ROW_UNFOCUS","ON_LOAD","ON_ENABLE_CHANGE","ON_META_CHANGE","ON_ROW_META_CHANGE","ON_CURRENT_META_CHANGE","ON_CURRENT_ROW_CHANGE","SUBMIT","current","all","select","change","empty","allSelect","allPages","metas","newMetas","_events","getEvent","_callback","origCb","cbs","slice","count","index","row","newRow","newIndex","newSize","newTotalPages","newTotalRow","unSelect","pages","fieldName","ctx","fieldEnable","returnData","currIndex","getEmptyData","page","getSelectDatas","peek","rowid","rowId","field","returnRows","withEmptyRow","STATUS","NORMAL","changedRows","indices","rowIds","sIndices","selectRows","_rowData","fields","currRow","focusRow","oldValue","eventType","newValue","fieldKey","propKey","display","fNames","_name","nsArr","_fieldMeta","notCacheCurrentPage","cachedPage","selectedIndcies","selectIndices","getRandomRowId","DELETE","updateRow","allRows","pureComputed","read","ins","rs","selectedRows","owner","getChildValue","write","setChildValue","_formatToIndicesArray","sort","deleteRows","delRow","deleteRow","_id","currentIndex","NEW","FALSE_DELETE","ON_ROW_DELETE","falseDelete","_util2","quiet","sIns","ind","toAdd","pos","num","force","indx","opIndex","opType","$data","_pageData","_pageGetData","_pageGetMeta","_pageMeta","_pageRemoveRow","setRowValue","getSelectRows","getRowValue","setRowMeta","rowIndex","UPDATE","originRow","valueObj","metaName","_rowGetData","_rowGetMeta","_rowGetSimpleData","_rowInit","_rowMeta","_rowRef","_rowRowSelect","_rowSimpleData","_rowUtil","initValue","selected","selectindices","focused","setChildSimpleDataByRowId","refCombo","refDate","refEnum","toggleSelect","singleSelect","multiSelect","formatValue","eq","_getField","_triggerChange","_field","rowIdArr","rowIdLength","_childField","_childObj","subscribe","sourceData","targetData","_setData","isChild","keys","_fieldValue","_targetField","_value","toJS","_keyValue","_dateToUTCString","chiddt","cds","stringify","fetchParent","mt","_fieldsData","_dateUtils","datasource","ds","valArr","format","date","_core","_dateLocale","zh-CN","months","monthsShort","weekdays","weekdaysShort","weekdaysMin","en-US","_formattingTokens","leftZeroFill","number","targetLength","forceSign","output","sign","_formats","YY","getFullYear","YYYY","M","getMonth","MM","MMM","language","MMMM","D","getDate","DD","d","getDay","dd","ddd","dddd","getHours","hh","H","HH","getMinutes","mm","getSeconds","ss","formatString","array","_date","getDateObj","core","getLanguages","_addOrSubtract","period","isAdding","times","setTime","setDate","setMonth","sub","dateFlag","isNaN","index1","index2","index3","s1","s2","s3","setYear","setHours","setMinutes","setSeconds","_interopRequireDefault","__esModule","default","_extend2","_cookies","clientAttributes","sessionAttributes","maskerMeta","float","precision","datetime","metaType","speratorSymbol","currency","curSymbol","percent","setContextPath","contextPath","IWEB_CONTEXT_PATH","getContextPath","getSessionAttributes","setSessionAttribute","setCookie","removeClientAttribute","getLocale","locale","languages","_ses","setMaskerMeta","getMetaFunc","getMaskerMeta","getCookie","theme","cookie","sName","sValue","oExpires","sPath","sDomain","bSecure","sCookie","toGMTString","sRE","oRE","test","decodeURIComponent","allData","_formatDate","year","month","day","hours","minutes","seconds","getMilliseconds","utcString","changed","fName","rat","_findField","console"],"mappings":"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","file":"kero.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.DataTable = exports.u = undefined;\n\t\n\tvar _indexApp = __webpack_require__(1);\n\t\n\tvar _indexServerEvent = __webpack_require__(23);\n\t\n\tvar _indexDataTable = __webpack_require__(28);\n\t\n\tvar _indexPage = __webpack_require__(54);\n\t\n\tvar _indexRow = __webpack_require__(60);\n\t\n\twindow.App = _indexApp.App; /**\n\t                             * Module : Kero webpack entry index\n\t                             * Author : liuyk(liuyuekai@yonyou.com)\n\t                             * Date\t  : 2016-08-08 15:24:46\n\t                             */\n\t\n\twindow.processXHRError = _indexApp.processXHRError;\n\t\n\twindow.ServerEvent = _indexServerEvent.ServerEvent;\n\t\n\twindow.DataTable = _indexDataTable.DataTable;\n\t\n\twindow.Page = _indexPage.Page;\n\t\n\twindow.Row = _indexRow.Row;\n\t\n\twindow.u = window.u || {};\n\texports.u = u = window.u;\n\tu.createApp = _indexApp.createApp;\n\tu.DataTable = _indexDataTable.DataTable;\n\tu.Row = _indexRow.Row;\n\t\n\texports.u = u;\n\texports.DataTable = _indexDataTable.DataTable;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.createApp = exports.processXHRError = exports.App = undefined;\n\t\n\tvar _init = __webpack_require__(2);\n\t\n\tvar _adjustMetaFunc = __webpack_require__(12);\n\t\n\tvar _dataTable = __webpack_require__(13);\n\t\n\tvar _comp = __webpack_require__(14);\n\t\n\tvar _validate = __webpack_require__(15);\n\t\n\tvar _cache = __webpack_require__(16);\n\t\n\tvar _iwebCore = __webpack_require__(17);\n\t\n\tvar _ajax = __webpack_require__(18);\n\t\n\tvar _processXHRError = __webpack_require__(20);\n\t\n\tvar _serverEvent = __webpack_require__(21);\n\t\n\tvar _util = __webpack_require__(22);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * Module : Kero webpack entry app index\n\t                                                                                                                                                           * Author : liuyk(liuyuekai@yonyou.com)\n\t                                                                                                                                                           * Date\t  : 2016-08-09 15:24:46\n\t                                                                                                                                                           */\n\t\n\t//相关依赖导入\n\t\n\t\n\tvar App = function App() {\n\t  _classCallCheck(this, App);\n\t\n\t  // init\n\t  this.init = _init.init;\n\t  // adjustMetaFunc\n\t  this.adjustMetaFunc = _adjustMetaFunc.adjustMetaFunc;\n\t  // dataTable \n\t  this.addDataTable = _dataTable.addDataTable;\n\t  this.getDataTable = _dataTable.getDataTable;\n\t  this.getDataTables = _dataTable.getDataTables;\n\t  // comp\n\t  this.createComp = _comp.createComp;\n\t  this.getComp = _comp.getComp;\n\t  this.getCompsByDataTable = _comp.getCompsByDataTable;\n\t  this.getCompsByType = _comp.getCompsByType;\n\t  this.getComps = _comp.getComps;\n\t  this.showComp = _comp.showComp;\n\t  // validate\n\t  this.compsValidate = _validate.compsValidate;\n\t  this.compsValidateMultiParam = _validate.compsValidateMultiParam;\n\t  // cache\n\t  this.setUserCache = _cache.setUserCache;\n\t  this.getUserCache = _cache.getUserCache;\n\t  this.removeUserCache = _cache.removeUserCache;\n\t  this.setCache = _cache.setCache;\n\t  this.getCache = _cache.getCache;\n\t  this.removeCache = _cache.removeCache;\n\t  this.setSessionCache = _cache.setSessionCache;\n\t  this.getSessionCache = _cache.getSessionCache;\n\t  this.removeSessionCache = _cache.removeSessionCache;\n\t  // iwebCode\n\t  this.getEnvironment = _iwebCore.getEnvironment;\n\t  this.setClientAttribute = _iwebCore.setClientAttribute;\n\t  this.getClientAttribute = _iwebCore.getClientAttribute;\n\t  // ajax\n\t  this.ajax = _ajax.ajax;\n\t  // serverEvent\n\t  this.serverEvent = _serverEvent.serverEvent;\n\t  // util\n\t  this.setEnable = _util.setEnable;\n\t};\n\t\n\tvar createApp = function createApp() {\n\t  var app = new App();\n\t  if (arguments.length > 0) {\n\t    var arg = arguments[0];\n\t    app.init(arg.model, arg.el);\n\t  }\n\t  return app;\n\t};\n\t\n\texports.App = App;\n\texports.processXHRError = _processXHRError.processXHRError;\n\texports.createApp = createApp;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.init = undefined;\n\t\n\tvar _compMgr = __webpack_require__(3);\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar _hotKeys = __webpack_require__(10);\n\t\n\tvar init = function init(viewModel, element, doApplyBindings) {\n\t    var self = this;\n\t    element = element || document.body;\n\t    if (!(0, _util.isArray)(element)) {\n\t        element = [element];\n\t    }\n\t    this.elements = element;\n\t    (0, _util.each)(this.elements, function (i, element) {\n\t        if (typeof element === 'string') {\n\t            element = document.querySelector(element);\n\t        }\n\t        if (element) {\n\t            element.querySelectorAll('[u-meta]').forEach(function (ele) {\n\t                var options = JSON.parse(ele.getAttribute('u-meta'));\n\t                options['type'] = options['type'] || 'string';\n\t                if (options && options['type']) {\n\t                    if (self.adjustFunc) self.adjustFunc.call(self, options);\n\t                    var comp = _compMgr.compMgr.createDataAdapter({ el: ele, options: options, model: viewModel, app: self });\n\t                    ele['u-meta'] = comp;\n\t                }\n\t            });\n\t        }\n\t\n\t        if (_hotKeys.hotkeys) _hotKeys.hotkeys.scan(element);\n\t        if (typeof doApplyBindings == 'undefined' || doApplyBindings == true) ko.applyBindings(viewModel, element);\n\t        _compMgr.compMgr.updateComp(element);\n\t    });\n\t\n\t    _getDataTables(this, viewModel);\n\t}; /**\n\t    * Module : kero app init\n\t    * Author : liuyk(liuyk@yonyou.com)\n\t    * Date   : 2016-07-29 09:34:01\n\t    */\n\t\n\t\n\tvar _getDataTables = function _getDataTables(app, viewModel) {\n\t    for (var key in viewModel) {\n\t        if (viewModel[key] && viewModel[key] instanceof u.DataTable) {\n\t            viewModel[key].id = key;\n\t            viewModel[key].parent = viewModel;\n\t            app.addDataTable(viewModel[key]);\n\t        }\n\t    }\n\t};\n\t\n\texports.init = init;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.compMgr = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }; /**\n\t                                                                                                                                                                                                                                                   * Module : Sparrow compMgr\n\t                                                                                                                                                                                                                                                   * Author : Kvkens(yueming@yonyou.com)\n\t                                                                                                                                                                                                                                                   * Date\t  : 2016-07-28 18:41:06\n\t                                                                                                                                                                                                                                                   */\n\t\n\tvar _dom = __webpack_require__(4);\n\t\n\tfunction _findRegisteredClass(name, optReplace) {\n\t    for (var i = 0; i < CompMgr.registeredControls.length; i++) {\n\t        if (CompMgr.registeredControls[i].className === name) {\n\t            if (typeof optReplace !== 'undefined') {\n\t                CompMgr.registeredControls[i] = optReplace;\n\t            }\n\t            return CompMgr.registeredControls[i];\n\t        }\n\t    }\n\t    return false;\n\t}\n\t\n\tfunction _getUpgradedListOfElement(element) {\n\t    var dataUpgraded = element.getAttribute('data-upgraded');\n\t    // Use `['']` as default value to conform the `,name,name...` style.\n\t    return dataUpgraded === null ? [''] : dataUpgraded.split(',');\n\t}\n\t\n\tfunction _isElementUpgraded(element, jsClass) {\n\t    var upgradedList = _getUpgradedListOfElement(element);\n\t    return upgradedList.indexOf(jsClass) != -1;\n\t}\n\t\n\tfunction _upgradeElement(element, optJsClass) {\n\t    if (!((typeof element === 'undefined' ? 'undefined' : _typeof(element)) === 'object' && element instanceof Element)) {\n\t        throw new Error('Invalid argument provided to upgrade MDL element.');\n\t    }\n\t    var upgradedList = _getUpgradedListOfElement(element);\n\t    var classesToUpgrade = [];\n\t    if (!optJsClass) {\n\t        var className = element.className;\n\t        for (var i = 0; i < CompMgr.registeredControls.length; i++) {\n\t            var component = CompMgr.registeredControls[i];\n\t            if (className.indexOf(component.cssClass) > -1 && classesToUpgrade.indexOf(component) === -1 && !_isElementUpgraded(element, component.className)) {\n\t                classesToUpgrade.push(component);\n\t            }\n\t        }\n\t    } else if (!_isElementUpgraded(element, optJsClass)) {\n\t        classesToUpgrade.push(_findRegisteredClass(optJsClass));\n\t    }\n\t\n\t    // Upgrade the element for each classes.\n\t    for (var i = 0, n = classesToUpgrade.length, registeredClass; i < n; i++) {\n\t        registeredClass = classesToUpgrade[i];\n\t        if (registeredClass) {\n\t            if (element[registeredClass.className]) {\n\t                continue;\n\t            }\n\t            // Mark element as upgraded.\n\t            upgradedList.push(registeredClass.className);\n\t            element.setAttribute('data-upgraded', upgradedList.join(','));\n\t            var instance = new registeredClass.classConstructor(element);\n\t            CompMgr.createdControls.push(instance);\n\t            // Call any callbacks the user has registered with this component type.\n\t            for (var j = 0, m = registeredClass.callbacks.length; j < m; j++) {\n\t                registeredClass.callbacks[j](element);\n\t            }\n\t            element[registeredClass.className] = instance;\n\t        } else {\n\t            throw new Error('Unable to find a registered component for the given class.');\n\t        }\n\t    }\n\t}\n\t\n\tfunction _upgradeDomInternal(optJsClass, optCssClass, ele) {\n\t    if (typeof optJsClass === 'undefined' && typeof optCssClass === 'undefined') {\n\t        for (var i = 0; i < CompMgr.registeredControls.length; i++) {\n\t            _upgradeDomInternal(CompMgr.registeredControls[i].className, registeredControls[i].cssClass, ele);\n\t        }\n\t    } else {\n\t        var jsClass = optJsClass;\n\t        if (!optCssClass) {\n\t            var registeredClass = _findRegisteredClass(jsClass);\n\t            if (registeredClass) {\n\t                optCssClass = registeredClass.cssClass;\n\t            }\n\t        }\n\t        var elements;\n\t        if (ele) {\n\t            elements = (0, _dom.hasClass)(ele, optCssClass) ? [ele] : ele.querySelectorAll('.' + optCssClass);\n\t        } else {\n\t            elements = document.querySelectorAll('.' + optCssClass);\n\t        }\n\t        for (var n = 0; n < elements.length; n++) {\n\t            _upgradeElement(elements[n], jsClass);\n\t        }\n\t    }\n\t}\n\t\n\tvar CompMgr = {\n\t    plugs: {},\n\t    dataAdapters: {},\n\t    /** 注册的控件*/\n\t    registeredControls: [],\n\t    createdControls: [],\n\t    /**\n\t     *\n\t     * @param options  {el:'#content', model:{}}\n\t     */\n\t    apply: function apply(options) {\n\t        if (options) {\n\t            var _el = options.el || document.body;\n\t            var model = options.model;\n\t        }\n\t        if (typeof _el == 'string') {\n\t            _el = document.body.querySelector(_el);\n\t        }\n\t        if (_el == null || (typeof _el === 'undefined' ? 'undefined' : _typeof(_el)) != 'object') _el = document.body;\n\t        var comps = _el.querySelectorAll('[u-meta]');\n\t        comps.forEach(function (element) {\n\t            if (element['comp']) return;\n\t            var options = JSON.parse(element.getAttribute('u-meta'));\n\t            if (options && options['type']) {\n\t                //var comp = CompMgr._createComp({el:element,options:options,model:model});\n\t                var comp = CompMgr.createDataAdapter({ el: element, options: options, model: model });\n\t                if (comp) {\n\t                    element['adpt'] = comp;\n\t                    element['u-meta'] = comp;\n\t                }\n\t            }\n\t        });\n\t    },\n\t    addPlug: function addPlug(config) {\n\t        var plug = config['plug'],\n\t            name = config['name'];\n\t        this.plugs || (this.plugs = {});\n\t        if (this.plugs[name]) {\n\t            throw new Error('plug has exist:' + name);\n\t        }\n\t        plug.compType = name;\n\t        this.plugs[name] = plug;\n\t    },\n\t    addDataAdapter: function addDataAdapter(config) {\n\t        var adapter = config['adapter'],\n\t            name = config['name'];\n\t        //dataType = config['dataType'] || ''\n\t        //var key = dataType ? name + '.' + dataType : name;\n\t        this.dataAdapters || (dataAdapters = {});\n\t        if (this.dataAdapters[name]) {\n\t            throw new Error('dataAdapter has exist:' + name);\n\t        }\n\t        this.dataAdapters[name] = adapter;\n\t    },\n\t    getDataAdapter: function getDataAdapter(name) {\n\t        if (!name) return;\n\t        this.dataAdapters || (dataAdapters = {});\n\t        //var key = dataType ? name + '.' + dataType : name;\n\t        return this.dataAdapters[name];\n\t    },\n\t    createDataAdapter: function createDataAdapter(options) {\n\t        var opt = options['options'];\n\t        var type = opt['type'],\n\t            id = opt['id'];\n\t        var adpt = this.dataAdapters[type];\n\t        if (!adpt) return null;\n\t        var comp = new adpt(options);\n\t        comp.type = type;\n\t        comp.id = id;\n\t        return comp;\n\t    },\n\t    _createComp: function _createComp(options) {\n\t        var opt = options['options'];\n\t        var type = opt['type'];\n\t        var plug = this.plugs[type];\n\t        if (!plug) return null;\n\t        var comp = new plug(options);\n\t        comp.type = type;\n\t        return comp;\n\t    },\n\t    /**\n\t     * 注册UI控件\n\t     */\n\t    regComp: function regComp(config) {\n\t        var newConfig = {\n\t            classConstructor: config.comp,\n\t            className: config.compAsString || config['compAsString'],\n\t            cssClass: config.css || config['css'],\n\t            callbacks: []\n\t        };\n\t        config.comp.prototype.compType = config.compAsString;\n\t        for (var i = 0; i < this.registeredControls.length; i++) {\n\t            var item = this.registeredControls[i];\n\t            //registeredControls.forEach(function(item) {\n\t            if (item.cssClass === newConfig.cssClass) {\n\t                throw new Error('The provided cssClass has already been registered: ' + item.cssClass);\n\t            }\n\t            if (item.className === newConfig.className) {\n\t                throw new Error('The provided className has already been registered');\n\t            }\n\t        };\n\t        this.registeredControls.push(newConfig);\n\t    },\n\t    updateComp: function updateComp(ele) {\n\t        for (var n = 0; n < this.registeredControls.length; n++) {\n\t            _upgradeDomInternal(this.registeredControls[n].className, null, ele);\n\t        }\n\t    }\n\t};\n\t\n\tvar compMgr = CompMgr;\n\texports.compMgr = compMgr;\n\t\n\t///**\n\t// * 加载控件\n\t// */\n\t//\n\t//if (document.readyState && document.readyState === 'complete'){\n\t//    compMgr.updateComp();\n\t//}else{\n\t//    on(window, 'load', function() {\n\t//\n\t//        //扫描并生成控件\n\t//        compMgr.updateComp();\n\t//    });\n\t//}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.showPanelByEle = exports.getScroll = exports.getOffset = exports.makeModal = exports.makeDOM = exports.getZIndex = exports.getStyle = exports.wrap = exports.css = exports.closest = exports.toggleClass = exports.hasClass = exports.removeClass = exports.addClass = undefined;\n\t\n\tvar _event = __webpack_require__(5);\n\t\n\t/**\n\t * 元素增加指定样式\n\t * @param value\n\t * @returns {*}\n\t */\n\tvar addClass = function addClass(element, value) {\n\t\tif (typeof element.classList === 'undefined') {\n\t\t\tif (u._addClass) u._addClass(element, value);\n\t\t} else {\n\t\t\telement.classList.add(value);\n\t\t}\n\t\treturn this;\n\t};\n\t/**\n\t * 删除元素上指定样式\n\t * @param {Object} element\n\t * @param {Object} value\n\t */\n\t/**\n\t * Module : Sparrow dom\n\t * Author : Kvkens(yueming@yonyou.com)\n\t * Date\t  : 2016-07-27 21:46:50\n\t */\n\tvar removeClass = function removeClass(element, value) {\n\t\tif (typeof element.classList === 'undefined') {\n\t\t\tif (u._removeClass) u._removeClass(element, value);\n\t\t} else {\n\t\t\telement.classList.remove(value);\n\t\t}\n\t\treturn this;\n\t};\n\t/**\n\t * 元素上是否存在该类\n\t * @param {Object} element\n\t * @param {Object} value\n\t */\n\tvar hasClass = function hasClass(element, value) {\n\t\tif (!element) return false;\n\t\tif (element.nodeName && (element.nodeName === '#text' || element.nodeName === '#comment')) return false;\n\t\tif (typeof element.classList === 'undefined') {\n\t\t\tif (u._hasClass) return u._hasClass(element, value);\n\t\t\treturn false;\n\t\t} else {\n\t\t\treturn element.classList.contains(value);\n\t\t}\n\t};\n\t/**\n\t * 选择元素类切换\n\t * @param {Object} element\n\t * @param {Object} value\n\t */\n\tvar toggleClass = function toggleClass(element, value) {\n\t\tif (typeof element.classList === 'undefined') {\n\t\t\treturn u._toggleClass(element, value);\n\t\t} else {\n\t\t\treturn element.classList.toggle(value);\n\t\t}\n\t};\n\t\n\t/**\n\t * 向上查找指定类元素\n\t * @param {Object} element\n\t * @param {Object} selector\n\t */\n\tvar closest = function closest(element, selector) {\n\t\tvar tmp = element;\n\t\twhile (tmp != null && !hasClass(tmp, selector) && tmp != document.body) {\n\t\t\ttmp = tmp.parentNode;\n\t\t}\n\t\tif (tmp == document.body) return null;\n\t\treturn tmp;\n\t};\n\t\n\t/**\n\t * 元素CSS操作\n\t * @param {Object} element\n\t * @param {Object} csstext\n\t * @param {Object} val\n\t */\n\tvar css = function css(element, csstext, val) {\n\t\t//TO DO : 实现u.相关方法\n\t\tif (csstext instanceof Object) {\n\t\t\tfor (var k in csstext) {\n\t\t\t\tvar tmpcss = csstext[k];\n\t\t\t\tif ([\"width\", \"height\", \"top\", \"bottom\", \"left\", \"right\"].indexOf(k) > -1 && isNumber(tmpcss)) {\n\t\t\t\t\ttmpcss = tmpcss + \"px\";\n\t\t\t\t}\n\t\t\t\telement.style[k] = tmpcss;\n\t\t\t}\n\t\t} else {\n\t\t\tif (arguments.length > 2) {\n\t\t\t\telement.style[csstext] = val;\n\t\t\t} else {\n\t\t\t\treturn getStyle(element, csstext);\n\t\t\t}\n\t\t}\n\t};\n\t\n\tvar wrap = function wrap(element, parent) {\n\t\tvar p = makeDOM(parent);\n\t\telement.parentNode.insertBefore(p, element);\n\t\tp.appendChild(element);\n\t};\n\tvar getStyle = function getStyle(element, key) {\n\t\t//不要在循环里用\n\t\tvar allCSS;\n\t\tif (window.getComputedStyle) {\n\t\t\tallCSS = window.getComputedStyle(element);\n\t\t} else {\n\t\t\tallCSS = element.currentStyle;\n\t\t}\n\t\tif (allCSS[key] !== undefined) {\n\t\t\treturn allCSS[key];\n\t\t} else {\n\t\t\treturn \"\";\n\t\t}\n\t};\n\tvar globalZIndex;\n\t/**\n\t * 统一zindex值, 不同控件每次显示时都取最大的zindex，防止显示错乱\n\t */\n\tvar getZIndex = function getZIndex() {\n\t\tif (!globalZIndex) {\n\t\t\tglobalZIndex = 2000;\n\t\t}\n\t\treturn globalZIndex++;\n\t};\n\tvar makeDOM = function makeDOM(htmlString) {\n\t\tvar tempDiv = document.createElement(\"div\");\n\t\ttempDiv.innerHTML = htmlString;\n\t\tvar _dom = tempDiv.children[0];\n\t\treturn _dom;\n\t};\n\t/**\n\t * element\n\t */\n\tvar makeModal = function makeModal(element, parEle) {\n\t\tvar overlayDiv = document.createElement('div');\n\t\taddClass(overlayDiv, 'u-overlay');\n\t\toverlayDiv.style.zIndex = getZIndex();\n\t\t// 如果有父元素则插入到父元素上，没有则添加到body上\n\t\tif (parEle && parEle != document.body) {\n\t\t\taddClass(overlayDiv, 'hasPar');\n\t\t\tparEle.appendChild(overlayDiv);\n\t\t} else {\n\t\t\tdocument.body.appendChild(overlayDiv);\n\t\t}\n\t\n\t\telement.style.zIndex = getZIndex();\n\t\t(0, _event.on)(overlayDiv, 'click', function (e) {\n\t\t\t(0, _event.stopEvent)(e);\n\t\t});\n\t\treturn overlayDiv;\n\t};\n\t\n\tvar getOffset = function getOffset(Node, offset) {\n\t\tif (!offset) {\n\t\t\toffset = {};\n\t\t\toffset.top = 0;\n\t\t\toffset.left = 0;\n\t\t}\n\t\tif (Node == document.body) {\n\t\t\treturn offset;\n\t\t}\n\t\toffset.top += Node.offsetTop;\n\t\toffset.left += Node.offsetLeft;\n\t\tif (Node.offsetParent) return getOffset(Node.offsetParent, offset);else return offset;\n\t};\n\tvar getScroll = function getScroll(Node, offset) {\n\t\tif (!offset) {\n\t\t\toffset = {};\n\t\t\toffset.top = 0;\n\t\t\toffset.left = 0;\n\t\t}\n\t\tif (Node == document.body) {\n\t\t\toffset.top += Node.scrollTop || document.documentElement.scrollTop;\n\t\t\toffset.left += Node.scrollLeft || document.documentElement.scrollLeft;\n\t\t\treturn offset;\n\t\t}\n\t\toffset.top += Node.scrollTop;\n\t\toffset.left += Node.scrollLeft;\n\t\tif (Node.parentNode) return getScroll(Node.parentNode, offset);else return offset;\n\t};\n\tvar showPanelByEle = function showPanelByEle(obj) {\n\t\tvar ele = obj.ele,\n\t\t    panel = obj.panel,\n\t\t    position = obj.position,\n\t\t    off = getOffset(ele),\n\t\t    scroll = getScroll(ele),\n\t\t    offLeft = off.left,\n\t\t    offTop = off.top,\n\t\t    scrollLeft = scroll.left,\n\t\t    scrollTop = scroll.top,\n\t\t    eleWidth = ele.offsetWidth,\n\t\t    eleHeight = ele.offsetHeight,\n\t\t    panelWidth = panel.offsetWidth,\n\t\t    panelHeight = panel.offsetHeight,\n\t\t    bodyWidth = document.body.clientWidth,\n\t\t    bodyHeight = document.body.clientHeight,\n\t\t    position = position || 'top',\n\t\t    left = offLeft - scrollLeft,\n\t\t    top = offTop - scrollTop;\n\t\t// 基准点为Ele的左上角\n\t\t// 后续根据需要完善\n\t\tif (position == 'left') {\n\t\t\tleft = left - panelWidth;\n\t\t\ttop = top + (eleHeight - panelHeight) / 2;\n\t\t} else if (position == 'right') {\n\t\t\tleft = left + eleWidth;\n\t\t\ttop = top + (eleHeight - panelHeight) / 2;\n\t\t} else if (position == 'top' || position == 'topCenter') {\n\t\t\tleft = left + (eleWidth - panelWidth) / 2;\n\t\t\ttop = top - panelHeight;\n\t\t} else if (position == 'bottom' || position == 'bottomCenter') {\n\t\t\tleft = left + (eleWidth - panelWidth) / 2;\n\t\t\ttop = top + eleHeight;\n\t\t} else if (position == 'bottomLeft') {\n\t\t\tleft = left;\n\t\t\ttop = top + eleHeight;\n\t\t}\n\t\n\t\t// if((left + panelWidth) > bodyWidth)\n\t\t//     left = bodyWidth - panelWidth;\n\t\t// if(left < 0)\n\t\t//     left = 0;\n\t\n\t\t// if((top + panelHeight) > bodyHeight)\n\t\t//     top = bodyHeight - panelHeight;\n\t\t// if(top < 0)\n\t\t//     top = 0;\n\t\tpanel.style.left = left + 'px';\n\t\tpanel.style.top = top + 'px';\n\t};\n\t\n\texports.addClass = addClass;\n\texports.removeClass = removeClass;\n\texports.hasClass = hasClass;\n\texports.toggleClass = toggleClass;\n\texports.closest = closest;\n\texports.css = css;\n\texports.wrap = wrap;\n\texports.getStyle = getStyle;\n\texports.getZIndex = getZIndex;\n\texports.makeDOM = makeDOM;\n\texports.makeModal = makeModal;\n\texports.getOffset = getOffset;\n\texports.getScroll = getScroll;\n\texports.showPanelByEle = showPanelByEle;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.event = exports.stopEvent = exports.trigger = exports.off = exports.on = undefined;\n\t\n\tvar _env = __webpack_require__(6);\n\t\n\tvar u = {}; /**\n\t             * Module : Sparrow touch event\n\t             * Author : Kvkens(yueming@yonyou.com)\n\t             * Date\t  : 2016-07-28 14:41:17\n\t             */\n\t\n\tu.event = {};\n\t\n\tvar touchStartEvent = _env.env.hasTouch ? \"touchstart\" : \"mousedown\",\n\t    touchStopEvent = _env.env.hasTouch ? \"touchend\" : \"mouseup\",\n\t    touchMoveEvent = _env.env.hasTouch ? \"touchmove\" : \"mousemove\";\n\t\n\t// tap和taphold\n\tu.event.tap = {\n\t\ttapholdThreshold: 750,\n\t\temitTapOnTaphold: true,\n\t\ttouchstartFun: function touchstartFun() {\n\t\t\ttrigger(this, 'vmousedown');\n\t\t},\n\t\ttouchendFun: function touchendFun() {\n\t\t\ttrigger(this, 'vmouseup');\n\t\t\ttrigger(this, 'vclick');\n\t\t},\n\t\tsetup: function setup() {\n\t\t\tvar thisObject = this,\n\t\t\t    isTaphold = false;\n\t\n\t\t\ton(thisObject, \"vmousedown\", function (event) {\n\t\t\t\tisTaphold = false;\n\t\t\t\tif (event.which && event.which !== 1) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\n\t\t\t\tvar origTarget = event.target,\n\t\t\t\t    timer;\n\t\n\t\t\t\tfunction clearTapTimer() {\n\t\t\t\t\tclearTimeout(timer);\n\t\t\t\t}\n\t\n\t\t\t\tfunction clearTapHandlers() {\n\t\t\t\t\tclearTapTimer();\n\t\n\t\t\t\t\toff(thisObject, 'vclick');\n\t\t\t\t\toff(thisObject, 'vmouseup');\n\t\t\t\t\toff(document, 'vmousecancel');\n\t\t\t\t}\n\t\n\t\t\t\tfunction clickHandler(event) {\n\t\t\t\t\tclearTapHandlers();\n\t\n\t\t\t\t\t// ONLY trigger a 'tap' event if the start target is\n\t\t\t\t\t// the same as the stop target.\n\t\t\t\t\tif (!isTaphold && origTarget === event.target) {\n\t\t\t\t\t\ttrigger(thisObject, 'tap');\n\t\t\t\t\t} else if (isTaphold) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ton(thisObject, 'vmouseup', clearTapTimer);\n\t\t\t\ton(thisObject, 'vclick', clickHandler);\n\t\t\t\ton(document, 'vmousecancel', clearTapHandlers);\n\t\n\t\t\t\ttimer = setTimeout(function () {\n\t\t\t\t\tif (!u.event.tap.emitTapOnTaphold) {\n\t\t\t\t\t\tisTaphold = true;\n\t\t\t\t\t}\n\t\t\t\t\ttrigger(thisObject, \"taphold\");\n\t\t\t\t\tclearTapHandlers();\n\t\t\t\t}, u.event.tap.tapholdThreshold);\n\t\t\t});\n\t\n\t\t\ton(thisObject, 'touchstart', u.event.tap.touchstartFun);\n\t\t\ton(thisObject, 'touchend', u.event.tap.touchendFun);\n\t\t},\n\t\tteardown: function teardown() {\n\t\t\toff(thisObject, 'vmousedown');\n\t\t\toff(thisObject, 'vclick');\n\t\t\toff(thisObject, 'vmouseup');\n\t\t\toff(document, 'vmousecancel');\n\t\t}\n\t};\n\t\n\tu.event.taphold = u.event.tap;\n\t\n\tu.event.swipe = {\n\t\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\n\t\tscrollSupressionThreshold: 30,\n\t\n\t\t// More time than this, and it isn't a swipe.\n\t\tdurationThreshold: 1000,\n\t\n\t\t// Swipe horizontal displacement must be more than this.\n\t\thorizontalDistanceThreshold: 30,\n\t\n\t\t// Swipe vertical displacement must be less than this.\n\t\tverticalDistanceThreshold: 30,\n\t\n\t\tgetLocation: function getLocation(event) {\n\t\t\tvar winPageX = window.pageXOffset,\n\t\t\t    winPageY = window.pageYOffset,\n\t\t\t    x = event.clientX,\n\t\t\t    y = event.clientY;\n\t\n\t\t\tif (event.pageY === 0 && Math.floor(y) > Math.floor(event.pageY) || event.pageX === 0 && Math.floor(x) > Math.floor(event.pageX)) {\n\t\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\t\tx = x - winPageX;\n\t\t\t\ty = y - winPageY;\n\t\t\t} else if (y < event.pageY - winPageY || x < event.pageX - winPageX) {\n\t\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\t\tx = event.pageX - winPageX;\n\t\t\t\ty = event.pageY - winPageY;\n\t\t\t}\n\t\n\t\t\treturn {\n\t\t\t\tx: x,\n\t\t\t\ty: y\n\t\t\t};\n\t\t},\n\t\n\t\tstart: function start(event) {\n\t\t\tvar data = event.touches ? event.touches[0] : event,\n\t\t\t    location = u.event.swipe.getLocation(data);\n\t\t\treturn {\n\t\t\t\ttime: new Date().getTime(),\n\t\t\t\tcoords: [location.x, location.y],\n\t\t\t\torigin: event.target\n\t\t\t};\n\t\t},\n\t\n\t\tstop: function stop(event) {\n\t\t\tvar data = event.touches ? event.touches[0] : event,\n\t\t\t    location = u.event.swipe.getLocation(data);\n\t\t\treturn {\n\t\t\t\ttime: new Date().getTime(),\n\t\t\t\tcoords: [location.x, location.y]\n\t\t\t};\n\t\t},\n\t\n\t\thandleSwipe: function handleSwipe(start, stop, thisObject, origTarget) {\n\t\t\tif (stop.time - start.time < u.event.swipe.durationThreshold && Math.abs(start.coords[0] - stop.coords[0]) > u.event.swipe.horizontalDistanceThreshold && Math.abs(start.coords[1] - stop.coords[1]) < u.event.swipe.verticalDistanceThreshold) {\n\t\t\t\tvar direction = start.coords[0] > stop.coords[0] ? \"swipeleft\" : \"swiperight\";\n\t\n\t\t\t\ttrigger(thisObject, \"swipe\");\n\t\t\t\ttrigger(thisObject, direction);\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\n\t\t// This serves as a flag to ensure that at most one swipe event event is\n\t\t// in work at any given time\n\t\teventInProgress: false,\n\t\n\t\tsetup: function setup() {\n\t\t\tvar events,\n\t\t\t    thisObject = this,\n\t\t\t    context = {};\n\t\n\t\t\t// Retrieve the events data for this element and add the swipe context\n\t\t\tevents = thisObject[\"mobile-events\"];\n\t\t\tif (!events) {\n\t\t\t\tevents = {\n\t\t\t\t\tlength: 0\n\t\t\t\t};\n\t\t\t\tthisObject[\"mobile-events\"] = events;\n\t\t\t}\n\t\t\tevents.length++;\n\t\t\tevents.swipe = context;\n\t\n\t\t\tcontext.start = function (event) {\n\t\n\t\t\t\t// Bail if we're already working on a swipe event\n\t\t\t\tif (u.event.swipe.eventInProgress) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tu.event.swipe.eventInProgress = true;\n\t\n\t\t\t\tvar stop,\n\t\t\t\t    start = u.event.swipe.start(event),\n\t\t\t\t    origTarget = event.target,\n\t\t\t\t    emitted = false;\n\t\n\t\t\t\tcontext.move = function (event) {\n\t\t\t\t\t// if ( !start || event.isDefaultPrevented() ) {\n\t\t\t\t\tif (!start) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tstop = u.event.swipe.stop(event);\n\t\t\t\t\tif (!emitted) {\n\t\t\t\t\t\temitted = u.event.swipe.handleSwipe(start, stop, thisObject, origTarget);\n\t\t\t\t\t\tif (emitted) {\n\t\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\t\tu.event.swipe.eventInProgress = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// prevent scrolling\n\t\t\t\t\tif (Math.abs(start.coords[0] - stop.coords[0]) > u.event.swipe.scrollSupressionThreshold) {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t};\n\t\n\t\t\t\tcontext.stop = function () {\n\t\t\t\t\temitted = true;\n\t\n\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\tu.event.swipe.eventInProgress = false;\n\t\t\t\t\toff(document, touchMoveEvent, context.move);\n\t\t\t\t\tcontext.move = null;\n\t\t\t\t};\n\t\n\t\t\t\ton(document, touchMoveEvent, context.move);\n\t\t\t\ton(document, touchStopEvent, context.stop);\n\t\t\t};\n\t\t\ton(thisObject, touchStartEvent, context.start);\n\t\t},\n\t\n\t\tteardown: function teardown() {\n\t\t\tvar events, context;\n\t\n\t\t\tevents = thisObject[\"mobile-events\"];\n\t\t\tif (events) {\n\t\t\t\tcontext = events.swipe;\n\t\t\t\tdelete events.swipe;\n\t\t\t\tevents.length--;\n\t\t\t\tif (events.length === 0) {\n\t\t\t\t\tthisObject[\"mobile-events\"] = null;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\tif (context) {\n\t\t\t\tif (context.start) {\n\t\t\t\t\toff(thisObject, touchStartEvent, context.start);\n\t\t\t\t}\n\t\t\t\tif (context.move) {\n\t\t\t\t\toff(document, touchMoveEvent, context.move);\n\t\t\t\t}\n\t\t\t\tif (context.stop) {\n\t\t\t\t\toff(document, touchStopEvent, context.stop);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t\n\tu.event.swipeleft = u.event.swipe;\n\t\n\tu.event.swiperight = u.event.swipe;\n\t\n\tvar event = u.event;\n\t\n\tvar on = function on(element, eventName, child, listener) {\n\t\tif (!element) return;\n\t\tif (arguments.length < 4) {\n\t\t\tlistener = child;\n\t\t\tchild = undefined;\n\t\t} else {\n\t\t\tvar childlistener = function childlistener(e) {\n\t\t\t\tif (!e) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tvar tmpchildren = element.querySelectorAll(child);\n\t\t\t\ttmpchildren.forEach(function (node) {\n\t\t\t\t\tif (node == e.target) {\n\t\t\t\t\t\tlistener.call(e.target, e);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t\t//capture = capture || false;\n\t\n\t\tif (!element[\"uEvent\"]) {\n\t\t\t//在dom上添加记录区\n\t\t\telement[\"uEvent\"] = {};\n\t\t}\n\t\t//判断是否元素上是否用通过on方法填加进去的事件\n\t\tif (!element[\"uEvent\"][eventName]) {\n\t\t\telement[\"uEvent\"][eventName] = [child ? childlistener : listener];\n\t\t\tif (u.event && u.event[eventName] && u.event[eventName].setup) {\n\t\t\t\tu.event[eventName].setup.call(element);\n\t\t\t}\n\t\t\telement[\"uEvent\"][eventName + 'fn'] = function (e) {\n\t\t\t\t//火狐下有问题修改判断\n\t\t\t\tif (!e) e = typeof event != 'undefined' && event ? event : window.event;\n\t\t\t\telement[\"uEvent\"][eventName].forEach(function (fn) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\te.target = e.target || e.srcElement; //兼容IE8\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t\tif (fn) fn.call(element, e);\n\t\t\t\t});\n\t\t\t};\n\t\t\tif (element.addEventListener) {\n\t\t\t\t// 用于支持DOM的浏览器\n\t\t\t\telement.addEventListener(eventName, element[\"uEvent\"][eventName + 'fn']);\n\t\t\t} else if (element.attachEvent) {\n\t\t\t\t// 用于IE浏览器\n\t\t\t\telement.attachEvent(\"on\" + eventName, element[\"uEvent\"][eventName + 'fn']);\n\t\t\t} else {\n\t\t\t\t// 用于其它浏览器\n\t\t\t\telement[\"on\" + eventName] = element[\"uEvent\"][eventName + 'fn'];\n\t\t\t}\n\t\t} else {\n\t\t\t//如果有就直接往元素的记录区添加事件\n\t\t\tvar lis = child ? childlistener : listener;\n\t\t\tvar hasLis = false;\n\t\t\telement[\"uEvent\"][eventName].forEach(function (fn) {\n\t\t\t\tif (fn == lis) {\n\t\t\t\t\thasLis = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!hasLis) {\n\t\t\t\telement[\"uEvent\"][eventName].push(child ? childlistener : listener);\n\t\t\t}\n\t\t}\n\t};\n\t\n\tvar off = function off(element, eventName, listener) {\n\t\t//删除事件数组\n\t\tif (listener) {\n\t\t\tif (element && element[\"uEvent\"] && element[\"uEvent\"][eventName]) {\n\t\t\t\telement[\"uEvent\"][eventName].forEach(function (fn, i) {\n\t\t\t\t\tif (fn == listener) {\n\t\t\t\t\t\telement[\"uEvent\"][eventName].splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\tvar eventfn = element[\"uEvent\"][eventName + 'fn'];\n\t\tif (element.removeEventListener) {\n\t\t\t// 用于支持DOM的浏览器\n\t\t\telement.removeEventListener(eventName, eventfn);\n\t\t} else if (element.removeEvent) {\n\t\t\t// 用于IE浏览器\n\t\t\telement.removeEvent(\"on\" + eventName, eventfn);\n\t\t} else {\n\t\t\t// 用于其它浏览器\n\t\t\tdelete element[\"on\" + eventName];\n\t\t}\n\t\tif (u.event && u.event[eventName] && u.event[eventName].teardown) {\n\t\t\tu.event[eventName].teardown.call(element);\n\t\t}\n\t\telement[\"uEvent\"][eventName] = undefined;\n\t\telement[\"uEvent\"][eventName + 'fn'] = undefined;\n\t};\n\tvar trigger = function trigger(element, eventName) {\n\t\tif (element[\"uEvent\"] && element[\"uEvent\"][eventName]) {\n\t\t\telement[\"uEvent\"][eventName + 'fn']();\n\t\t}\n\t};\n\t\n\t/**\n\t * 阻止冒泡\n\t */\n\tvar stopEvent = function stopEvent(e) {\n\t\tif (typeof e != \"undefined\") {\n\t\t\tif (e.stopPropagation) e.stopPropagation();else {\n\t\t\t\te.cancelBubble = true;\n\t\t\t}\n\t\t\t//阻止默认浏览器动作(W3C)\n\t\t\tif (e && e.preventDefault) e.preventDefault();\n\t\t\t//IE中阻止函数器默认动作的方式\n\t\t\telse window.event.returnValue = false;\n\t\t}\n\t};\n\t\n\texports.on = on;\n\texports.off = off;\n\texports.trigger = trigger;\n\texports.stopEvent = stopEvent;\n\texports.event = event;\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.env = undefined;\n\t\n\tvar _extend = __webpack_require__(7);\n\t\n\tvar u = {}; /**\n\t             * Module : Sparrow browser environment\n\t             * Author : Kvkens(yueming@yonyou.com)\n\t             * Date\t  : 2016-07-27 21:46:50\n\t             */\n\t\n\t(0, _extend.extend)(u, {\n\t\tisIE: false,\n\t\tisFF: false,\n\t\tisOpera: false,\n\t\tisChrome: false,\n\t\tisSafari: false,\n\t\tisWebkit: false,\n\t\tisIE8_BEFORE: false,\n\t\tisIE8: false,\n\t\tisIE8_CORE: false,\n\t\tisIE9: false,\n\t\tisIE9_CORE: false,\n\t\tisIE10: false,\n\t\tisIE10_ABOVE: false,\n\t\tisIE11: false,\n\t\tisIOS: false,\n\t\tisIphone: false,\n\t\tisIPAD: false,\n\t\tisStandard: false,\n\t\tversion: 0,\n\t\tisWin: false,\n\t\tisUnix: false,\n\t\tisLinux: false,\n\t\tisAndroid: false,\n\t\tisMac: false,\n\t\thasTouch: false,\n\t\tisMobile: false\n\t});\n\t\n\t(function () {\n\t\tvar userAgent = navigator.userAgent,\n\t\t    rMsie = /(msie\\s|trident.*rv:)([\\w.]+)/,\n\t\t    rFirefox = /(firefox)\\/([\\w.]+)/,\n\t\t    rOpera = /(opera).+version\\/([\\w.]+)/,\n\t\t    rChrome = /(chrome)\\/([\\w.]+)/,\n\t\t    rSafari = /version\\/([\\w.]+).*(safari)/,\n\t\t    version,\n\t\t    ua = userAgent.toLowerCase(),\n\t\t    s,\n\t\t    browserMatch = {\n\t\t\tbrowser: \"\",\n\t\t\tversion: ''\n\t\t},\n\t\t    match = rMsie.exec(ua);\n\t\n\t\tif (match != null) {\n\t\t\tbrowserMatch = {\n\t\t\t\tbrowser: \"IE\",\n\t\t\t\tversion: match[2] || \"0\"\n\t\t\t};\n\t\t}\n\t\tmatch = rFirefox.exec(ua);\n\t\tif (match != null) {\n\t\t\tbrowserMatch = {\n\t\t\t\tbrowser: match[1] || \"\",\n\t\t\t\tversion: match[2] || \"0\"\n\t\t\t};\n\t\t}\n\t\tmatch = rOpera.exec(ua);\n\t\tif (match != null) {\n\t\t\tbrowserMatch = {\n\t\t\t\tbrowser: match[1] || \"\",\n\t\t\t\tversion: match[2] || \"0\"\n\t\t\t};\n\t\t}\n\t\tmatch = rChrome.exec(ua);\n\t\tif (match != null) {\n\t\t\tbrowserMatch = {\n\t\t\t\tbrowser: match[1] || \"\",\n\t\t\t\tversion: match[2] || \"0\"\n\t\t\t};\n\t\t}\n\t\tmatch = rSafari.exec(ua);\n\t\tif (match != null) {\n\t\t\tbrowserMatch = {\n\t\t\t\tbrowser: match[2] || \"\",\n\t\t\t\tversion: match[1] || \"0\"\n\t\t\t};\n\t\t}\n\t\tif (match != null) {\n\t\t\tbrowserMatch = {\n\t\t\t\tbrowser: \"\",\n\t\t\t\tversion: \"0\"\n\t\t\t};\n\t\t}\n\t\n\t\tif (s = ua.match(/opera.([\\d.]+)/)) {\n\t\t\tu.isOpera = true;\n\t\t} else if (browserMatch.browser == \"IE\" && browserMatch.version == 11) {\n\t\t\tu.isIE11 = true;\n\t\t\tu.isIE = true;\n\t\t} else if (s = ua.match(/chrome\\/([\\d.]+)/)) {\n\t\t\tu.isChrome = true;\n\t\t\tu.isStandard = true;\n\t\t} else if (s = ua.match(/version\\/([\\d.]+).*safari/)) {\n\t\t\tu.isSafari = true;\n\t\t\tu.isStandard = true;\n\t\t} else if (s = ua.match(/gecko/)) {\n\t\t\t//add by licza : support XULRunner\n\t\t\tu.isFF = true;\n\t\t\tu.isStandard = true;\n\t\t} else if (s = ua.match(/msie ([\\d.]+)/)) {\n\t\t\tu.isIE = true;\n\t\t} else if (s = ua.match(/firefox\\/([\\d.]+)/)) {\n\t\t\tu.isFF = true;\n\t\t\tu.isStandard = true;\n\t\t}\n\t\tif (ua.match(/webkit\\/([\\d.]+)/)) {\n\t\t\tu.isWebkit = true;\n\t\t}\n\t\tif (ua.match(/ipad/i)) {\n\t\t\tu.isIOS = true;\n\t\t\tu.isIPAD = true;\n\t\t\tu.isStandard = true;\n\t\t}\n\t\tif (ua.match(/iphone/i)) {\n\t\t\tu.isIOS = true;\n\t\t\tu.isIphone = true;\n\t\t}\n\t\n\t\tif (navigator.platform == \"Mac68K\" || navigator.platform == \"MacPPC\" || navigator.platform == \"Macintosh\" || navigator.platform == \"MacIntel\") {\n\t\t\t//u.isIOS = true;\n\t\t\tu.isMac = true;\n\t\t}\n\t\n\t\tif (navigator.platform == \"Win32\" || navigator.platform == \"Windows\" || navigator.platform == \"Win64\") {\n\t\t\tu.isWin = true;\n\t\t}\n\t\n\t\tif (navigator.platform == \"X11\" && !u.isWin && !u.isMac) {\n\t\t\tu.isUnix = true;\n\t\t}\n\t\tif (String(navigator.platform).indexOf(\"Linux\") > -1) {\n\t\t\tu.isLinux = true;\n\t\t}\n\t\n\t\tif (ua.indexOf('Android') > -1 || ua.indexOf('android') > -1 || ua.indexOf('Adr') > -1 || ua.indexOf('adr') > -1) {\n\t\t\tu.isAndroid = true;\n\t\t}\n\t\n\t\tu.version = version ? browserMatch.version ? browserMatch.version : 0 : 0;\n\t\tif (u.isIE) {\n\t\t\tvar intVersion = parseInt(u.version);\n\t\t\tvar mode = document.documentMode;\n\t\t\tif (mode == null) {\n\t\t\t\tif (intVersion == 6 || intVersion == 7) {\n\t\t\t\t\tu.isIE8_BEFORE = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (mode == 7) {\n\t\t\t\t\tu.isIE8_BEFORE = true;\n\t\t\t\t} else if (mode == 8) {\n\t\t\t\t\tu.isIE8 = true;\n\t\t\t\t} else if (mode == 9) {\n\t\t\t\t\tu.isIE9 = true;\n\t\t\t\t\tu.isSTANDARD = true;\n\t\t\t\t} else if (mode == 10) {\n\t\t\t\t\tu.isIE10 = true;\n\t\t\t\t\tu.isSTANDARD = true;\n\t\t\t\t\tu.isIE10_ABOVE = true;\n\t\t\t\t} else {\n\t\t\t\t\tu.isSTANDARD = true;\n\t\t\t\t}\n\t\t\t\tif (intVersion == 8) {\n\t\t\t\t\tu.isIE8_CORE = true;\n\t\t\t\t} else if (intVersion == 9) {\n\t\t\t\t\tu.isIE9_CORE = true;\n\t\t\t\t} else if (browserMatch.version == 11) {\n\t\t\t\t\tu.isIE11 = true;\n\t\t\t\t} else {}\n\t\t\t}\n\t\t}\n\t\tif (\"ontouchend\" in document) {\n\t\t\tu.hasTouch = true;\n\t\t}\n\t\tif (u.isIOS || u.isAndroid) u.isMobile = true;\n\t})();\n\t\n\tvar env = u;\n\texports.env = env;\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.extend = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }; /**\n\t                                                                                                                                                                                                                                                   * Module : Sparrow extend\n\t                                                                                                                                                                                                                                                   * Author : Kvkens(yueming@yonyou.com)\n\t                                                                                                                                                                                                                                                   * Date\t  : 2016-07-27 21:46:50\n\t                                                                                                                                                                                                                                                   */\n\t\n\tvar _enumerables = __webpack_require__(8);\n\t\n\t/**\n\t * 复制对象属性\n\t *\n\t * @param {Object}  目标对象\n\t * @param {config} 源对象\n\t */\n\tvar extend = function extend(object, config) {\n\t\tvar args = arguments,\n\t\t    options;\n\t\tif (args.length > 1) {\n\t\t\tfor (var len = 1; len < args.length; len++) {\n\t\t\t\toptions = args[len];\n\t\t\t\tif (object && options && (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n\t\t\t\t\tvar i, j, k;\n\t\t\t\t\tfor (i in options) {\n\t\t\t\t\t\tobject[i] = options[i];\n\t\t\t\t\t}\n\t\t\t\t\tif (_enumerables.enumerables) {\n\t\t\t\t\t\tfor (j = _enumerables.enumerables.length; j--;) {\n\t\t\t\t\t\t\tk = _enumerables.enumerables[j];\n\t\t\t\t\t\t\tif (options.hasOwnProperty && options.hasOwnProperty(k)) {\n\t\t\t\t\t\t\t\tobject[k] = options[k];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn object;\n\t};\n\t\n\texports.extend = extend;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t/**\n\t * Module : Sparrow extend enum\n\t * Author : Kvkens(yueming@yonyou.com)\n\t * Date\t  : 2016-07-27 21:46:50\n\t */\n\t\n\tvar U_LANGUAGES = \"i_languages\";\n\tvar U_THEME = \"u_theme\";\n\tvar U_LOCALE = \"u_locale\";\n\tvar U_USERCODE = \"usercode\";\n\t\n\tvar enumerables = true,\n\t    enumerablesTest = {\n\t\ttoString: 1\n\t},\n\t    toString = Object.prototype.toString;\n\tfor (var i in enumerablesTest) {\n\t\texports.enumerables = enumerables = null;\n\t}\n\tif (enumerables) {\n\t\texports.enumerables = enumerables = ['hasOwnProperty', 'valueOf', 'isPrototypeOf', 'propertyIsEnumerable', 'toLocaleString', 'toString', 'constructor'];\n\t}\n\t\n\texports.enumerables = enumerables;\n\texports.U_LANGUAGES = U_LANGUAGES;\n\texports.U_THEME = U_THEME;\n\texports.U_LOCALE = U_LOCALE;\n\texports.U_USERCODE = U_USERCODE;\n\n/***/ },\n/* 9 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\t/**\n\t * Module : Sparrow util tools\n\t * Author : Kvkens(yueming@yonyou.com)\n\t * Date\t  : 2016-07-27 21:46:50\n\t */\n\t\n\t/**\n\t * 创建一个带壳的对象,防止外部修改\n\t * @param {Object} proto\n\t */\n\tvar createShellObject = function createShellObject(proto) {\n\t\tvar exf = function exf() {};\n\t\texf.prototype = proto;\n\t\treturn new exf();\n\t};\n\tvar execIgnoreError = function execIgnoreError(a, b, c) {\n\t\ttry {\n\t\t\ta.call(b, c);\n\t\t} catch (e) {}\n\t};\n\t\n\tvar getFunction = function getFunction(target, val) {\n\t\tif (!val || typeof val == 'function') return val;\n\t\tif (typeof target[val] == 'function') return target[val];else if (typeof window[val] == 'function') return window[val];else if (val.indexOf('.') != -1) {\n\t\t\tvar func = getJSObject(target, val);\n\t\t\tif (typeof func == 'function') return func;\n\t\t\tfunc = getJSObject(window, val);\n\t\t\tif (typeof func == 'function') return func;\n\t\t}\n\t\treturn val;\n\t};\n\tvar getJSObject = function getJSObject(target, names) {\n\t\tif (!names) {\n\t\t\treturn;\n\t\t}\n\t\tif ((typeof names === 'undefined' ? 'undefined' : _typeof(names)) == 'object') return names;\n\t\tvar nameArr = names.split('.');\n\t\tvar obj = target;\n\t\tfor (var i = 0; i < nameArr.length; i++) {\n\t\t\tobj = obj[nameArr[i]];\n\t\t\tif (!obj) return null;\n\t\t}\n\t\treturn obj;\n\t};\n\tvar isDate = function isDate(input) {\n\t\treturn Object.prototype.toString.call(input) === '[object Date]' || input instanceof Date;\n\t};\n\tvar isNumber = function isNumber(obj) {\n\t\t//return obj === +obj\n\t\treturn obj - parseFloat(obj) + 1 >= 0;\n\t};\n\tvar isArray = Array.isArray || function (val) {\n\t\treturn Object.prototype.toString.call(val) === '[object Array]';\n\t};\n\tvar isEmptyObject = function isEmptyObject(obj) {\n\t\tvar name;\n\t\tfor (name in obj) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t};\n\tvar inArray = function inArray(node, arr) {\n\t\tif (!arr instanceof Array) {\n\t\t\tthrow \"arguments is not Array\";\n\t\t}\n\t\tfor (var i = 0, k = arr.length; i < k; i++) {\n\t\t\tif (node == arr[i]) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t};\n\tvar isDomElement = function isDomElement(obj) {\n\t\tif (window['HTMLElement']) {\n\t\t\treturn obj instanceof HTMLElement;\n\t\t} else {\n\t\t\treturn obj && obj.tagName && obj.nodeType === 1;\n\t\t}\n\t};\n\tvar each = function each(obj, callback) {\n\t\tif (obj.forEach) {\n\t\t\tobj.forEach(function (v, k) {\n\t\t\t\tcallback(k, v);\n\t\t\t});\n\t\t} else if (obj instanceof Object) {\n\t\t\tfor (var k in obj) {\n\t\t\t\tcallback(k, obj[k]);\n\t\t\t}\n\t\t} else {\n\t\t\treturn;\n\t\t}\n\t};\n\t\n\tNodeList.prototype.forEach = Array.prototype.forEach;\n\t\n\t/**\n\t * 获得字符串的字节长度\n\t */\n\tString.prototype.lengthb = function () {\n\t\t//\tvar str = this.replace(/[^\\x800-\\x10000]/g, \"***\");\n\t\tvar str = this.replace(/[^\\x00-\\xff]/g, \"**\");\n\t\treturn str.length;\n\t};\n\t\n\t/**\n\t * 将AFindText全部替换为ARepText\n\t */\n\tString.prototype.replaceAll = function (AFindText, ARepText) {\n\t\t//自定义String对象的方法\n\t\tvar raRegExp = new RegExp(AFindText, \"g\");\n\t\treturn this.replace(raRegExp, ARepText);\n\t};\n\t\n\texports.createShellObject = createShellObject;\n\texports.execIgnoreError = execIgnoreError;\n\texports.getFunction = getFunction;\n\texports.getJSObject = getJSObject;\n\texports.isDate = isDate;\n\texports.isNumber = isNumber;\n\texports.isArray = isArray;\n\texports.isEmptyObject = isEmptyObject;\n\texports.inArray = inArray;\n\texports.isDomElement = isDomElement;\n\texports.each = each;\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.hotkeys = undefined;\n\t\n\tvar _class = __webpack_require__(11);\n\t\n\tvar _extend = __webpack_require__(7);\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar hotkeys = {}; /**\n\t                   * Module : Sparrow hotKeys\n\t                   * Author : Kvkens(yueming@yonyou.com)\n\t                   * Date\t  : 2016-07-28 20:25:39\n\t                   */\n\t\n\thotkeys.special_keys = {\n\t    27: 'esc', 9: 'tab', 32: 'space', 13: 'enter', 8: 'backspace', 145: 'scroll', 20: 'capslock',\n\t    144: 'numlock', 19: 'pause', 45: 'insert', 36: 'home', 46: 'del', 35: 'end', 33: 'pageup',\n\t    34: 'pagedown', 37: 'left', 38: 'up', 39: 'right', 40: 'down', 112: 'f1', 113: 'f2', 114: 'f3',\n\t    115: 'f4', 116: 'f5', 117: 'f6', 118: 'f7', 119: 'f8', 120: 'f9', 121: 'f10', 122: 'f11', 123: 'f12'\n\t};\n\t\n\thotkeys.shift_nums = {\n\t    \"`\": \"~\", \"1\": \"!\", \"2\": \"@\", \"3\": \"#\", \"4\": \"$\", \"5\": \"%\", \"6\": \"^\", \"7\": \"&\",\n\t    \"8\": \"*\", \"9\": \"(\", \"0\": \")\", \"-\": \"_\", \"=\": \"+\", \";\": \":\", \"'\": \"\\\"\", \",\": \"<\",\n\t    \".\": \">\", \"/\": \"?\", \"\\\\\": \"|\"\n\t};\n\t\n\thotkeys.add = function (combi, options, callback) {\n\t    if ((0, _class.isFunction)(options)) {\n\t        callback = options;\n\t        options = {};\n\t    }\n\t    var opt = {},\n\t        defaults = { type: 'keydown', propagate: false, disableInInput: false, target: document.body, checkParent: true },\n\t        that = this;\n\t    opt = (0, _extend.extend)(opt, defaults, options || {});\n\t    combi = combi.toLowerCase();\n\t\n\t    // inspect if keystroke matches\n\t    var inspector = function inspector(event) {\n\t        //event = $.event.fix(event); // jQuery event normalization.\n\t        var element = this; //event.target;\n\t        // @ TextNode -> nodeType == 3\n\t        element = element.nodeType == 3 ? element.parentNode : element;\n\t\n\t        if (opt['disableInInput']) {\n\t            // Disable shortcut keys in Input, Textarea fields\n\t            var target = element; //$(element);\n\t            if (target.tagName == \"INPUT\" || target.tagName == \"TEXTAREA\") {\n\t                return;\n\t            }\n\t        }\n\t        var code = event.which,\n\t            type = event.type,\n\t            character = String.fromCharCode(code).toLowerCase(),\n\t            special = that.special_keys[code],\n\t            shift = event.shiftKey,\n\t            ctrl = event.ctrlKey,\n\t            alt = event.altKey,\n\t            propagate = true,\n\t            // default behaivour\n\t        mapPoint = null;\n\t\n\t        // in opera + safari, the event.target is unpredictable.\n\t        // for example: 'keydown' might be associated with HtmlBodyElement\n\t        // or the element where you last clicked with your mouse.\n\t        if (opt.checkParent) {\n\t            //              while (!that.all[element] && element.parentNode){\n\t            while (!element['hotkeys'] && element.parentNode) {\n\t                element = element.parentNode;\n\t            }\n\t        }\n\t\n\t        //          var cbMap = that.all[element].events[type].callbackMap;\n\t        var cbMap = element['hotkeys'].events[type].callbackMap;\n\t        if (!shift && !ctrl && !alt) {\n\t            // No Modifiers\n\t            mapPoint = cbMap[special] || cbMap[character];\n\t        }\n\t        // deals with combinaitons (alt|ctrl|shift+anything)\n\t        else {\n\t                var modif = '';\n\t                if (alt) modif += 'alt+';\n\t                if (ctrl) modif += 'ctrl+';\n\t                if (shift) modif += 'shift+';\n\t                // modifiers + special keys or modifiers + characters or modifiers + shift characters\n\t                mapPoint = cbMap[modif + special] || cbMap[modif + character] || cbMap[modif + that.shift_nums[character]];\n\t            }\n\t        if (mapPoint) {\n\t            mapPoint.cb(event);\n\t            if (!mapPoint.propagate) {\n\t                event.stopPropagation();\n\t                event.preventDefault();\n\t                return false;\n\t            }\n\t        }\n\t    };\n\t    // first hook for this element\n\t    var data = opt.target['hotkeys'];\n\t    if (!data) {\n\t        opt.target['hotkeys'] = data = { events: {} };\n\t    }\n\t    //      if (!hotkeys.all[opt.target]){\n\t    //          hotkeys.all[opt.target] = {events:{}};\n\t    //      }\n\t    if (!data.events[opt.type]) {\n\t        data.events[opt.type] = { callbackMap: {} };\n\t        on(opt.target, opt.type, inspector);\n\t        //$.event.add(opt.target, opt.type, inspector);\n\t    }\n\t    //      if (!hotkeys.all[opt.target].events[opt.type]){\n\t    //          hotkeys.all[opt.target].events[opt.type] = {callbackMap: {}}\n\t    //          $.event.add(opt.target, opt.type, inspector);\n\t    //      }\n\t    data.events[opt.type].callbackMap[combi] = { cb: callback, propagate: opt.propagate };\n\t    //      hotkeys.all[opt.target].events[opt.type].callbackMap[combi] =  {cb: callback, propagate:opt.propagate};\n\t    return hotkeys;\n\t};\n\thotkeys.remove = function (exp, opt) {\n\t    opt = opt || {};\n\t    target = opt.target || document.body;\n\t    type = opt.type || 'keydown';\n\t    exp = exp.toLowerCase();\n\t\n\t    delete target['hotkeys'].events[type].callbackMap[exp];\n\t};\n\t\n\thotkeys.scan = function (element, target) {\n\t    element = element || document.body;\n\t    element.querySelectorAll('[u-enter]').forEach(function (el) {\n\t        var enterValue = el.getAttribute('u-enter');\n\t        if (!enterValue) return;\n\t        if (enterValue.substring(0, 1) == '#') hotkeys.add('enter', { target: this }, function () {\n\t            var _el = element.querySelector(enterValue);\n\t            if (_el) {\n\t                _el.focus();\n\t            }\n\t        });else {\n\t            target = target || window;\n\t            var func = h(target, enterValue);\n\t            hotkeys.add('enter', { target: this }, function () {\n\t                func.call(this);\n\t            });\n\t        }\n\t    });\n\t    element.querySelectorAll('[u-hotkey]').forEach(function (el) {\n\t        var hotkey = el.getAttribute('u-hotkey');\n\t        if (!hotkey) return;\n\t        hotkeys.add(hotkey, function () {\n\t            el.click();\n\t        });\n\t    });\n\t};\n\t\n\tvar hotkeys = hotkeys;\n\t\n\texports.hotkeys = hotkeys;\n\n/***/ },\n/* 11 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t/**\n\t * Module : Sparrow class\n\t * Author : Kvkens(yueming@yonyou.com)\n\t * Date\t  : 2016-07-28 08:45:39\n\t */\n\t\n\tvar Class = function Class(o) {\n\t\tif (!(this instanceof Class) && isFunction(o)) {\n\t\t\treturn classify(o);\n\t\t}\n\t};\n\t\n\t// Create a new Class.\n\t//\n\t//  var SuperPig = Class.create({\n\t//    Extends: Animal,\n\t//    Implements: Flyable,\n\t//    initialize: function() {\n\t//      SuperPig.superclass.initialize.apply(this, arguments)\n\t//    },\n\t//    Statics: {\n\t//      COLOR: 'red'\n\t//    }\n\t// })\n\t//\n\tClass.create = function (parent, properties) {\n\t\tif (!isFunction(parent)) {\n\t\t\tproperties = parent;\n\t\t\tparent = null;\n\t\t}\n\t\n\t\tproperties || (properties = {});\n\t\tparent || (parent = properties.Extends || Class);\n\t\tproperties.Extends = parent;\n\t\n\t\t// The created class constructor\n\t\tfunction SubClass() {\n\t\t\tvar ret;\n\t\t\t// Call the parent constructor.\n\t\t\tparent.apply(this, arguments);\n\t\n\t\t\t// Only call initialize in self constructor.\n\t\t\tif (this.constructor === SubClass && this.initialize) {\n\t\t\t\tret = this.initialize.apply(this, arguments);\n\t\t\t}\n\t\t\treturn ret ? ret : this;\n\t\t}\n\t\n\t\t// Inherit class (static) properties from parent.\n\t\tif (parent !== Class) {\n\t\t\tmix(SubClass, parent, parent.StaticsWhiteList);\n\t\t}\n\t\n\t\t// Add instance properties to the subclass.\n\t\timplement.call(SubClass, properties);\n\t\n\t\t// Make subclass extendable.\n\t\treturn classify(SubClass);\n\t};\n\t\n\tfunction implement(properties) {\n\t\tvar key, value;\n\t\n\t\tfor (key in properties) {\n\t\t\tvalue = properties[key];\n\t\n\t\t\tif (Class.Mutators.hasOwnProperty(key)) {\n\t\t\t\tClass.Mutators[key].call(this, value);\n\t\t\t} else {\n\t\t\t\tthis.prototype[key] = value;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// Create a sub Class based on `Class`.\n\tClass.extend = function (properties) {\n\t\tproperties || (properties = {});\n\t\tproperties.Extends = this;\n\t\n\t\treturn Class.create(properties);\n\t};\n\t\n\tfunction classify(cls) {\n\t\tcls.extend = Class.extend;\n\t\tcls.implement = implement;\n\t\treturn cls;\n\t}\n\t\n\t// Mutators define special properties.\n\tClass.Mutators = {\n\t\n\t\t'Extends': function Extends(parent) {\n\t\t\tvar existed = this.prototype;\n\t\t\tvar proto = createProto(parent.prototype);\n\t\n\t\t\t// Keep existed properties.\n\t\t\tmix(proto, existed);\n\t\n\t\t\t// Enforce the constructor to be what we expect.\n\t\t\tproto.constructor = this;\n\t\n\t\t\t// Set the prototype chain to inherit from `parent`.\n\t\t\tthis.prototype = proto;\n\t\n\t\t\t// Set a convenience property in case the parent's prototype is\n\t\t\t// needed later.\n\t\t\tthis.superclass = parent.prototype;\n\t\t},\n\t\n\t\t'Implements': function Implements(items) {\n\t\t\tisArray(items) || (items = [items]);\n\t\t\tvar proto = this.prototype,\n\t\t\t    item;\n\t\n\t\t\twhile (item = items.shift()) {\n\t\t\t\tmix(proto, item.prototype || item);\n\t\t\t}\n\t\t},\n\t\n\t\t'Statics': function Statics(staticProperties) {\n\t\t\tmix(this, staticProperties);\n\t\t}\n\t};\n\t\n\t// Shared empty constructor function to aid in prototype-chain creation.\n\tfunction Ctor() {}\n\t\n\t// See: http://jsperf.com/object-create-vs-new-ctor\n\tvar createProto = Object.__proto__ ? function (proto) {\n\t\treturn {\n\t\t\t__proto__: proto\n\t\t};\n\t} : function (proto) {\n\t\tCtor.prototype = proto;\n\t\treturn new Ctor();\n\t};\n\t\n\t// Helpers\n\t// ------------\n\t\n\tfunction mix(r, s, wl) {\n\t\t// Copy \"all\" properties including inherited ones.\n\t\tfor (var p in s) {\n\t\t\tif (s.hasOwnProperty(p)) {\n\t\t\t\tif (wl && indexOf(wl, p) === -1) continue;\n\t\n\t\t\t\t// 在 iPhone 1 代等设备的 Safari 中，prototype 也会被枚举出来，需排除\n\t\t\t\tif (p !== 'prototype') {\n\t\t\t\t\tr[p] = s[p];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\tvar toString = Object.prototype.toString;\n\t\n\tvar isArray = Array.isArray || function (val) {\n\t\treturn toString.call(val) === '[object Array]';\n\t};\n\t\n\tvar isFunction = function isFunction(val) {\n\t\treturn toString.call(val) === '[object Function]';\n\t};\n\t\n\tvar indexOf = function indexOf(arr, item) {\n\t\tif (Array.prototype.indexOf && arr.indexOf) {\n\t\t\treturn arr.indexOf(item);\n\t\t} else {\n\t\t\tfor (var i = 0, len = arr.length; i < len; i++) {\n\t\t\t\tif (arr[i] === item) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t}\n\t};\n\t\n\texports.Class = Class;\n\texports.isFunction = isFunction;\n\n/***/ },\n/* 12 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * Module : kero app AdjustMetaFunc\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-29 09:34:01\n\t */\n\t\n\tvar setAdjustMetaFunc = function setAdjustMetaFunc(adjustFunc) {\n\t  this.adjustFunc = adjustFunc;\n\t};\n\t\n\texports.setAdjustMetaFunc = setAdjustMetaFunc;\n\n/***/ },\n/* 13 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero app dataTable\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-29 09:34:01\n\t */\n\t\n\tvar addDataTable = function addDataTable(dataTable) {\n\t    this.dataTables[dataTable.id] = dataTable;\n\t    return this;\n\t};\n\tvar getDataTable = function getDataTable(id) {\n\t    return this.dataTables[id];\n\t};\n\t\n\tvar getDataTables = function getDataTables() {\n\t    return this.dataTables;\n\t};\n\t\n\texports.addDataTable = addDataTable;\n\texports.getDataTable = getDataTable;\n\texports.getDataTables = getDataTables;\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.showComp = exports.getComps = exports.getCompsByType = exports.getCompsByDataTable = exports.getComp = exports.createComp = undefined;\n\t\n\tvar _compMgr = __webpack_require__(3);\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar _dom = __webpack_require__(4);\n\t\n\tvar createComp = function createComp(ele, viewModel) {\n\t    var options = JSON.parse(ele.getAttribute('u-meta'));\n\t    if (options && options['type']) {\n\t        var comp = _compMgr.compMgr.createDataAdapter({ el: ele, options: options, model: viewModel, app: this });\n\t        ele['u-meta'] = comp;\n\t    }\n\t    return comp;\n\t}; /**\n\t    * Module : kero app comp\n\t    * Author : liuyk(liuyk@yonyou.com)\n\t    * Date   : 2016-07-29 09:34:01\n\t    */\n\t\n\t\n\tvar getComp = function getComp(compId) {\n\t    var returnComp = null;\n\t    (0, _util.each)(this.elements, function (i, element) {\n\t        if (typeof element === 'string') {\n\t            element = document.querySelector(element);\n\t        }\n\t        if (element) {\n\t            element.querySelectorAll('[u-meta]').forEach(function (ele) {\n\t                if (ele['u-meta']) {\n\t                    var comp = ele['u-meta'];\n\t                    if (comp.id === compId) {\n\t                        returnComp = comp;\n\t                        return false;\n\t                    }\n\t                }\n\t            });\n\t        }\n\t    });\n\t    return returnComp;\n\t};\n\t\n\tvar getCompsByDataTable = function getCompsByDataTable(dataTableId, element) {\n\t    var comps = this.getComps(element),\n\t        targetComps = [];\n\t    for (var i = 0; i < comps.length; i++) {\n\t        if (comps[i].dataModel && comps[i].dataModel['id'] == dataTableId || comps[i].dataTable && comps[i].dataTable['id'] == dataTableId) targetComps.push(comps[i]);\n\t    }\n\t    return targetComps;\n\t};\n\t\n\t/**\n\t * 根据类型获取控件\n\t * @param {String} type\n\t * @param {object} element\n\t */\n\tvar getCompsByType = function getCompsByType(type, element) {\n\t    var elements = element ? element : this.elements;\n\t    var returnComps = [];\n\t    if (!(0, _util.isArray)(elements)) elements = [elements];\n\t    (0, _util.each)(elements, function (i, element) {\n\t        if (element) {\n\t            element.querySelectorAll('[u-meta]').forEach(function (ele) {\n\t                if (ele['u-meta']) {\n\t                    var comp = ele['u-meta'];\n\t                    if (comp && comp.type == type) returnComps.push(comp);\n\t                }\n\t            });\n\t        }\n\t    });\n\t    return returnComps;\n\t};\n\t\n\t/**\n\t * 获取某区域中的所有控件\n\t * @param {object} element\n\t */\n\tvar getComps = function getComps(element) {\n\t    var elements = element ? element : this.elements;\n\t    var returnComps = [];\n\t    if (typeof elements == 'string') {\n\t        elements = document.querySelectorAll(elements);\n\t    }\n\t    if (!(0, _util.isArray)(elements) && !(elements instanceof NodeList)) elements = [elements];\n\t    (0, _util.each)(elements, function (i, element) {\n\t        if (element) {\n\t            element.querySelectorAll('[u-meta]').forEach(function (ele) {\n\t                if (ele['u-meta']) {\n\t                    var comp = ele['u-meta'];\n\t                    if (comp) returnComps.push(comp);\n\t                }\n\t            });\n\t        }\n\t    });\n\t    return returnComps;\n\t};\n\t\n\t/**\n\t * 将comp显示到顶端（此方法只支持body上存在滚动条的情况）\n\t * @param {object} comp对象\n\t */\n\tvar showComp = function showComp(comp) {\n\t    var ele = comp.element,\n\t        off = (0, _dom.getOffset)(ele),\n\t        scroll = (0, _dom.getScroll)(ele),\n\t        top = off.top - scroll.top,\n\t        bodyHeight = document.body.clientHeight,\n\t        nowTop = document.body.scrollTop;\n\t    if (top > bodyHeight || top < 0) {\n\t        document.body.scrollTop = nowTop + top;\n\t    }\n\t};\n\t\n\texports.createComp = createComp;\n\texports.getComp = getComp;\n\texports.getCompsByDataTable = getCompsByDataTable;\n\texports.getCompsByType = getCompsByType;\n\texports.getComps = getComps;\n\texports.showComp = showComp;\n\n/***/ },\n/* 15 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\t/**\n\t * Module : kero app validate\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-07-29 09:34:01\n\t */\n\t\n\t/**\n\t * 控件数据校验\n\t * @param {Object} element\n\t */\n\tvar compsValidate = function compsValidate(element, retUnpass) {\n\t    var comps = this.getComps(element),\n\t        passed = true,\n\t        unpassed = [];\n\t    for (var i = 0; i < comps.length; i++) {\n\t        if (comps[i].doValidate) {\n\t            var result = comps[i].doValidate({ trueValue: true, showMsg: true });\n\t            result = (typeof result === 'undefined' ? 'undefined' : _typeof(result)) === 'object' ? result['passed'] : result;\n\t            passed = result && passed;\n\t            if (!result) unpassed.push(comps[i]);\n\t        }\n\t    }\n\t    if (retUnpass) return unpassed;\n\t    return passed;\n\t};\n\t\n\tvar compsValidateMultiParam = function compsValidateMultiParam(options) {\n\t    var element = options.element,\n\t        comps = this.getComps(element),\n\t        passed = true,\n\t        showMsg = options.showMsg,\n\t        notPassedArr = new Array();\n\t    for (var i = 0; i < comps.length; i++) {\n\t        if (comps[i].doValidate) {\n\t            result = comps[i].doValidate({ trueValue: true, showMsg: showMsg });\n\t            passed = result.passed && passed;\n\t            if (!result.passed) {\n\t                notPassedArr.push(result);\n\t            }\n\t        }\n\t    }\n\t    return { passed: passed,\n\t        notPassedArr: notPassedArr };\n\t};\n\t\n\texports.compsValidate = compsValidate;\n\texports.compsValidateMultiParam = compsValidateMultiParam;\n\n/***/ },\n/* 16 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero app cache\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-07-29 09:34:01\n\t */\n\t\n\tvar setUserCache = function setUserCache(key, value) {\n\t    var userCode = this.getEnvironment().usercode;\n\t    if (!userCode) return;\n\t    localStorage.setItem(userCode + key, value);\n\t};\n\t\n\tvar getUserCache = function getUserCache(key) {\n\t    var userCode = this.getEnvironment().usercode;\n\t    if (!userCode) return;\n\t    return localStorage.getItem(userCode + key);\n\t};\n\t\n\tvar removeUserCache = function removeUserCache(key) {\n\t    var userCode = this.getEnvironment().usercode;\n\t    if (!userCode) return;\n\t    localStorage.removeItem(userCode + key);\n\t};\n\t\n\tvar setCache = function setCache(key, value) {\n\t    localStorage.setItem(key, value);\n\t};\n\t\n\tvar getCache = function getCache(key) {\n\t    return localStorage.getItem(key);\n\t};\n\t\n\tvar removeCache = function removeCache(key) {\n\t    localStorage.removeItem(key);\n\t};\n\t\n\tvar setSessionCache = function setSessionCache(key, value) {\n\t    sessionStorage.setItem(key, value);\n\t};\n\t\n\tvar getSessionCache = function getSessionCache(key) {\n\t    return sessionStorage.getItem(key);\n\t};\n\t\n\tvar removeSessionCache = function removeSessionCache(key) {\n\t    sessionStorage.removeItem(key);\n\t};\n\t\n\texports.setUserCache = setUserCache;\n\texports.getUserCache = getUserCache;\n\texports.removeUserCache = removeUserCache;\n\texports.setCache = setCache;\n\texports.getCache = getCache;\n\texports.removeCache = removeCache;\n\texports.setSessionCache = setSessionCache;\n\texports.getSessionCache = getSessionCache;\n\texports.removeSessionCache = removeSessionCache;\n\n/***/ },\n/* 17 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero app iwebCore\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-29 09:34:01\n\t */\n\t\n\tvar getEnvironment = function getEnvironment() {\n\t    return window.iweb.Core.collectEnvironment();\n\t};\n\t\n\tvar setClientAttribute = function setClientAttribute(k, v) {\n\t    window.iweb.Core.setClientAttribute(k, v);\n\t};\n\t\n\tvar getClientAttribute = function getClientAttribute(k) {\n\t    return window.iweb.Core.getClientAttributes()[k];\n\t};\n\t\n\texports.getEnvironment = getEnvironment;\n\texports.setClientAttribute = setClientAttribute;\n\texports.getClientAttribute = getClientAttribute;\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.ajax = undefined;\n\t\n\tvar _ajax = __webpack_require__(19);\n\t\n\tvar ajax = function ajax(params) {\n\t    params = this._wrapAjax(params);\n\t    (0, _ajax.ajax)(params);\n\t}; /**\n\t    * Module : kero app ajax\n\t    * Author : liuyk(liuyk@yonyou.com)\n\t    * Date   : 2016-07-29 09:34:01\n\t    */\n\t\n\tvar _wrapAjax = function _wrapAjax(params) {\n\t    var self = this;\n\t    this.serverEventObj = this.serverEvent();\n\t    var orignSuccess = params.success;\n\t    var orignError = params.error;\n\t    var deferred = params.deferred;\n\t    if (!deferred || !deferred.resolve) {\n\t        deferred = {\n\t            resolve: function resolve() {}, reject: function reject() {}\n\t        };\n\t    }\n\t    params.success = function (data, state, xhr) {\n\t        if (typeof data === 'string') data = JSON.parse(data);\n\t        if (self.serverEventObj.processXHRError(self, data, state, xhr)) {\n\t            orignSuccess.call(null, data);\n\t            self._successFunc(data, deferred);\n\t        } else {\n\t            deferred.reject();\n\t        }\n\t    };\n\t    params.error = function (data, state, xhr) {\n\t        if (typeof data === 'string') data = JSON.parse(data);\n\t        if (self.serverEventObj.processXHRError(self, data, state, xhr)) {\n\t            orignError.call(null, data);\n\t            self._successFunc(data, deferred);\n\t        } else {\n\t            deferred.reject();\n\t        }\n\t    };\n\t    if (params.data) params.data.environment = ko.utils.stringifyJson(window.iweb.Core.collectEnvironment());else params.data = { environment: ko.utils.stringifyJson(window.iweb.Core.collectEnvironment()) };\n\t    return params;\n\t};\n\t\n\tvar _successFunc = function _successFunc(data, deferred) {\n\t    deferred.resolve();\n\t};\n\t\n\texports.ajax = ajax;\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.ajax = undefined;\n\t\n\tvar _env = __webpack_require__(6);\n\t\n\tvar XmlHttp = {\n\t\tget: \"get\",\n\t\tpost: \"post\",\n\t\treqCount: 4,\n\t\tcreateXhr: function createXhr() {\n\t\t\tvar xmlhttp = null;\n\t\t\t/*if (window.XMLHttpRequest) {\n\t    xmlhttp = new XMLHttpRequest();\n\t  } else {\n\t    xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t  }*/\n\t\t\tif (_env.env.isIE8) {\n\t\t\t\txmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\"); //IE低版本创建XMLHTTP\n\t\t\t} else if (_env.env.isIE) {\n\t\t\t\txmlhttp = new ActiveXObject(\"Msxml2.XMLHTTP\"); //IE高版本创建XMLHTTP\n\t\t\t} else if (window.XMLHttpRequest) {\n\t\t\t\txmlhttp = new XMLHttpRequest();\n\t\t\t}\n\t\t\treturn xmlhttp;\n\t\t},\n\t\tajax: function ajax(_json) {\n\t\t\tvar url = _json[\"url\"];\n\t\t\tvar callback = _json[\"success\"];\n\t\t\tvar async = _json[\"async\"] == undefined ? true : _json[\"async\"];\n\t\t\tvar error = _json[\"error\"];\n\t\t\tvar params = _json[\"data\"] || {};\n\t\t\tvar method = (_json[\"type\"] == undefined ? XmlHttp.post : _json[\"type\"]).toLowerCase();\n\t\t\tvar gzipFlag = params.compressType;\n\t\t\turl = XmlHttp.serializeUrl(url);\n\t\t\tparams = XmlHttp.serializeParams(params);\n\t\t\tif (method == XmlHttp.get && params != null) {\n\t\t\t\turl += \"&\" + params;\n\t\t\t\tparams = null; //如果是get请求,保证最终会执行send(null)\n\t\t\t}\n\t\n\t\t\tvar xmlhttp = XmlHttp.createXhr();\n\t\t\t//xmlhttp.open(method, url+ escape(new Date()), async);\n\t\t\txmlhttp.open(method, url, async);\n\t\n\t\t\tif (method == XmlHttp.post) {\n\t\t\t\txmlhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\");\n\t\t\t}\n\t\n\t\t\tvar execount = 0;\n\t\t\t// 异步\n\t\t\tif (async) {\n\t\t\t\t// readyState 从 1~4发生4次变化\n\t\t\t\txmlhttp.onreadystatechange = function () {\n\t\t\t\t\texecount++;\n\t\t\t\t\t// 等待readyState状态不再变化之后,再执行回调函数\n\t\t\t\t\t//if (execount == XmlHttp.reqCount) {// 火狐下存在问题，修改判断方式\n\t\t\t\t\tif (xmlhttp.readyState == XmlHttp.reqCount) {\n\t\t\t\t\t\tXmlHttp.execBack(xmlhttp, callback, error);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t// send方法要在在回调函数之后执行\n\t\t\t\txmlhttp.send(params);\n\t\t\t} else {\n\t\t\t\t// 同步 readyState 直接变为 4\n\t\t\t\t// 并且 send 方法要在回调函数之前执行\n\t\t\t\txmlhttp.send(params);\n\t\t\t\tXmlHttp.execBack(xmlhttp, callback, error);\n\t\t\t}\n\t\t},\n\t\texecBack: function execBack(xmlhttp, callback, error) {\n\t\t\t//if (xmlhttp.readyState == 4\n\t\t\tif (xmlhttp.status == 200 || xmlhttp.status == 304 || xmlhttp.readyState == 4) {\n\t\t\t\tcallback(xmlhttp.responseText, xmlhttp.status, xmlhttp);\n\t\t\t} else {\n\t\t\t\tif (error) {\n\t\t\t\t\terror(xmlhttp.responseText, xmlhttp.status, xmlhttp);\n\t\t\t\t} else {\n\t\t\t\t\tvar errorMsg = \"no error callback function!\";\n\t\t\t\t\tif (xmlhttp.responseText) {\n\t\t\t\t\t\terrorMsg = xmlhttp.responseText;\n\t\t\t\t\t}\n\t\t\t\t\talert(errorMsg);\n\t\t\t\t\t// throw errorMsg;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tserializeUrl: function serializeUrl(url) {\n\t\t\tvar cache = \"cache=\" + Math.random();\n\t\t\tif (url.indexOf(\"?\") > 0) {\n\t\t\t\turl += \"&\" + cache;\n\t\t\t} else {\n\t\t\t\turl += \"?\" + cache;\n\t\t\t}\n\t\t\treturn url;\n\t\t},\n\t\tserializeParams: function serializeParams(params) {\n\t\t\tvar ud = undefined;\n\t\t\tif (ud == params || params == null || params == \"\") {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (params.constructor == Object) {\n\t\t\t\tvar result = \"\";\n\t\t\t\tfor (var p in params) {\n\t\t\t\t\tresult += p + \"=\" + encodeURIComponent(params[p]) + \"&\";\n\t\t\t\t}\n\t\t\t\treturn result.substring(0, result.length - 1);\n\t\t\t}\n\t\t\treturn params;\n\t\t}\n\t}; /**\n\t    * Module : Sparrow ajax\n\t    * Author : Kvkens(yueming@yonyou.com)\n\t    * Date\t  : 2016-07-28 19:06:36\n\t    */\n\t\n\tvar ajax = XmlHttp.ajax;\n\texports.ajax = ajax;\n\n/***/ },\n/* 20 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero app processXHRError\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-07-29 09:34:01\n\t */\n\t\n\tvar processXHRError = function processXHRError(rsl, state, xhr) {\n\t    if (typeof rsl === 'string') rsl = JSON.parse(rsl);\n\t    if (xhr.getResponseHeader && xhr.getResponseHeader(\"X-Error\")) {\n\t        if (u.showMessageDialog) {\n\t            u.showMessageDialog({ type: \"info\", title: \"提示\", msg: rsl[\"message\"], backdrop: true });\n\t        } else {\n\t            alert(rsl[\"message\"]);\n\t        }\n\t\n\t        if (rsl[\"operate\"]) {\n\t            eval(rsl[\"operate\"]);\n\t        }\n\t        return false;\n\t    }\n\t    return true;\n\t};\n\t\n\texports.processXHRError = processXHRError;\n\n/***/ },\n/* 21 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * Module : kero app serverEvent\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-29 09:34:01\n\t */\n\t\n\tvar serverEvent = function serverEvent() {\n\t  return new ServerEvent(this);\n\t};\n\t\n\texports.serverEvent = serverEvent;\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.setEnable = undefined;\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar setEnable = function setEnable(enable) {\n\t    (0, _util.each)(this.elements, function (i, element) {\n\t        if (element) {\n\t            element.querySelectorAll('[u-meta]').each(function () {\n\t                if (this['u-meta']) {\n\t                    var comp = this['u-meta'];\n\t                    if (comp.setEnable) comp.setEnable(enable);\n\t                }\n\t            });\n\t        }\n\t    });\n\t}; /**\n\t    * Module : kero app util\n\t    * Author : liuyk(liuyk@yonyou.com)\n\t    * Date   : 2016-07-29 09:34:01\n\t    */\n\t\n\texports.setEnable = setEnable;\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.ServerEvent = undefined;\n\t\n\tvar _serverDataTable = __webpack_require__(24);\n\t\n\tvar _serverFire = __webpack_require__(25);\n\t\n\tvar _serverProcessXHRError = __webpack_require__(26);\n\t\n\tvar _serverUtil = __webpack_require__(27);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * Module : Kero webpack entry serverEvnet index\n\t                                                                                                                                                           * Author : liuyk(liuyuekai@yonyou.com)\n\t                                                                                                                                                           * Date   : 2016-08-09 15:24:46\n\t                                                                                                                                                           */\n\t\n\t//相关依赖导入\n\t\n\t\n\tvar ServerEvent = function ServerEvent(app) {\n\t    _classCallCheck(this, ServerEvent);\n\t\n\t    this.app = app;\n\t    this.datas = {};\n\t    this.params = {};\n\t    this.event = null;\n\t    this.ent = window.iweb.Core.collectEnvironment();\n\t    if (!iweb.debugMode) {\n\t        //此处需要修改\n\t        this.compression = true;\n\t    }\n\t\n\t    // dataTable \n\t    this.addDataTable = _serverDataTable.addDataTable;\n\t    this.addDataTables = _serverDataTable.addDataTables;\n\t    this.addAllDataTables = _serverDataTable.addAllDataTables;\n\t    this.updateDataTables = _serverDataTable.updateDataTables;\n\t\n\t    // fire\n\t    this.fire = _serverFire.fire;\n\t    this.setSuccessFunc = _serverFire.setSuccessFunc;\n\t\n\t    // processXHRError\n\t    this.processXHRError = _serverProcessXHRError.processXHRError;\n\t\n\t    //util\n\t    this.setCompression = _serverUtil.setCompression;\n\t    this.addParameter = _serverUtil.addParameter;\n\t    this.setEvent = _serverUtil.setEvent;\n\t    this.getData = _serverUtil.getData;\n\t    this.updateDom = _serverUtil.updateDom;\n\t};\n\t\n\tServerEvent.DEFAULT = {\n\t    async: true,\n\t    singleton: true,\n\t    url: (window.$ctx || '/iwebap') + '/evt/dispatch'\n\t};\n\t\n\texports.ServerEvent = ServerEvent;\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.updateDataTables = exports.addAllDataTables = exports.addDataTables = exports.addDataTable = undefined;\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar addDataTable = function addDataTable(dataTableId, rule) {\n\t    var dataTable = this.app.getDataTable(dataTableId);\n\t    this.datas[dataTableId] = dataTable.getDataByRule(rule);\n\t    return this;\n\t};\n\t\n\t/**\n\t *\n\t * @param {Object} dataTabels\n\t * 格式1: ['dt1',{'dt2':'all'}]，格式2：['dt1', 'dt2']，格式3: ['dt1', 'dt2'], 'all'\n\t */\n\t/**\n\t * Module : kero app serverEvent dataTable\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-29 09:34:01\n\t */\n\tvar addDataTables = function addDataTables(dataTables) {\n\t    if (arguments.length == 2) {\n\t        for (var i = 0; i < dataTables.length; i++) {\n\t            var rule;\n\t            if (typeof arguments[1] == 'string') {\n\t                rule = arguments[1];\n\t            } else if ((0, _util.isArray)(arguments[1])) {\n\t                rule = arguments[1][i];\n\t            }\n\t            this.addDataTable(dataTables[i], rule);\n\t        }\n\t    } else {\n\t        for (var i = 0; i < dataTables.length; i++) {\n\t            var dt = dataTables[i];\n\t            if (typeof dt == 'string') this.addDataTable(dt);else {\n\t                for (key in dt) {\n\t                    this.addDataTable(key, dt[key]);\n\t                }\n\t            }\n\t        }\n\t    }\n\t\n\t    return this;\n\t};\n\t\n\tvar addAllDataTables = function addAllDataTables(rule) {\n\t    var dts = this.app.dataTables;\n\t    for (var i = 0; i < dts.length; i++) {\n\t        this.addDataTable(dts[i].id, rule);\n\t    }\n\t};\n\t\n\tvar updateDataTables = function updateDataTables(dataTables, deferred) {\n\t    for (var key in dataTables) {\n\t        var dt = this.app.getDataTable(key);\n\t        if (dt) {\n\t            dt.setData(dataTables[key]);\n\t            dt.updateMeta(dataTables[key].meta);\n\t        }\n\t    }\n\t};\n\t\n\texports.addDataTable = addDataTable;\n\texports.addDataTables = addDataTables;\n\texports.addAllDataTables = addAllDataTables;\n\texports.updateDataTables = updateDataTables;\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.setSuccessFunc = exports.fire = undefined;\n\t\n\tvar _extend = __webpack_require__(7);\n\t\n\tvar _ajax = __webpack_require__(19);\n\t\n\t/**\n\t * Module : kero app serverEvent fire\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-29 09:34:01\n\t */\n\tvar fire = function fire(p) {\n\t    var self = this;\n\t    var data = this.getData();\n\t    data.parameters = ko.utils.stringifyJson(this.params);\n\t    var params = {\n\t        type: p.type || \"POST\",\n\t        data: p.params || {},\n\t        url: p.url || ServerEvent.DEFAULT.url,\n\t        async: typeof p.async == 'undefined' ? ServerEvent.DEFAULT.async : p.async,\n\t        singleton: p.singleton || ServerEvent.DEFAULT.singleton,\n\t        success: p.success,\n\t        error: p.error,\n\t        dataType: 'json'\n\t    };\n\t    params.data.ctrl = p.ctrl;\n\t    params.data.method = p.method;\n\t    if (this.event) params.data.event = ko.utils.stringifyJson(this.event);\n\t    var preSuccess = p.preSuccess || function () {};\n\t    var orignSuccess = p.success || function () {};\n\t    var orignError = params.error; //|| function(){}\n\t    this.orignError = orignError;\n\t    var deferred = params.deferred;\n\t    if (!deferred || !deferred.resolve) {\n\t        deferred = {\n\t            resolve: function resolve() {}, reject: function reject() {}\n\t        };\n\t    }\n\t    params.success = function (data, state, xhr) {\n\t        if (typeof data === 'string') data = JSON.parse(data);\n\t        if (self.processXHRError(self, data, state, xhr)) {\n\t            preSuccess.call(null, data);\n\t            self._successFunc(data, deferred);\n\t            orignSuccess.call(null, data.custom);\n\t            deferred.resolve();\n\t        } else {\n\t            deferred.reject();\n\t        }\n\t    };\n\t    params.error = function (data, state, xhr) {\n\t        if (typeof data === 'string') data = JSON.parse(data);\n\t        if (self.processXHRError(self, data, state, xhr)) {\n\t            if (orignError) orignError.call(null, data.custom);\n\t            //\t\t\t\tself._successFunc(data, deferred)\n\t        } else {\n\t            deferred.reject();\n\t        }\n\t    };\n\t    params.data = (0, _extend.extend)(params.data, data);\n\t    (0, _ajax.ajax)(params);\n\t};\n\t\n\tvar _successFunc = function _successFunc(data, deferred) {\n\t    if (typeof data === 'string') data = JSON.parse(data);\n\t    var dataTables = data.dataTables;\n\t    var dom = data.dom;\n\t    if (dom) this.updateDom(JSON.parse(dom));\n\t    if (dataTables) this.updateDataTables(dataTables, deferred);\n\t};\n\t\n\tvar setSuccessFunc = function setSuccessFunc(func) {\n\t    this._successFunc = func;\n\t};\n\t\n\texports.fire = fire;\n\texports.setSuccessFunc = setSuccessFunc;\n\n/***/ },\n/* 26 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero app serverEvent processXHRError\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-07-29 09:34:01\n\t */\n\t\n\tvar processXHRError = function processXHRError(self, rsl, state, xhr) {\n\t    if (typeof rsl === 'string') rsl = JSON.parse(rsl);\n\t    if (xhr.getResponseHeader && xhr.getResponseHeader(\"X-Error\")) {\n\t        if (self.orignError) self.orignError.call(self, rsl, state, xhr);else {\n\t            if (u.showMessageDialog) u.showMessageDialog({ type: \"info\", title: \"提示\", msg: rsl[\"message\"], backdrop: true });else alert(rsl[\"message\"]);\n\t            if (rsl[\"operate\"]) {\n\t                eval(rsl[\"operate\"]);\n\t            }\n\t        }\n\t        return false;\n\t    }\n\t    return true;\n\t};\n\t\n\texports.processXHRError = processXHRError;\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.updateDom = exports.getData = exports.setEvent = exports.addParameter = exports.setCompression = undefined;\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar _event = __webpack_require__(5);\n\t\n\t/**\n\t * Module : kero app serverEvent util\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-07-29 09:34:01\n\t */\n\tvar setCompression = function setCompression(compression) {\n\t    if (!iweb.browser.isIE8 && !window.pako && compression == true) iweb.log.error(\"can't compression, please include  pako!\");else this.compression = compression;\n\t};\n\t\n\tvar addParameter = function addParameter(key, value) {\n\t    this.params[key] = value;\n\t    return this;\n\t};\n\t\n\tvar setEvent = function setEvent(event) {\n\t    this.event = _formatEvent(event);\n\t    return this;\n\t};\n\t\n\tvar _formatEvent = function _formatEvent(event) {\n\t    return event;\n\t};\n\t\n\tvar getData = function getData() {\n\t    var envJson = ko.utils.stringifyJson(this.app.getEnvironment()),\n\t        datasJson = ko.utils.stringifyJson(this.datas, function replacer(key, value) {\n\t        if (typeof value === \"undefined\" || value == null) {\n\t            return '';\n\t        }\n\t        return value;\n\t    }),\n\t        compressType = '',\n\t        compression = false;\n\t    if (window.trimServerEventData) {\n\t        datasJson = window.trimServerEventData(datasJson);\n\t    }\n\t    if (this.compression) {\n\t        if (!iweb.browser.isIE8 && window.pako) {\n\t            envJson = encodeBase64(window.pako.gzip(envJson));\n\t            datasJson = encodeBase64(window.pako.gzip(datasJson));\n\t            compression = true;\n\t            compressType = 'gzip';\n\t        }\n\t    }\n\t    return {\n\t        environment: envJson,\n\t        dataTables: datasJson,\n\t        compression: compression,\n\t        compressType: compressType\n\t    };\n\t};\n\t\n\tvar updateDom = function updateDom() {\n\t    (0, _util.each)(dom, function (i, n) {\n\t        var vo = n.two;\n\t        var key = n.one;\n\t        _updateDom(key, vo);\n\t    });\n\t};\n\t\n\t//TODO 去除jQuery后有问题待修改\n\tfunction _updateDom(key, vos) {\n\t    for (var i in vos) {\n\t        var vo = vos[i];\n\t        for (var key in vo) {\n\t            var props = vo[key];\n\t            if (key == 'trigger') {\n\t                (0, _event.trigger)(key, props[0]);\n\t            } else {\n\t                if (u.isArray(props)) {\n\t                    (0, _util.each)(props, function (i, n) {\n\t                        key[i](n);\n\t                    });\n\t                } else try {\n\t                    key[i](vo);\n\t                } catch (error) {\n\t                    key[i](vo[i]);\n\t                }\n\t            }\n\t        }\n\t    }\n\t}\n\t\n\texports.setCompression = setCompression;\n\texports.addParameter = addParameter;\n\texports.setEvent = setEvent;\n\texports.getData = getData;\n\texports.updateDom = updateDom;\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.DataTable = undefined;\n\t\n\tvar _indexEvents = __webpack_require__(29);\n\t\n\tvar _copyRow = __webpack_require__(31);\n\t\n\tvar _data = __webpack_require__(32);\n\t\n\tvar _enable = __webpack_require__(33);\n\t\n\tvar _getCurrent = __webpack_require__(34);\n\t\n\tvar _getData = __webpack_require__(35);\n\t\n\tvar _getFocus = __webpack_require__(36);\n\t\n\tvar _getMeta = __webpack_require__(37);\n\t\n\tvar _getPage = __webpack_require__(38);\n\t\n\tvar _getParam = __webpack_require__(39);\n\t\n\tvar _getSelect = __webpack_require__(40);\n\t\n\tvar _getSimpleData = __webpack_require__(41);\n\t\n\tvar _meta = __webpack_require__(42);\n\t\n\tvar _page = __webpack_require__(43);\n\t\n\tvar _param = __webpack_require__(44);\n\t\n\tvar _ref = __webpack_require__(45);\n\t\n\tvar _removeRow = __webpack_require__(46);\n\t\n\tvar _row = __webpack_require__(48);\n\t\n\tvar _rowCurrent = __webpack_require__(49);\n\t\n\tvar _rowDelete = __webpack_require__(50);\n\t\n\tvar _rowSelect = __webpack_require__(51);\n\t\n\tvar _rowFocus = __webpack_require__(52);\n\t\n\tvar _simpleData = __webpack_require__(53);\n\t\n\tvar _util = __webpack_require__(47);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Module : Kero webpack entry dataTable index\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Author : liuyk(liuyuekai@yonyou.com)\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Date   : 2016-08-09 15:24:46\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar DataTable = function (_Events) {\n\t    _inherits(DataTable, _Events);\n\t\n\t    function DataTable(options) {\n\t        _classCallCheck(this, DataTable);\n\t\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DataTable).call(this));\n\t\n\t        options = options || {};\n\t        _this.id = options['id'];\n\t        _this.strict = options['strict'] || false;\n\t        _this.meta = DataTable.createMetaItems(options['meta']);\n\t        _this.enable = options['enable'] || DataTable.DEFAULTS.enable;\n\t        _this.pageSize = ko.observable(options['pageSize'] || DataTable.DEFAULTS.pageSize);\n\t        _this.pageIndex = ko.observable(options['pageIndex'] || DataTable.DEFAULTS.pageIndex);\n\t        _this.totalPages = ko.observable(options['totalPages'] || DataTable.DEFAULTS.totalPages);\n\t        _this.totalRow = ko.observable();\n\t        _this.pageCache = options['pageCache'] === undefined ? DataTable.DEFAULTS.pageCache : options['pageCache'];\n\t        _this.rows = ko.observableArray([]);\n\t        _this.selectedIndices = ko.observableArray([]);\n\t        _this._oldCurrentIndex = -1;\n\t        _this.focusIndex = ko.observable(-1);\n\t        _this.cachedPages = [];\n\t        _this.metaChange = {};\n\t        _this.valueChange = {}; //ko.observable(1);\n\t        _this.currentRowChange = ko.observable(1);\n\t        _this.enableChange = ko.observable(1);\n\t        _this.params = options['params'] || {};\n\t        _this.master = options['master'] || '';\n\t        _this.allSelected = ko.observable(false);\n\t        if (options['root']) {\n\t            _this.root = options['root'];\n\t        } else {\n\t            _this.root = _this;\n\t        }\n\t        if (options['ns']) {\n\t            _this.ns = options['ns'];\n\t        } else {\n\t            _this.ns = '';\n\t        }\n\t\n\t        //copyRow\n\t        _this.copyRow = _copyRow.copyRow;\n\t        _this.copyRows = _copyRow.copyRows;\n\t\n\t        //data\n\t        _this.setData = _data.setData;\n\t        _this.setValue = _data.setValue;\n\t\n\t        //enable\n\t        _this.isEnable = _enable.isEnable;\n\t        _this.setEnable = _enable.setEnable;\n\t\n\t        //getData\n\t        _this.getData = _getData.getData;\n\t        _this.getDataByRule = _getData.getDataByRule;\n\t        _this.getRow = _getData.getRow;\n\t        _this.getRowByRowId = _getData.getRowByRowId;\n\t        _this.getRowIndex = _getData.getRowIndex;\n\t        _this.getRowsByField = _getData.getRowsByField;\n\t        _this.getRowByField = _getData.getRowByField;\n\t        _this.getAllRows = _getData.getAllRows;\n\t        _this.getAllPageRows = _getData.getAllPageRows;\n\t        _this.getChangedDatas = _getData.getChangedDatas;\n\t        _this.getChangedRows = _getData.getChangedRows;\n\t        _this.getValue = _getData.getValue;\n\t        _this.getIndexByRowId = _getData.getIndexByRowId;\n\t        _this.getAllDatas = _getData.getAllDatas;\n\t        _this.getRowIdsByIndices = _getData.getRowIdsByIndices;\n\t\n\t        //getCurrent\n\t        _this.getCurrentRow = _getCurrent.getCurrentRow;\n\t        _this.getCurrentIndex = _getCurrent.getCurrentIndex;\n\t\n\t        //getFocus\n\t        _this.getFocusRow = _getFocus.getFocusRow;\n\t        _this.getFocusIndex = _getFocus.getFocusIndex;\n\t\n\t        //getMeta\n\t        _this.getMeta = _getMeta.getMeta;\n\t        _this.getRowMeta = _getMeta.getRowMeta;\n\t\n\t        //getPage\n\t        _this.getPage = _getPage.getPage;\n\t        _this.getPages = _getPage.getPages;\n\t\n\t        //getParam\n\t        _this.getParam = _getParam.getParam;\n\t\n\t        //getSelect\n\t        _this.getSelectedIndex = _getSelect.getSelectedIndex;\n\t        _this.getSelectedIndices = _getSelect.getSelectedIndices;\n\t        _this.getSelectedIndexs = _getSelect.getSelectedIndexs;\n\t        _this.getSelectedDatas = _getSelect.getSelectedDatas;\n\t        _this.getSelectedRows = _getSelect.getSelectedRows;\n\t\n\t        //getSimpleData\n\t        _this.getSimpleData = _getSimpleData.getSimpleData;\n\t\n\t        //meta\n\t        _this.setMeta = _meta.setMeta;\n\t        _this.updateMeta = _meta.updateMeta;\n\t        _this.createField = _meta.createField;\n\t\n\t        //page\n\t        _this.setCurrentPage = _page.setCurrentPage;\n\t        _this.updatePages = _page.updatePages;\n\t        _this.setPages = _page.setPages;\n\t        _this.hasPage = _page.hasPage;\n\t        _this.clearCache = _page.clearCache;\n\t        _this.cacheCurrentPage = _page.cacheCurrentPage;\n\t\n\t        //param\n\t        _this.addParam = _param.addParam;\n\t        _this.addParams = _param.addParams;\n\t\n\t        //ref\n\t        _this.refSelectedRows = _ref.refSelectedRows;\n\t        _this.ref = _ref.ref;\n\t        _this.refMeta = _ref.refMeta;\n\t        _this.refRowMeta = _ref.refRowMeta;\n\t        _this.refEnable = _ref.refEnable;\n\t\n\t        //row\n\t        _this.setRows = _row.setRows;\n\t        _this.addRow = _row.addRow;\n\t        _this.addRows = _row.addRows;\n\t        _this.insertRow = _row.insertRow;\n\t        _this.insertRows = _row.insertRows;\n\t        _this.createEmptyRow = _row.createEmptyRow;\n\t\n\t        //removeRow\n\t        _this.removeRowByRowId = _removeRow.removeRowByRowId;\n\t        _this.removeRow = _removeRow.removeRow;\n\t        _this.removeAllRows = _removeRow.removeAllRows;\n\t        _this.removeRows = _removeRow.removeRows;\n\t        _this.clear = _removeRow.clear;\n\t\n\t        //rowCurrent\n\t        _this.updateCurrIndex = _rowCurrent.updateCurrIndex;\n\t\n\t        //rowDelete\n\t        _this.setRowDelete = _rowDelete.setRowDelete;\n\t        _this.setAllRowsDelete = _rowDelete.setAllRowsDelete;\n\t        _this.setRowsDelete = _rowDelete.setRowsDelete;\n\t\n\t        //rowFocus\n\t        _this.setRowFocus = _rowFocus.setRowFocus;\n\t        _this.setRowUnFocus = _rowFocus.setRowUnFocus;\n\t        _this.updateFocusIndex = _rowFocus.updateFocusIndex;\n\t\n\t        //rowSelect\n\t        _this.setAllRowsSelect = _rowSelect.setAllRowsSelect;\n\t        _this.setRowSelect = _rowSelect.setRowSelect;\n\t        _this.setRowsSelect = _rowSelect.setRowsSelect;\n\t        _this.addRowSelect = _rowSelect.addRowSelect;\n\t        _this.addRowsSelect = _rowSelect.addRowsSelect;\n\t        _this.setAllRowsUnSelect = _rowSelect.setAllRowsUnSelect;\n\t        _this.setRowUnSelect = _rowSelect.setRowUnSelect;\n\t        _this.setRowsUnSelect = _rowSelect.setRowsUnSelect;\n\t        _this.toggleAllSelect = _rowSelect.toggleAllSelect;\n\t        _this.updateSelectedIndices = _rowSelect.updateSelectedIndices;\n\t\n\t        //simpleData\n\t        _this.setSimpleData = _simpleData.setSimpleData;\n\t        _this.addSimpleData = _simpleData.addSimpleData;\n\t\n\t        //util\n\t        _this.isChanged = _util.isChanged;\n\t        return _this;\n\t    }\n\t\n\t    return DataTable;\n\t}(_indexEvents.Events);\n\t\n\tDataTable.DEFAULTS = {\n\t    pageSize: 20,\n\t    pageIndex: 0,\n\t    totalPages: 20,\n\t    pageCache: false,\n\t    enable: true\n\t};\n\t\n\tDataTable.META_DEFAULTS = {\n\t    enable: true,\n\t    required: false,\n\t    descs: {}\n\t};\n\t\n\t//事件类型\n\tDataTable.ON_ROW_SELECT = 'select';\n\tDataTable.ON_ROW_UNSELECT = 'unSelect';\n\tDataTable.ON_ROW_ALLSELECT = 'allSelect';\n\tDataTable.ON_ROW_ALLUNSELECT = 'allUnselect';\n\tDataTable.ON_VALUE_CHANGE = 'valueChange';\n\tDataTable.ON_CURRENT_VALUE_CHANGE = 'currentValueChange'; //当前行变化\n\t//  DataTable.ON_AFTER_VALUE_CHANGE = 'afterValueChange'\n\t//  DataTable.ON_ADD_ROW = 'addRow'\n\tDataTable.ON_INSERT = 'insert';\n\tDataTable.ON_UPDATE = 'update';\n\tDataTable.ON_CURRENT_UPDATE = 'currentUpdate';\n\tDataTable.ON_DELETE = 'delete';\n\tDataTable.ON_DELETE_ALL = 'deleteAll';\n\tDataTable.ON_ROW_FOCUS = 'focus';\n\tDataTable.ON_ROW_UNFOCUS = 'unFocus';\n\tDataTable.ON_LOAD = 'load';\n\tDataTable.ON_ENABLE_CHANGE = 'enableChange';\n\tDataTable.ON_META_CHANGE = 'metaChange';\n\tDataTable.ON_ROW_META_CHANGE = 'rowMetaChange';\n\tDataTable.ON_CURRENT_META_CHANGE = 'currentMetaChange';\n\tDataTable.ON_CURRENT_ROW_CHANGE = 'currentRowChange';\n\t\n\tDataTable.SUBMIT = {\n\t    current: 'current',\n\t    focus: 'focus',\n\t    all: 'all',\n\t    select: 'select',\n\t    change: 'change',\n\t    empty: 'empty',\n\t    allSelect: 'allSelect',\n\t    allPages: 'allPages'\n\t};\n\t\n\tDataTable.createMetaItems = function (metas) {\n\t    var newMetas = {};\n\t    for (var key in metas) {\n\t        var meta = metas[key];\n\t        if (typeof meta == 'string') meta = {};\n\t        newMetas[key] = u.extend({}, DataTable.META_DEFAULTS, meta);\n\t    }\n\t    return newMetas;\n\t};\n\t\n\texports.DataTable = DataTable;\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Events = undefined;\n\t\n\tvar _events = __webpack_require__(30);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * Module : Kero webpack entry events index\n\t                                                                                                                                                           * Author : liuyk(liuyuekai@yonyou.com)\n\t                                                                                                                                                           * Date   : 2016-08-09 15:24:46\n\t                                                                                                                                                           */\n\t\n\t//相关依赖导入\n\t\n\t\n\tvar Events = function Events() {\n\t    _classCallCheck(this, Events);\n\t\n\t    this.on = _events.on;\n\t    this.off = _events.off;\n\t    this.one = _events.one;\n\t    this.trigger = _events.trigger;\n\t    this.getEvent = _events.getEvent;\n\t};\n\t\n\texports.Events = Events;\n\n/***/ },\n/* 30 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\t/**\n\t * Module : kero dataTable events\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-07-30 14:34:01\n\t */\n\t\n\t/**\n\t * 绑定事件\n\t * 支持的格式： 1. on(u.DataTable.ON_ROW_FOCUS, function() {}) // 普通\n\t * 2. on([u.DataTable.ON_INSERT, u.DataTable.ON_DELETE], function() {}) // 数组\n\t * 3. on({u.DataTable.ON_INSERT: function() {}, u.DataTable.ON_DELETE: function() {}}) // map\n\t */\n\tvar on = function on(name, _callback, one) {\n\t    var self = this,\n\t        origCb = _callback;\n\t    if (Object.prototype.toString.call(name) == '[object Array]') {\n\t        // 数组\n\t        for (var i in name) {\n\t            this.on(name[i], _callback);\n\t        }\n\t        return this;\n\t    } else if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) == 'object') {\n\t        // map\n\t        for (var key in name) {\n\t            this.on(key, name[key]);\n\t        }\n\t        return this;\n\t    }\n\t    if (one) {\n\t        _callback = function callback() {\n\t            self.off(name, _callback);\n\t            origCb.apply(this, arguments);\n\t        };\n\t    }\n\t    name = name.toLowerCase();\n\t    this._events || (this._events = {});\n\t    var events = this._events[name] || (this._events[name] = []);\n\t    events.push({\n\t        callback: _callback\n\t    });\n\t    return this;\n\t};\n\t\n\t/**\n\t * 解绑事件\n\t * \n\t**/\n\tvar off = function off(name, callback) {\n\t    if (Object.prototype.toString.call(name) == '[object Array]') {\n\t        // 数组\n\t        for (var i in name) {\n\t            this.off(name[i], callback);\n\t        }\n\t        return this;\n\t    } else if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) == 'object') {\n\t        // map\n\t        for (var key in name) {\n\t            this.off(key, name[key]);\n\t        }\n\t        return this;\n\t    }\n\t    var cbs = this._events[name];\n\t    if (!cbs) return this;\n\t    if (!callback) {\n\t        // 解绑所有事件\n\t        cbs = null;\n\t    } else {\n\t        for (var i = cbs.length - 1; i >= 0; i--) {\n\t            if (cbs[i] == callback) {\n\t                cbs.splice(i, 1);\n\t            }\n\t        }\n\t    }\n\t    return this;\n\t};\n\t\n\t/**\n\t * \n\t**/\n\tvar one = function one(name, callback) {\n\t    this.on(name, callback, 1);\n\t};\n\t\n\t/**\n\t * 触发事件\n\t */\n\tvar trigger = function trigger(name) {\n\t    name = name.toLowerCase();\n\t    if (!this._events || !this._events[name]) return this;\n\t    var args = Array.prototype.slice.call(arguments, 1);\n\t    var events = this._events[name];\n\t    for (var i = 0, count = events.length; i < count; i++) {\n\t        events[i].callback.apply(this, args);\n\t    }\n\t    return this;\n\t};\n\t\n\tvar getEvent = function getEvent(name) {\n\t    name = name.toLowerCase();\n\t    this._events || (this._events = {});\n\t    return this._events[name];\n\t};\n\t\n\texports.on = on;\n\texports.off = off;\n\texports.one = one;\n\texports.trigger = trigger;\n\texports.getEvent = getEvent;\n\n/***/ },\n/* 31 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable copyRow\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-08-01 14:34:01\n\t */\n\t\n\tvar copyRow = function copyRow(index, row) {\n\t    this.copyRows(index, [row]);\n\t};\n\t\n\tvar copyRows = function copyRows(index, rows) {\n\t    for (var i = 0; i < rows.length; i++) {\n\t        var newRow = new Row({ parent: this });\n\t        if (rows[i]) {\n\t            newRow.setData(rows[i].getData());\n\t        }\n\t        this.insertRows(index === undefined ? this.rows().length : index, [newRow]);\n\t    }\n\t};\n\t\n\texports.copyRow = copyRow;\n\texports.copyRows = copyRows;\n\n/***/ },\n/* 32 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable data\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-30 14:34:01\n\t */\n\t\n\t/** \n\t *设置数据\n\t *\n\t */\n\tvar setData = function setData(data, options) {\n\t    if (data.pageIndex || data.pageIndex === 0) {\n\t        var newIndex = data.pageIndex;\n\t    } else {\n\t        var newIndex = this.pageIndex();\n\t    }\n\t    if (data.pageSize || data.pageSize === 0) {\n\t        var newSize = data.pageSize;\n\t    } else {\n\t        var newSize = this.pageSize();\n\t    }\n\t    if (data.totalPages || data.totalPages === 0) {\n\t        var newTotalPages = data.totalPages;\n\t    } else {\n\t        var newTotalPages = this.totalPages();\n\t    }\n\t    if (data.totalRow || data.totalRow === 0) {\n\t        var newTotalRow = data.totalRow;\n\t    } else {\n\t        var newTotalRow = data.rows.length; //后续要考虑状态，del的不计算在内\n\t    }\n\t    var select,\n\t        focus,\n\t        unSelect = options ? options.unSelect : false;\n\t\n\t    this.pageCache = data.pageCache || this.pageCache;\n\t    if (this.pageCache === true) {\n\t        this.updatePages(data.pages);\n\t        if (newIndex != this.pageIndex()) {\n\t            this.setCurrentPage(newIndex, true);\n\t            this.totalPages(newTotalPages);\n\t            this.totalRow(newTotalRow);\n\t            return;\n\t        } else {\n\t            select = this.getPage(newIndex).selectedIndices;\n\t            focus = this.getPage(newIndex).focus;\n\t            this.setRows(this.getPage(newIndex).rows);\n\t        }\n\t    } else {\n\t        select = data.select || (!unSelect ? [0] : []);\n\t        focus = data.focus;\n\t        this.setRows(data.rows);\n\t    }\n\t    this.pageIndex(newIndex);\n\t    this.pageSize(newSize);\n\t    this.totalPages(newTotalPages);\n\t    this.totalRow(newTotalRow);\n\t\n\t    this.updateSelectedIndices();\n\t\n\t    if (select && select.length > 0 && this.rows().length > 0) this.setRowsSelect(select);\n\t    if (focus) this.setRowFocus(focus);\n\t};\n\t\n\tvar setValue = function setValue(fieldName, value, row, ctx) {\n\t    if (arguments.length === 1) {\n\t        value = fieldName;\n\t        fieldName = '$data';\n\t    }\n\t\n\t    row = row ? row : this.getCurrentRow();\n\t    if (row) row.setValue(fieldName, value, ctx);\n\t};\n\t\n\texports.setData = setData;\n\texports.setValue = setValue;\n\n/***/ },\n/* 33 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable enable\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 09:59:01\n\t */\n\t\n\tvar isEnable = function isEnable(fieldName) {\n\t    var fieldEnable = this.getMeta(fieldName, 'enable');\n\t    if (typeof fieldEnable == 'undefined' || fieldEnable == null) fieldEnable = true;\n\t    return fieldEnable && this.enable;\n\t};\n\t\n\tvar setEnable = function setEnable(enable) {\n\t    if (this.enable == enable) return;\n\t    //当传入的参数不为false时，默认enable为true\n\t    if (enable === false) {\n\t        enable = false;\n\t    } else {\n\t        enable = true;\n\t    }\n\t    this.enable = enable;\n\t    this.enableChange(-this.enableChange());\n\t    this.trigger(DataTable.ON_ENABLE_CHANGE, {\n\t        enable: this.enable\n\t    });\n\t};\n\t\n\texports.isEnable = isEnable;\n\texports.setEnable = setEnable;\n\n/***/ },\n/* 34 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable getCurrent\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 09:59:01\n\t */\n\t\n\t/**\n\t * 获取当前操作行\n\t * 规则： focus 行优先，没有focus行时，取第一选中行\n\t */\n\tvar getCurrentRow = function getCurrentRow() {\n\t    if (this.focusIndex() != -1) return this.getFocusRow();\n\t    var index = this.getSelectedIndex();\n\t    if (index == -1) return null;else return this.getRow(index);\n\t};\n\t\n\tvar getCurrentIndex = function getCurrentIndex() {\n\t    if (this.focusIndex() != -1) return this.focusIndex();\n\t    var index = this.getSelectedIndex();\n\t    if (index == -1) return -1;else return index;\n\t};\n\t\n\texports.getCurrentRow = getCurrentRow;\n\texports.getCurrentIndex = getCurrentIndex;\n\n/***/ },\n/* 35 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable getData\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-07-30 14:34:01\n\t */\n\t\n\t/**\n\t * 获取当前页数据\n\t */\n\tvar getData = function getData() {\n\t    var datas = [],\n\t        rows = this.rows();\n\t    for (var i = 0; i < rows.length; i++) {\n\t        datas.push(rows[i].getData());\n\t    }\n\t    return datas;\n\t};\n\t\n\tvar getDataByRule = function getDataByRule(rule) {\n\t    var returnData = {},\n\t        datas = null,\n\t        rows;\n\t    returnData.meta = this.meta;\n\t    returnData.params = this.params;\n\t    rule = rule || DataTable.SUBMIT.current;\n\t    if (rule == DataTable.SUBMIT.current) {\n\t        datas = [];\n\t        var currIndex = this.focusIndex();\n\t        if (currIndex == -1) currIndex = this.getSelectedIndex();\n\t        rows = this.rows();\n\t        for (var i = 0, count = rows.length; i < count; i++) {\n\t            if (i == currIndex) datas.push(rows[i].getData());else datas.push(rows[i].getEmptyData());\n\t        }\n\t    } else if (rule == DataTable.SUBMIT.focus) {\n\t        datas = [];\n\t        rows = this.rows();\n\t        for (var i = 0, count = rows.length; i < count; i++) {\n\t            if (i == this.focusIndex()) datas.push(rows[i].getData());else datas.push(rows[i].getEmptyData());\n\t        }\n\t    } else if (rule == DataTable.SUBMIT.all) {\n\t        datas = this.getData();\n\t    } else if (rule == DataTable.SUBMIT.select) {\n\t        datas = this.getSelectedDatas(true);\n\t    } else if (rule == DataTable.SUBMIT.change) {\n\t        datas = this.getChangedDatas();\n\t    } else if (rule === DataTable.SUBMIT.empty) {\n\t        datas = [];\n\t    }\n\t    if (this.pageCache && datas != null) {\n\t        datas = [{ index: this.pageIndex(), select: this.getSelectedIndexs(), focus: this.focusIndex(), rows: datas }];\n\t    }\n\t    if (rule == DataTable.SUBMIT.allSelect) {\n\t        datas = [];\n\t        var totalPages = this.totalPages();\n\t        //缓存页数据\n\t        for (var i = 0; i < totalPages; i++) {\n\t            if (i == this.pageIndex()) {\n\t                //当前页数据\n\t                datas.push({\n\t                    index: this.pageIndex(),\n\t                    select: this.getSelectedIndexs(),\n\t                    focus: this.focusIndex(),\n\t                    rows: this.getSelectedDatas()\n\t                });\n\t            } else {\n\t                var page = this.cachedPages[i];\n\t                if (page) {\n\t                    datas.push({\n\t                        index: i,\n\t                        select: page.selectedIndices,\n\t                        focus: page.focus,\n\t                        rows: page.getSelectDatas()\n\t                    });\n\t                }\n\t            }\n\t        }\n\t    } else if (rule == DataTable.SUBMIT.allPages) {\n\t        datas = [];\n\t        var totalPages = this.totalPages();\n\t        //缓存页数据\n\t        for (var i = 0; i < totalPages; i++) {\n\t            if (i == this.pageIndex()) {\n\t                //当前页数据\n\t                datas.push({\n\t                    index: this.pageIndex(),\n\t                    select: this.getSelectedIndexs(),\n\t                    focus: this.focusIndex(),\n\t                    rows: this.getData()\n\t                });\n\t            } else {\n\t                var page = this.cachedPages[i];\n\t                if (page) {\n\t                    datas.push({ index: i, select: page.selectedIndices, focus: page.focus, rows: page.getData() });\n\t                }\n\t            }\n\t        }\n\t    }\n\t    if (this.pageCache) {\n\t        returnData.pages = datas;\n\t    } else {\n\t        returnData.rows = datas;\n\t        returnData.select = this.getSelectedIndexs();\n\t        returnData.focus = this.getFocusIndex();\n\t    }\n\t\n\t    returnData.pageSize = this.pageSize();\n\t    returnData.pageIndex = this.pageIndex();\n\t    returnData.isChanged = this.isChanged();\n\t    returnData.master = this.master;\n\t    returnData.pageCache = this.pageCache;\n\t    return returnData;\n\t};\n\t\n\tvar getRow = function getRow(index) {\n\t    //return this.rows()[index]   //modify by licza.   improve performance\n\t    return this.rows.peek()[index];\n\t};\n\t\n\t/**\n\t * 根据rowid取row对象\n\t * @param rowid\n\t * @returns {*}\n\t */\n\tvar getRowByRowId = function getRowByRowId(rowid) {\n\t    var rows = this.rows.peek();\n\t    for (var i = 0, count = rows.length; i < count; i++) {\n\t        if (rows[i].rowId == rowid) return rows[i];\n\t    }\n\t    return null;\n\t};\n\t\n\t/**\n\t * 取行索引\n\t * @param row\n\t * @returns {*}\n\t */\n\tvar getRowIndex = function getRowIndex(row) {\n\t    var rows = this.rows.peek();\n\t    for (var i = 0, count = rows.length; i < count; i++) {\n\t        if (rows[i].rowId === row.rowId) return i;\n\t    }\n\t    return -1;\n\t};\n\t\n\tvar getRowsByField = function getRowsByField(field, value) {\n\t    var rows = this.rows.peek();\n\t    var returnRows = new Array();\n\t    for (var i = 0, count = rows.length; i < count; i++) {\n\t        if (rows[i].getValue(field) === value) returnRows.push(rows[i]);\n\t    }\n\t    return returnRows;\n\t};\n\t\n\tvar getRowByField = function getRowByField(field, value) {\n\t    var rows = this.rows.peek();\n\t    for (var i = 0, count = rows.length; i < count; i++) {\n\t        if (rows[i].getValue(field) === value) return rows[i];\n\t    }\n\t    return null;\n\t};\n\t\n\tvar getAllRows = function getAllRows() {\n\t    return this.rows.peek();\n\t};\n\t\n\tvar getAllPageRows = function getAllPageRows() {\n\t    var datas = [],\n\t        rows;\n\t    for (var i = 0; i < this.totalPages(); i++) {\n\t        rows = [];\n\t        if (i == this.pageIndex()) {\n\t            rows = this.getData();\n\t        } else {\n\t            var page = this.cachedPages[i];\n\t            if (page) {\n\t                rows = page.getData();\n\t            }\n\t        }\n\t        for (var j = 0; j < rows.length; j++) {\n\t            datas.push(rows[j]);\n\t        }\n\t    }\n\t    return datas;\n\t};\n\t\n\t/**\n\t * 获取变动的数据(新增、修改)\n\t */\n\tvar getChangedDatas = function getChangedDatas(withEmptyRow) {\n\t    var datas = [],\n\t        rows = this.rows();\n\t    for (var i = 0, count = rows.length; i < count; i++) {\n\t        if (rows[i] && rows[i].status != Row.STATUS.NORMAL) {\n\t            datas.push(rows[i].getData());\n\t        } else if (withEmptyRow == true) {\n\t            datas.push(rows[i].getEmptyData());\n\t        }\n\t    }\n\t    return datas;\n\t};\n\t\n\t/**\n\t * 取改变的行\n\t */\n\tvar getChangedRows = function getChangedRows() {\n\t    var changedRows = [],\n\t        rows = this.rows.peek();\n\t    for (var i = 0, count = rows.length; i < count; i++) {\n\t        if (rows[i] && rows[i].status != Row.STATUS.NORMAL) {\n\t            changedRows.push(rows[i]);\n\t        }\n\t    }\n\t    return changedRows;\n\t};\n\t\n\tvar getValue = function getValue(fieldName, row) {\n\t    row = row || this.getCurrentRow();\n\t    if (row) return row.getValue(fieldName);else return '';\n\t};\n\t\n\t/**\n\t * 根据行号获取行索引\n\t * @param {String} rowId\n\t */\n\tvar getIndexByRowId = function getIndexByRowId(rowId) {\n\t    var rows = this.rows();\n\t    for (var i = 0, count = rows.length; i < count; i++) {\n\t        if (rows[i].rowId == rowId) return i;\n\t    }\n\t    return -1;\n\t};\n\t\n\t/**\n\t * 获取所有行数据\n\t */\n\tvar getAllDatas = function getAllDatas() {\n\t    var rows = this.getAllRows();\n\t    var datas = [];\n\t    for (var i = 0, count = rows.length; i < count; i++) {\n\t        if (rows[i]) datas.push(rows[i].getData());\n\t    }return datas;\n\t};\n\t\n\t/**\n\t * 根据索引取rowid\n\t * @param {Object} indices\n\t */\n\tvar getRowIdsByIndices = function getRowIdsByIndices(indices) {\n\t    var rowIds = [];\n\t    for (var i = 0; i < indices.length; i++) {\n\t        rowIds.push(this.getRow(indices[i]).rowId);\n\t    }\n\t    return rowIds;\n\t};\n\t\n\texports.getData = getData;\n\texports.getDataByRule = getDataByRule;\n\texports.getRow = getRow;\n\texports.getRowByRowId = getRowByRowId;\n\texports.getRowIndex = getRowIndex;\n\texports.getRowsByField = getRowsByField;\n\texports.getRowByField = getRowByField;\n\texports.getAllRows = getAllRows;\n\texports.getAllPageRows = getAllPageRows;\n\texports.getChangedDatas = getChangedDatas;\n\texports.getChangedRows = getChangedRows;\n\texports.getValue = getValue;\n\texports.getIndexByRowId = getIndexByRowId;\n\texports.getAllDatas = getAllDatas;\n\texports.getRowIdsByIndices = getRowIdsByIndices;\n\n/***/ },\n/* 36 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * Module : kero dataTable getFocus\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 09:59:01\n\t */\n\t\n\t/**\n\t * 获取焦点行\n\t */\n\tvar getFocusRow = function getFocusRow() {\n\t  if (this.focusIndex() != -1) return this.getRow(this.focusIndex());else return null;\n\t};\n\t\n\t/**\n\t * 获取焦点行\n\t */\n\tvar getFocusIndex = function getFocusIndex() {\n\t  return this.focusIndex();\n\t};\n\t\n\texports.getFocusRow = getFocusRow;\n\texports.getFocusIndex = getFocusIndex;\n\n/***/ },\n/* 37 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable getMete\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-30 14:34:01\n\t */\n\t\n\t/**\n\t * 获取meta信息，先取row上的信息，没有时，取dataTable上的信息\n\t * @param {Object} fieldName\n\t * @param {Object} key\n\t * @param {Object} row\n\t */\n\tvar getMeta = function getMeta(fieldName, key) {\n\t    if (arguments.length === 0) return this.meta;else if (arguments.length === 1) return this.meta[fieldName];\n\t\n\t    if (this.meta[fieldName] && typeof this.meta[fieldName][key] !== 'undefined') {\n\t        return this.meta[fieldName][key];\n\t    } else {\n\t        return null;\n\t    }\n\t};\n\t\n\tvar getRowMeta = function getRowMeta(fieldName, key) {\n\t    var row = this.getCurrentRow();\n\t    if (row) return row.getMeta(fieldName, key);else return this.getMeta(fieldName, key);\n\t};\n\t\n\texports.getMeta = getMeta;\n\texports.getRowMeta = getRowMeta;\n\n/***/ },\n/* 38 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable getPage\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-08-01 14:34:01\n\t */\n\t\n\tvar getPage = function getPage(pageIndex) {\n\t    if (this.pageCache) {\n\t        return this.cachedPages[pageIndex];\n\t    }\n\t    return -1;\n\t};\n\t\n\tvar getPages = function getPages() {\n\t    if (this.pageCache) {\n\t        return this.cachedPages;\n\t    }\n\t    return [];\n\t};\n\t\n\texports.getPage = getPage;\n\texports.getPages = getPages;\n\n/***/ },\n/* 39 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * Module : kero dataTable getParam\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-30 14:34:01\n\t */\n\t\n\tvar getParam = function getParam(key) {\n\t  return this.params[key];\n\t};\n\t\n\texports.getParam = getParam;\n\n/***/ },\n/* 40 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable getSelect\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-01 14:34:01\n\t */\n\t\n\t/**\n\t * 获取选中行索引，多选时，只返回第一个行索引\n\t */\n\tvar getSelectedIndex = function getSelectedIndex() {\n\t    var selectedIndices = this.selectedIndices();\n\t    if (selectedIndices == null || selectedIndices.length == 0) return -1;\n\t    return selectedIndices[0];\n\t};\n\t\n\t/**\n\t *获取选中的所有行索引数组索引\n\t */\n\tvar getSelectedIndices = function getSelectedIndices() {\n\t    var selectedIndices = this.selectedIndices();\n\t    if (selectedIndices == null || selectedIndices.length == 0) return [];\n\t    return selectedIndices;\n\t};\n\t\n\t/**\n\t * 兼容保留，不要用\n\t */\n\tvar getSelectedIndexs = function getSelectedIndexs() {\n\t    return this.getSelectedIndices();\n\t};\n\t\n\t/**\n\t * 获取选中行数据\n\t */\n\tvar getSelectedDatas = function getSelectedDatas(withEmptyRow) {\n\t    var selectedIndices = this.selectedIndices();\n\t    var datas = [];\n\t    var sIndices = [];\n\t    for (var i = 0, count = selectedIndices.length; i < count; i++) {\n\t        sIndices.push(selectedIndices[i]);\n\t    }\n\t    var rows = this.rows();\n\t    for (var i = 0, count = rows.length; i < count; i++) {\n\t        if (sIndices.indexOf(i) != -1) datas.push(rows[i].getData());else if (withEmptyRow == true) datas.push(rows[i].getEmptyData());\n\t    }\n\t    return datas;\n\t};\n\t\n\t/**\n\t * 取选中行\n\t */\n\tvar getSelectedRows = function getSelectedRows() {\n\t    var selectedIndices = this.selectedIndices();\n\t    var selectRows = [];\n\t    var rows = this.rows.peek();\n\t    var sIndices = [];\n\t    for (var i = 0, count = selectedIndices.length; i < count; i++) {\n\t        sIndices.push(selectedIndices[i]);\n\t    }\n\t    for (var i = 0, count = rows.length; i < count; i++) {\n\t        if (sIndices.indexOf(i) != -1) selectRows.push(rows[i]);\n\t    }\n\t    return selectRows;\n\t};\n\t\n\texports.getSelectedIndex = getSelectedIndex;\n\texports.getSelectedIndices = getSelectedIndices;\n\texports.getSelectedIndexs = getSelectedIndexs;\n\texports.getSelectedDatas = getSelectedDatas;\n\texports.getSelectedRows = getSelectedRows;\n\n/***/ },\n/* 41 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable getSimpleData\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-08-01 14:34:01\n\t */\n\t\n\t/**\n\t * 获取数据,只取字段名与字段值\n\t */\n\tvar getSimpleData = function getSimpleData(options) {\n\t    options = options || {};\n\t    var rows,\n\t        _rowData = [],\n\t        type = options['type'] || 'all',\n\t        fields = options['fields'] || null;\n\t\n\t    if (type === 'all') {\n\t        rows = this.rows.peek();\n\t    } else if (type === 'current') {\n\t        var currRow = this.getCurrentRow();\n\t        rows = currRow == null ? [] : [currRow];\n\t    } else if (type === 'focus') {\n\t        var focusRow = this.getFocusRow();\n\t        rows = focusRow == null ? [] : [focusRow];\n\t    } else if (type === 'select') {\n\t        rows = this.getSelectedRows();\n\t    } else if (type === 'change') {\n\t        rows = this.getChangedRows();\n\t    }\n\t\n\t    for (var i = 0; i < rows.length; i++) {\n\t        _rowData.push(rows[i].getSimpleData({ fields: fields }));\n\t    }\n\t    return _rowData;\n\t};\n\t\n\texports.getSimpleData = getSimpleData;\n\n/***/ },\n/* 42 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\t/**\n\t * Module : kero dataTable mete\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-30 14:34:01\n\t */\n\t\n\tvar setMeta = function setMeta(fieldName, key, value) {\n\t    if (!this.meta[fieldName]) return;\n\t    var oldValue = this.meta[fieldName][key];\n\t    var currRow = this.getCurrentRow();\n\t    this.meta[fieldName][key] = value;\n\t    if (this.metaChange[fieldName + '.' + key]) this.metaChange[fieldName + '.' + key](-this.metaChange[fieldName + '.' + key]());\n\t    if (key == 'enable') this.enableChange(-this.enableChange());\n\t    this.trigger(DataTable.ON_META_CHANGE, {\n\t        eventType: 'dataTableEvent',\n\t        dataTable: this.id,\n\t        field: fieldName,\n\t        meta: key,\n\t        oldValue: oldValue,\n\t        newValue: value\n\t    });\n\t    if (currRow && !currRow.getMeta(fieldName, key, false)) {\n\t        this.trigger(fieldName + '.' + key + '.' + DataTable.ON_CURRENT_META_CHANGE, {\n\t            eventType: 'dataTableEvent',\n\t            dataTable: this.id,\n\t            oldValue: oldValue,\n\t            newValue: value\n\t        });\n\t    }\n\t};\n\t\n\t/**\n\t * example: meta: {supplier: {meta: {precision:'3', default: '0239900x', display:'显示名称'}}}\n\t */\n\tvar updateMeta = function updateMeta(meta) {\n\t    if (!meta) {\n\t        return;\n\t    }\n\t    for (var fieldKey in meta) {\n\t        for (var propKey in meta[fieldKey]) {\n\t            var oldValue = this.meta[fieldKey][propKey];\n\t            var newValue = meta[fieldKey][propKey];\n\t            if (propKey === 'default') {\n\t                if (!this.meta[fieldKey]['default']) {\n\t                    this.meta[fieldKey]['default'] = {};\n\t                }\n\t                this.meta[fieldKey]['default'].value = meta[fieldKey][propKey];\n\t            } else if (propKey === 'display') {\n\t                if (!this.meta[fieldKey]['default']) {\n\t                    this.meta[fieldKey]['default'] = {};\n\t                }\n\t                this.meta[fieldKey]['default'].display = meta[fieldKey][propKey];\n\t            } else {\n\t                this.meta[fieldKey][propKey] = meta[fieldKey][propKey];\n\t            }\n\t            if (this.metaChange[fieldKey + '.' + propKey]) this.metaChange[fieldKey + '.' + propKey](-this.metaChange[fieldKey + '.' + propKey]());\n\t\n\t            this.trigger(DataTable.ON_META_CHANGE, {\n\t                eventType: 'dataTableEvent',\n\t                dataTable: this.id,\n\t                field: fieldKey,\n\t                meta: propKey,\n\t                oldValue: oldValue,\n\t                newValue: newValue\n\t            });\n\t        }\n\t    }\n\t};\n\t\n\t/**\n\t * 字段不存在时，创建字段\n\t * @param fieldName\n\t * @param options\n\t */\n\tvar createField = function createField(fieldName, options) {\n\t    //字段不主动定义，则不创建\n\t    if (this.root.strict == true) return;\n\t    //有子表的情况不创建字段\n\t    if (fieldName.indexOf('.') != -1) {\n\t        var fNames = fieldName.split('.');\n\t        var _name = fNames[0];\n\t        for (var i = 0, count = fNames.length; i < count; i++) {\n\t            if (this.meta[_name] && this.meta[_name]['type'] === 'child') return;\n\t            if (i + 1 < count) _name = _name + '.' + fNames[i + 1];\n\t        }\n\t    }\n\t    if (!this.meta[fieldName]) {\n\t        this.meta[fieldName] = {};\n\t    }\n\t    if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n\t        if (options['meta']) {\n\t            for (var key in options['meta']) {\n\t                //if (!this.meta[fieldName][key]){\n\t                this.meta[fieldName]['meta'][key] = options['meta'][key];\n\t                //}\n\t            }\n\t        } else {\n\t            for (var key in options) {\n\t                //if (!this.meta[fieldName][key]){\n\t                this.meta[fieldName][key] = options[key];\n\t                //}\n\t            }\n\t        }\n\t    }\n\t    // 在顶层dataTable上定义field信息\n\t    if (this.root !== this) {\n\t        var nsArr = this.ns.split('.');\n\t        var _fieldMeta = this.root.meta;\n\t        for (var i = 0; i < nsArr.length; i++) {\n\t            _fieldMeta[nsArr[i]] = _fieldMeta[nsArr[i]] || {};\n\t            _fieldMeta[nsArr[i]]['type'] = _fieldMeta[nsArr[i]]['type'] || 'child';\n\t            _fieldMeta[nsArr[i]]['meta'] = _fieldMeta[nsArr[i]]['meta'] || {};\n\t            _fieldMeta = _fieldMeta[nsArr[i]]['meta'];\n\t        }\n\t        if (!_fieldMeta[fieldName]) {\n\t            _fieldMeta[fieldName] = {};\n\t        }\n\t        if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object') {\n\t            for (var key in options) {\n\t                if (!_fieldMeta[fieldName][key]) {\n\t                    _fieldMeta[fieldName][key] = options[key];\n\t                }\n\t            }\n\t        }\n\t    }\n\t};\n\t\n\texports.setMeta = setMeta;\n\texports.updateMeta = updateMeta;\n\texports.createField = createField;\n\n/***/ },\n/* 43 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable page\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-08-01 14:34:01\n\t */\n\t\n\tvar setCurrentPage = function setCurrentPage(pageIndex, notCacheCurrentPage) {\n\t    if (pageIndex != this.pageIndex() && notCacheCurrentPage != true) this.cacheCurrentPage();\n\t    this.pageIndex(pageIndex);\n\t    var cachedPage = this.cachedPages[this.pageIndex()];\n\t    if (cachedPage) {\n\t        this.removeAllRows();\n\t        this.setRows(cachedPage.rows);\n\t        this.setRowsSelect(cachedPage.selectedIndcies);\n\t    }\n\t};\n\t\n\t/**\n\t * 更新分页数据\n\t */\n\tvar updatePages = function updatePages(pages) {\n\t    var pageSize = this.pageSize(),\n\t        pageIndex = 0,\n\t        page,\n\t        r,\n\t        row;\n\t    var page, index, i, rows, focus, selectIndices, status, j, row, originRow;\n\t    for (i = 0; i < pages.length; i++) {\n\t        index = pages[i].index;\n\t        rows = pages[i].rows;\n\t        focus = pages[i].current;\n\t        selectIndices = pages[i].select;\n\t        status = pages[i].status;\n\t        if (status === 'del') {\n\t            this.cachedPages[index] = null;\n\t            continue;\n\t        }\n\t        if (!this.cachedPages[index]) {\n\t            page = new Page({ parent: this });\n\t            page.rows = rows;\n\t            for (var j = 0; j < page.rows.length; j++) {\n\t                page.rows[j].rowId = page.rows[j].id;\n\t                delete page.rows[j].id;\n\t            }\n\t            this.cachedPages[index] = page;\n\t        } else {\n\t            //如果是当前页，先把this.rows数据更新到page中\n\t            if (index == this.pageIndex()) {\n\t                this.cacheCurrentPage();\n\t            }\n\t            page = this.cachedPages[index];\n\t            for (var j = 0; j < rows.length; j++) {\n\t                r = rows[j];\n\t                if (!r.id) r.id = Row.getRandomRowId();\n\t                if (r.status == Row.STATUS.DELETE) {\n\t                    this.removeRowByRowId(r.id);\n\t                } else {\n\t                    row = page.getRowByRowId(r.id);\n\t                    if (row) {\n\t                        page.updateRow(row, r);\n\t                    } else {\n\t                        r.rowId = r.id;\n\t                        delete r.id;\n\t                        page.rows.push(r);\n\t                    }\n\t                }\n\t            }\n\t        }\n\t        page.selectedIndices = selectIndices;\n\t        page.focus = focus;\n\t    }\n\t};\n\t\n\t/**\n\t * 前端分页方法，不建议使用，建议在后端进行分页\n\t * @param allRows\n\t */\n\tvar setPages = function setPages(allRows) {\n\t    var pageSize = this.pageSize(),\n\t        pageIndex = 0,\n\t        page;\n\t    this.cachedPages = [];\n\t    for (var i = 0; i < allRows.length; i++) {\n\t        pageIndex = Math.floor(i / pageSize);\n\t        if (!this.cachedPages[pageIndex]) {\n\t            page = new Page({ parent: this });\n\t            this.cachedPages[pageIndex] = page;\n\t        }\n\t        page.rows.push(allRows[i]);\n\t    }\n\t    if (this.pageIndex() > -1) this.setCurrentPage(this.pageIndex());\n\t    this.totalRow(allRows.length);\n\t    this.totalPages(pageIndex + 1);\n\t};\n\t\n\tvar hasPage = function hasPage(pageIndex) {\n\t    return this.pageCache && this.cachedPages[pageIndex] ? true : false;\n\t};\n\t\n\tvar clearCache = function clearCache() {\n\t    this.cachedPages = [];\n\t};\n\t\n\tvar cacheCurrentPage = function cacheCurrentPage() {\n\t    if (this.pageCache && this.pageIndex() > -1) {\n\t        var page = new Page({ parent: this });\n\t        page.focus = this.getFocusIndex();\n\t        page.selectedIndices = this.selectedIndices().slice();\n\t        var rows = this.rows.peek();\n\t        for (var i = 0; i < rows.length; i++) {\n\t            var r = rows[i].getData();\n\t            r.rowId = r.id;\n\t            delete r.id;\n\t            page.rows.push(r);\n\t        }\n\t        this.cachedPages[this.pageIndex()] = page;\n\t    }\n\t};\n\t\n\texports.setCurrentPage = setCurrentPage;\n\texports.updatePages = updatePages;\n\texports.setPages = setPages;\n\texports.hasPage = hasPage;\n\texports.clearCache = clearCache;\n\texports.cacheCurrentPage = cacheCurrentPage;\n\n/***/ },\n/* 44 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable param\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-07-30 14:34:01\n\t */\n\t\n\tvar addParam = function addParam(key, value) {\n\t    this.params[key] = value;\n\t};\n\t\n\tvar addParams = function addParams(params) {\n\t    for (var key in params) {\n\t        this.params[key] = params[key];\n\t    }\n\t};\n\t\n\texports.addParam = addParam;\n\texports.addParams = addParams;\n\n/***/ },\n/* 45 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable ref\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-01 14:34:01\n\t */\n\t\n\tvar refSelectedRows = function refSelectedRows() {\n\t    return ko.pureComputed({\n\t        read: function read() {\n\t            var ins = this.selectedIndices() || [];\n\t            var rs = this.rows();\n\t            var selectedRows = [];\n\t            for (var i = 0; i < ins.length; i++) {\n\t                selectedRows.push(rs[i]);\n\t            }\n\t            return selectedRows;\n\t        }, owner: this\n\t    });\n\t};\n\t\n\t/**\n\t * 绑定字段值\n\t * @param {Object} fieldName\n\t */\n\tvar ref = function ref(fieldName) {\n\t    this.createField(fieldName);\n\t    if (!this.valueChange[fieldName]) this.valueChange[fieldName] = ko.observable(1);\n\t    return ko.pureComputed({\n\t        read: function read() {\n\t            this.valueChange[fieldName]();\n\t            this.currentRowChange();\n\t            var row = this.getCurrentRow();\n\t            if (row) {\n\t                return row.getChildValue(fieldName);\n\t            } else return '';\n\t        },\n\t        write: function write(value) {\n\t            var row = this.getCurrentRow();\n\t            if (row) row.setChildValue(fieldName, value);\n\t        },\n\t        owner: this\n\t    });\n\t};\n\t\n\t/**\n\t * 绑定字段属性\n\t * @param {Object} fieldName\n\t * @param {Object} key\n\t */\n\tvar refMeta = function refMeta(fieldName, key) {\n\t    if (!this.metaChange[fieldName + '.' + key]) this.metaChange[fieldName + '.' + key] = ko.observable(1);\n\t    return ko.pureComputed({\n\t        read: function read() {\n\t            this.metaChange[fieldName + '.' + key]();\n\t            this.currentRowChange();\n\t            return this.getMeta(fieldName, key);\n\t        },\n\t        write: function write(value) {\n\t            this.setMeta(fieldName, key, value);\n\t        },\n\t        owner: this\n\t    });\n\t};\n\t\n\tvar refRowMeta = function refRowMeta(fieldName, key) {\n\t    if (!this.metaChange[fieldName + '.' + key]) this.metaChange[fieldName + '.' + key] = ko.observable(1);\n\t    return ko.pureComputed({\n\t        read: function read() {\n\t            this.metaChange[fieldName + '.' + key]();\n\t            this.currentRowChange();\n\t            var row = this.getCurrentRow();\n\t            if (row) return row.getMeta(fieldName, key);else return this.getMeta(fieldName, key);\n\t        },\n\t        write: function write(value) {\n\t            var row = this.getCurrentRow();\n\t            if (row) row.setMeta(fieldName, value);\n\t        },\n\t        owner: this\n\t    });\n\t};\n\t\n\tvar refEnable = function refEnable(fieldName) {\n\t    return ko.pureComputed({\n\t        //enable优先级： dataTable.enable >  row上的enable >  field中的enable定义\n\t        read: function read() {\n\t            this.enableChange();\n\t            if (!fieldName) return this.enable;\n\t            var fieldEnable = this.getRowMeta(fieldName, 'enable');\n\t            if (typeof fieldEnable == 'undefined' || fieldEnable == null) fieldEnable = true;\n\t            return fieldEnable && this.enable;\n\t        },\n\t        owner: this\n\t    });\n\t};\n\t\n\texports.refSelectedRows = refSelectedRows;\n\texports.ref = ref;\n\texports.refMeta = refMeta;\n\texports.refRowMeta = refRowMeta;\n\texports.refEnable = refEnable;\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.clear = exports.removeRows = exports.removeAllRows = exports.removeRow = exports.removeRowByRowId = undefined;\n\t\n\tvar _util = __webpack_require__(47);\n\t\n\tvar removeRowByRowId = function removeRowByRowId(rowId) {\n\t    var index = this.getIndexByRowId(rowId);\n\t    if (index != -1) this.removeRow(index);\n\t}; /**\n\t    * Module : kero dataTable removeRow\n\t    * Author : liuyk(liuyk@yonyou.com)\n\t    * Date   : 2016-08-01 14:34:01\n\t    */\n\t\n\t\n\tvar removeRow = function removeRow(index) {\n\t    if (index instanceof Row) {\n\t        index = this.getIndexByRowId(index.rowId);\n\t    }\n\t    this.removeRows([index]);\n\t};\n\t\n\tvar removeAllRows = function removeAllRows() {\n\t    this.rows([]);\n\t    this.selectedIndices([]);\n\t    this.focusIndex(-1);\n\t    this.trigger(DataTable.ON_DELETE_ALL);\n\t    this.updateCurrIndex();\n\t};\n\t\n\tvar removeRows = function removeRows(indices) {\n\t    indices = (0, _util._formatToIndicesArray)(indices);\n\t    indices = indices.sort();\n\t    var rowIds = [],\n\t        rows = this.rows(),\n\t        deleteRows = [];\n\t    for (var i = indices.length - 1; i >= 0; i--) {\n\t        var index = indices[i];\n\t        var delRow = rows[index];\n\t        if (delRow == null) {\n\t            continue;\n\t        }\n\t        rowIds.push(delRow.rowId);\n\t        var deleteRow = rows.splice(index, 1);\n\t        deleteRows.push(deleteRow[0]);\n\t        this.updateSelectedIndices(index, '-');\n\t        this.updateFocusIndex(index, '-');\n\t    }\n\t    this.rows(rows);\n\t    this.deleteRows = deleteRows;\n\t    this.trigger(DataTable.ON_DELETE, {\n\t        indices: indices,\n\t        rowIds: rowIds,\n\t        deleteRows: deleteRows\n\t    });\n\t    this.updateCurrIndex();\n\t};\n\t\n\t/**\n\t * 清空datatable的所有数据以及分页数据以及index\n\t */\n\tvar clear = function clear() {\n\t    this.removeAllRows();\n\t    this.cachedPages = [];\n\t    this.totalPages(1);\n\t    this.pageIndex(0);\n\t    this.focusIndex(-1);\n\t    this.selectedIndices([]);\n\t};\n\t\n\texports.removeRowByRowId = removeRowByRowId;\n\texports.removeRow = removeRow;\n\texports.removeAllRows = removeAllRows;\n\texports.removeRows = removeRows;\n\texports.clear = clear;\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports._formatToIndicesArray = exports.isChanged = undefined;\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar isChanged = function isChanged() {\n\t    var rows = this.getAllRows();\n\t    for (var i = 0; i < rows.length; i++) {\n\t        if (rows[i].status != Row.STATUS.NORMAL) return true;\n\t    }\n\t    return false;\n\t}; /**\n\t    * Module : kero dataTable util\n\t    * Author : liuyk(liuyk@yonyou.com)\n\t    * Date   : 2016-08-08 09:59:01\n\t    */\n\t\n\t\n\tvar _formatToIndicesArray = function _formatToIndicesArray(indices) {\n\t    if (typeof indices == 'string' || typeof indices == 'number') {\n\t        indices = [indices];\n\t    } else if (indices instanceof Row) {\n\t        indices = this.getIndexByRowId(indices.rowId);\n\t    } else if ((0, _util.isArray)(indices) && indices.length > 0 && indices[0] instanceof Row) {\n\t        for (var i = 0; i < indices.length; i++) {\n\t            indices[i] = this.getIndexByRowId(indices[i].rowId);\n\t        }\n\t    }\n\t    return indices;\n\t};\n\t\n\texports.isChanged = isChanged;\n\texports._formatToIndicesArray = _formatToIndicesArray;\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.createEmptyRow = exports.insertRows = exports.insertRow = exports.addRows = exports.addRow = exports.setRows = undefined;\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\t/**\n\t * 设置行数据\n\t * @param {Object} rows\n\t */\n\tvar setRows = function setRows(rows) {\n\t    var insertRows = [],\n\t        _id;\n\t    for (var i = 0; i < rows.length; i++) {\n\t        var r = rows[i];\n\t        _id = r.rowId || r.id;\n\t        if (!_id) _id = Row.getRandomRowId();\n\t        if (r.status == Row.STATUS.DELETE) {\n\t            this.removeRowByRowId(_id);\n\t        } else {\n\t            var row = this.getRowByRowId(_id);\n\t            if (row) {\n\t                row.updateRow(r);\n\t                if (!(0, _util.isEmptyObject)(r.data)) {\n\t                    this.trigger(DataTable.ON_UPDATE, {\n\t                        index: i,\n\t                        rows: [row]\n\t                    });\n\t                    if (row == this.getCurrentRow()) {\n\t                        this.currentRowChange(-this.currentRowChange());\n\t                        row.currentRowChange(-row.currentRowChange());\n\t                        this.trigger(DataTable.ON_CURRENT_UPDATE, {\n\t                            index: i,\n\t                            rows: [row]\n\t                        });\n\t                    } else {\n\t                        row.currentRowChange(-row.currentRowChange());\n\t                    }\n\t                }\n\t            } else {\n\t                row = new Row({ parent: this, id: _id });\n\t                row.setData(rows[i]);\n\t                insertRows.push(row);\n\t            }\n\t        }\n\t    }\n\t    if (insertRows.length > 0) this.addRows(insertRows);\n\t};\n\t\n\t/**\n\t *追加行\n\t */\n\t/**\n\t * Module : kero dataTable row\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date\t  : 2016-08-01 14:34:01\n\t */\n\tvar addRow = function addRow(row) {\n\t    this.insertRow(this.rows().length, row);\n\t};\n\t\n\t/**\n\t *追加多行\n\t */\n\tvar addRows = function addRows(rows) {\n\t    this.insertRows(this.rows().length, rows);\n\t};\n\t\n\tvar insertRow = function insertRow(index, row) {\n\t    if (!row) {\n\t        row = new Row({ parent: this });\n\t    }\n\t    this.insertRows(index, [row]);\n\t};\n\t\n\tvar insertRows = function insertRows(index, rows) {\n\t    var args = [index, 0];\n\t    for (var i = 0; i < rows.length; i++) {\n\t        args.push(rows[i]);\n\t    }\n\t    this.rows.splice.apply(this.rows, args);\n\t\n\t    this.updateSelectedIndices(index, '+', rows.length);\n\t    this.updateFocusIndex(index, '+', rows.length);\n\t\n\t    this.trigger(DataTable.ON_INSERT, {\n\t        index: index,\n\t        rows: rows\n\t    });\n\t    if (this.ns) {\n\t        if (this.root.valueChange[this.ns]) this.root.valueChange[this.ns](-this.root.valueChange[this.ns]());\n\t    }\n\t};\n\t\n\t/**\n\t * 创建空行\n\t */\n\tvar createEmptyRow = function createEmptyRow() {\n\t    var r = new Row({ parent: this });\n\t    this.addRow(r);\n\t    if (!this.getCurrentRow()) this.setRowSelect(r);\n\t    return r;\n\t};\n\t\n\texports.setRows = setRows;\n\texports.addRow = addRow;\n\texports.addRows = addRows;\n\texports.insertRow = insertRow;\n\texports.insertRows = insertRows;\n\texports.createEmptyRow = createEmptyRow;\n\n/***/ },\n/* 49 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable rowCurrent\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 09:59:01\n\t */\n\t\n\tvar updateCurrIndex = function updateCurrIndex() {\n\t    var currentIndex = this.focusIndex() != -1 ? this.focusIndex() : this.getSelectedIndex();\n\t    if (this._oldCurrentIndex != currentIndex) {\n\t        this._oldCurrentIndex = currentIndex;\n\t        this.trigger(DataTable.ON_CURRENT_ROW_CHANGE);\n\t        this.currentRowChange(-this.currentRowChange());\n\t        if (this.ns) {\n\t            if (this.root.valueChange[this.ns]) this.root.valueChange[this.ns](-this.root.valueChange[this.ns]());\n\t        }\n\t    }\n\t};\n\t\n\texports.updateCurrIndex = updateCurrIndex;\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.setRowsDelete = exports.setAllRowsDelete = exports.setRowDelete = undefined;\n\t\n\tvar _util = __webpack_require__(47);\n\t\n\t/**\n\t * 设置行删除\n\t * @param {Object} index\n\t */\n\tvar setRowDelete = function setRowDelete(index) {\n\t    if (index instanceof Row) {\n\t        index = this.getIndexByRowId(index.rowId);\n\t    }\n\t    this.setRowsDelete([index]);\n\t};\n\t\n\t/**\n\t * 设置所有行删除\n\t */\n\t/**\n\t * Module : kero dataTable rowDelete\n\t * Desc: 不建议使用此库方法\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-01 14:34:01\n\t */\n\tvar setAllRowsDelete = function setAllRowsDelete() {\n\t    var indices = new Array(this.rows().length);\n\t    for (var i = 0; i < indices.length; i++) {\n\t        indices[i] = i;\n\t    }\n\t    this.setRowsDelete(indices);\n\t};\n\t\n\t/**\n\t * 设置行删除\n\t * @param {Array} indices\n\t */\n\tvar setRowsDelete = function setRowsDelete(indices) {\n\t    indices = (0, _util._formatToIndicesArray)(indices);\n\t    for (var i = 0; i < indices.length; i++) {\n\t        var row = this.getRow(indices[i]);\n\t        if (row.status == Row.STATUS.NEW) {\n\t            this.rows(this.rows().splice(indices[i], 1));\n\t            this.updateSelectedIndices(indices[i], '-');\n\t            this.updateFocusIndex(index, '-');\n\t        } else {\n\t            row.status = Row.STATUS.FALSE_DELETE;\n\t        }\n\t    }\n\t    var rowIds = this.getRowIdsByIndices(indices);\n\t    this.trigger(DataTable.ON_ROW_DELETE, {\n\t        falseDelete: true,\n\t        indices: indices,\n\t        rowIds: rowIds\n\t    });\n\t};\n\t\n\texports.setRowDelete = setRowDelete;\n\texports.setAllRowsDelete = setAllRowsDelete;\n\texports.setRowsDelete = setRowsDelete;\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.updateSelectedIndices = exports.toggleAllSelect = exports.setRowsUnSelect = exports.setRowUnSelect = exports.setAllRowsUnSelect = exports.addRowsSelect = exports.addRowSelect = exports.setRowsSelect = exports.setRowSelect = exports.setAllRowsSelect = undefined;\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar _util2 = __webpack_require__(47);\n\t\n\t/**\n\t * Module : kero dataTable rowSelect\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-01 14:34:01\n\t */\n\tvar setAllRowsSelect = function setAllRowsSelect() {\n\t    var indices = new Array(this.rows().length);\n\t    for (var i = 0; i < indices.length; i++) {\n\t        indices[i] = i;\n\t    }\n\t    this.setRowsSelect(indices);\n\t    this.allSelected(true);\n\t    this.trigger(DataTable.ON_ROW_ALLSELECT, {});\n\t};\n\t\n\t/**\n\t * 设置选中行，清空之前已选中的所有行\n\t */\n\tvar setRowSelect = function setRowSelect(index) {\n\t    if (index instanceof Row) {\n\t        index = this.getIndexByRowId(index.rowId);\n\t    }\n\t    this.setRowsSelect([index]);\n\t    this.setRowFocus(this.getSelectedIndex());\n\t};\n\t\n\tvar setRowsSelect = function setRowsSelect(indices) {\n\t    indices = indices || -1;\n\t    if (indices == -1) {\n\t        this.setAllRowsUnSelect({ quiet: true });\n\t        return;\n\t    }\n\t    indices = (0, _util2._formatToIndicesArray)(indices);\n\t    var sIns = this.selectedIndices();\n\t    if ((0, _util.isArray)(indices) && (0, _util.isArray)(sIns) && indices.join() == sIns.join()) {\n\t        // 避免与控件循环触发\n\t        return;\n\t    }\n\t    this.setAllRowsUnSelect({ quiet: true });\n\t    try {\n\t        this.selectedIndices(indices);\n\t    } catch (e) {}\n\t\n\t    var rowIds = this.getRowIdsByIndices(indices);\n\t    this.currentRowChange(-this.currentRowChange());\n\t    this.trigger(DataTable.ON_ROW_SELECT, {\n\t        indices: indices,\n\t        rowIds: rowIds\n\t    });\n\t    this.updateCurrIndex();\n\t};\n\t\n\t/**\n\t * 添加选中行，不会清空之前已选中的行\n\t */\n\tvar addRowSelect = function addRowSelect(index) {\n\t    if (index instanceof Row) {\n\t        index = this.getIndexByRowId(index.rowId);\n\t    }\n\t    this.addRowsSelect([index]);\n\t};\n\t\n\t/**\n\t * 添加选中行，不会清空之前已选中的行\n\t */\n\tvar addRowsSelect = function addRowsSelect(indices) {\n\t    indices = (0, _util2._formatToIndicesArray)(indices);\n\t    var selectedIndices = this.selectedIndices().slice();\n\t    for (var i = 0; i < indices.length; i++) {\n\t        var ind = indices[i],\n\t            toAdd = true;\n\t        for (var j = 0; j < selectedIndices.length; j++) {\n\t            if (selectedIndices[j] == ind) {\n\t                toAdd = false;\n\t            }\n\t        }\n\t        if (toAdd) {\n\t            selectedIndices.push(indices[i]);\n\t        }\n\t    }\n\t    this.selectedIndices(selectedIndices);\n\t    var rowIds = this.getRowIdsByIndices(indices);\n\t    this.trigger(DataTable.ON_ROW_SELECT, {\n\t        indices: indices,\n\t        rowIds: rowIds\n\t    });\n\t    this.updateCurrIndex();\n\t};\n\t\n\t/**\n\t * 全部取消选中\n\t */\n\tvar setAllRowsUnSelect = function setAllRowsUnSelect(options) {\n\t    this.selectedIndices([]);\n\t    if (!(options && options.quiet)) {\n\t        this.trigger(DataTable.ON_ROW_ALLUNSELECT);\n\t    }\n\t    this.updateCurrIndex();\n\t    this.allSelected(false);\n\t};\n\t\n\t/**\n\t * 取消选中\n\t */\n\tvar setRowUnSelect = function setRowUnSelect(index) {\n\t    if (index instanceof Row) {\n\t        index = this.getIndexByRowId(index.rowId);\n\t    }\n\t    this.setRowsUnSelect([index]);\n\t};\n\t\n\tvar setRowsUnSelect = function setRowsUnSelect(indices) {\n\t    indices = (0, _util2._formatToIndicesArray)(indices);\n\t    var selectedIndices = this.selectedIndices().slice();\n\t\n\t    // 避免与控件循环触发\n\t    if (selectedIndices.indexOf(indices[0]) == -1) return;\n\t\n\t    for (var i = 0; i < indices.length; i++) {\n\t        var index = indices[i];\n\t        var pos = selectedIndices.indexOf(index);\n\t        if (pos != -1) selectedIndices.splice(pos, 1);\n\t    }\n\t    this.selectedIndices(selectedIndices);\n\t    var rowIds = this.getRowIdsByIndices(indices);\n\t    this.trigger(DataTable.ON_ROW_UNSELECT, {\n\t        indices: indices,\n\t        rowIds: rowIds\n\t    });\n\t    this.updateCurrIndex();\n\t    this.allSelected(false);\n\t};\n\t\n\tvar toggleAllSelect = function toggleAllSelect() {\n\t    if (this.allSelected()) {\n\t        this.setAllRowsUnSelect();\n\t    } else {\n\t        this.setAllRowsSelect();\n\t    }\n\t};\n\t\n\t/**\n\t *\n\t * @param {Object} index 要处理的起始行索引\n\t * @param {Object} type   增加或减少  + -\n\t */\n\tvar updateSelectedIndices = function updateSelectedIndices(index, type, num) {\n\t    if (!(0, _util.isNumber)(num)) {\n\t        num = 1;\n\t    }\n\t    var selectedIndices = this.selectedIndices().slice();\n\t    if (selectedIndices == null || selectedIndices.length == 0) return;\n\t    for (var i = 0, count = selectedIndices.length; i < count; i++) {\n\t        if (type == '+') {\n\t            if (selectedIndices[i] >= index) selectedIndices[i] = parseInt(selectedIndices[i]) + num;\n\t        } else if (type == '-') {\n\t            if (selectedIndices[i] >= index && selectedIndices[i] <= index + num - 1) {\n\t                selectedIndices.splice(i, 1);\n\t            } else if (selectedIndices[i] > index + num - 1) selectedIndices[i] = selectedIndices[i] - num;\n\t        }\n\t    }\n\t    this.selectedIndices(selectedIndices);\n\t};\n\texports.setAllRowsSelect = setAllRowsSelect;\n\texports.setRowSelect = setRowSelect;\n\texports.setRowsSelect = setRowsSelect;\n\texports.addRowSelect = addRowSelect;\n\texports.addRowsSelect = addRowsSelect;\n\texports.setAllRowsUnSelect = setAllRowsUnSelect;\n\texports.setRowUnSelect = setRowUnSelect;\n\texports.setRowsUnSelect = setRowsUnSelect;\n\texports.toggleAllSelect = toggleAllSelect;\n\texports.updateSelectedIndices = updateSelectedIndices;\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.updateFocusIndex = exports.setRowUnFocus = exports.setRowFocus = undefined;\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\t/**\n\t * 设置焦点行\n\t * @param {Object} index 行对象或者行index\n\t * @param quiet 不触发事件\n\t * @param force 当index行与已focus的行相等时，仍然触发事件\n\t */\n\tvar setRowFocus = function setRowFocus(index, quiet, force) {\n\t    var rowId = null;\n\t    if (index instanceof Row) {\n\t        index = this.getIndexByRowId(index.rowId);\n\t        rowId = index.rowId;\n\t    }\n\t    if (index === -1 || index === this.focusIndex() && !force) {\n\t        return;\n\t    }\n\t    this.focusIndex(index);\n\t    if (quiet) {\n\t        return;\n\t    }\n\t    this.currentRowChange(-this.currentRowChange());\n\t    if (!rowId) {\n\t        rowId = this.getRow(index).rowId;\n\t    }\n\t    this.trigger(DataTable.ON_ROW_FOCUS, {\n\t        index: index,\n\t        rowId: rowId\n\t    });\n\t    this.updateCurrIndex();\n\t};\n\t\n\t/**\n\t * 焦点行反选\n\t */\n\t/**\n\t * Module : kero dataTable rowFocus\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 09:59:01\n\t */\n\tvar setRowUnFocus = function setRowUnFocus() {\n\t    this.currentRowChange(-this.currentRowChange());\n\t    var indx = this.focusIndex(),\n\t        rowId = null;\n\t    if (indx !== -1) {\n\t        rowId = this.getRow(indx).rowId;\n\t    }\n\t    this.trigger(DataTable.ON_ROW_UNFOCUS, {\n\t        index: indx,\n\t        rowId: rowId\n\t    });\n\t    this.focusIndex(-1);\n\t    this.updateCurrIndex();\n\t};\n\t\n\tvar updateFocusIndex = function updateFocusIndex(opIndex, opType, num) {\n\t    if (!(0, _util.isNumber)(num)) {\n\t        num = 1;\n\t    }\n\t    if (opIndex <= this.focusIndex() && this.focusIndex() != -1) {\n\t        if (opType === '+') {\n\t            this.focusIndex(this.focusIndex() + num);\n\t        } else if (opType === '-') {\n\t            if (this.focusIndex() >= opIndex && this.focusIndex() <= opIndex + num - 1) {\n\t                this.focusIndex(this.focusIndex() - 1);\n\t            } else if (this.focusIndex() > opIndex + num - 1) {\n\t                this.focusIndex(this.focusIndex() - num);\n\t            }\n\t        }\n\t    }\n\t};\n\t\n\texports.setRowFocus = setRowFocus;\n\texports.setRowUnFocus = setRowUnFocus;\n\texports.updateFocusIndex = updateFocusIndex;\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.addSimpleData = exports.setSimpleData = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }; /**\n\t                                                                                                                                                                                                                                                   * Module : kero dataTable simpleData\n\t                                                                                                                                                                                                                                                   * Author : liuyk(liuyk@yonyou.com)\n\t                                                                                                                                                                                                                                                   * Date\t  : 2016-08-01 14:34:01\n\t                                                                                                                                                                                                                                                   */\n\t\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\t/**\n\t * 设置数据, 只设置字段值\n\t * @param {array} data\n\t *options{} unSelect为true：不选中，为false则选中，默认选中0行\n\t */\n\tvar setSimpleData = function setSimpleData(data, options) {\n\t    this.removeAllRows();\n\t    this.cachedPages = [];\n\t    this.focusIndex(-1);\n\t    this.selectedIndices([]);\n\t\n\t    if (!data) {\n\t        // throw new Error(\"dataTable.setSimpleData param can't be null!\");\n\t        return;\n\t    }\n\t\n\t    var rows = [];\n\t    if (!(0, _util.isArray)(data)) data = [data];\n\t    for (var i = 0; i < data.length; i++) {\n\t        var _data = data[i];\n\t        /* 判断data中的字段在datatable中是否存在，如果不存在则创建 */\n\t        // for(var f in _data){\n\t        //     this.createField(f)\n\t        // }\n\t        if (_typeof(data[i]) !== 'object') _data = { $data: data[i] };\n\t        rows.push({\n\t            status: Row.STATUS.NORMAL,\n\t            data: _data\n\t        });\n\t    }\n\t    var _data = {\n\t        rows: rows\n\t    };\n\t    this.setData(_data, options);\n\t};\n\t\n\t/**\n\t * 追加数据\n\t * @param data\n\t */\n\tvar addSimpleData = function addSimpleData(data, status) {\n\t    if (!data) {\n\t        throw new Error(\"dataTable.addSimpleData param can't be null!\");\n\t    }\n\t    if (!(0, _util.isArray)(data)) data = [data];\n\t    for (var i = 0; i < data.length; i++) {\n\t        var r = this.createEmptyRow();\n\t        r.setSimpleData(data[i], status);\n\t    }\n\t};\n\t\n\texports.setSimpleData = setSimpleData;\n\texports.addSimpleData = addSimpleData;\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.Page = undefined;\n\t\n\tvar _pageData = __webpack_require__(55);\n\t\n\tvar _pageGetData = __webpack_require__(56);\n\t\n\tvar _pageGetMeta = __webpack_require__(57);\n\t\n\tvar _pageMeta = __webpack_require__(58);\n\t\n\tvar _pageRemoveRow = __webpack_require__(59);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } } /**\n\t                                                                                                                                                           * Module : Kero webpack entry Page index\n\t                                                                                                                                                           * Author : liuyk(liuyuekai@yonyou.com)\n\t                                                                                                                                                           * Date\t  : 2016-08-09 15:24:46\n\t                                                                                                                                                           */\n\t\n\tvar Page = function Page(options) {\n\t\t_classCallCheck(this, Page);\n\t\n\t\tthis.focus = options['focus'] || null;\n\t\tthis.selectedIndices = options['selectedIndices'] || null;\n\t\tthis.rows = options['rows'] || [];\n\t\tthis.parent = options['parent'] || null;\n\t\n\t\t//data\n\t\tthis.setRowValue = _pageData.setRowValue;\n\t\tthis.updateRow = _pageData.updateRow;\n\t\n\t\t//getData\n\t\tthis.getData = _pageGetData.getData;\n\t\tthis.getSelectDatas = _pageGetData.getSelectDatas;\n\t\tthis.getSelectRows = _pageGetData.getSelectRows;\n\t\tthis.getRowByRowId = _pageGetData.getRowByRowId;\n\t\tthis.getRowValue = _pageGetData.getRowValue;\n\t\n\t\t//getMeta\n\t\tthis.getRowMeta = _pageGetMeta.getRowMeta;\n\t\n\t\t//meta\n\t\tthis.setRowMeta = _pageMeta.setRowMeta;\n\t\n\t\t//removeRow\n\t\tthis.removeRowByRowId = _pageRemoveRow.removeRowByRowId;\n\t};\n\t\n\texports.Page = Page;\n\n/***/ },\n/* 55 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable page data\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 09:59:01\n\t */\n\t\n\tvar setRowValue = function setRowValue(rowIndex, fieldName, value) {\n\t    var row = this.rows[rowIndex];\n\t    if (row) {\n\t        row.data[fieldName]['value'] = value;\n\t        if (row.status != Row.STATUS.NEW) row.status = Row.STATUS.UPDATE;\n\t    }\n\t};\n\t\n\tvar updateRow = function updateRow(originRow, newRow) {\n\t    originRow.status = originRow.status;\n\t    //this.rowId = data.rowId\n\t    if (!newRow.data) return;\n\t    for (var key in newRow.data) {\n\t        if (originRow.data[key]) {\n\t            var valueObj = newRow.data[key];\n\t            if (typeof valueObj == 'string' || typeof valueObj == 'number' || valueObj === null) originRow.data[key]['value'] = valueObj;\n\t            //this.setValue(key, this.formatValue(key, valueObj))\n\t            else {\n\t                    //\t\t\t\t\tthis.setValue(key, valueObj.value)\n\t\n\t                    if (valueObj.error) {\n\t                        if (u.showMessageDialog) u.showMessageDialog({ title: \"警告\", msg: valueObj.error, backdrop: true });else alert(valueObj.error);\n\t                    } else {\n\t                        //this.setValue(key, this.formatValue(key, valueObj.value), null)\n\t                        originRow.data[key]['value'] = valueObj.value;\n\t                        for (var k in valueObj.meta) {\n\t                            originRow.data[key]['meta'] = originRow.data[key]['meta'] || {};\n\t                            originRow.data[key]['meta'][k] = valueObj.meta[k];\n\t                        }\n\t                    }\n\t                }\n\t        }\n\t    }\n\t};\n\t\n\texports.setRowValue = setRowValue;\n\texports.updateRow = updateRow;\n\n/***/ },\n/* 56 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable page getData\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 09:59:01\n\t */\n\t\n\tvar getData = function getData() {\n\t    var datas = [],\n\t        row,\n\t        meta;\n\t    meta = this.parent.getMeta();\n\t    for (var i = 0; i < this.rows.length; i++) {\n\t        row = this.rows[i];\n\t        datas.push({ 'id': row.rowId, 'status': row.status, data: row.data });\n\t    }\n\t    return datas;\n\t};\n\t\n\tvar getSelectDatas = function getSelectDatas() {\n\t    var datas = [],\n\t        row;\n\t    for (var i = 0; i < this.rows.length; i++) {\n\t        row = this.rows[i];\n\t        datas.push({ 'id': row.rowId, 'status': row.status, data: row.data });\n\t    }\n\t    for (var i = 0; i < this.selectedIndices.length; i++) {\n\t        row = this.rows[this.selectedIndices[i]];\n\t        datas.push({ 'id': row.rowId, 'status': row.status, data: row.data });\n\t    }\n\t    return datas;\n\t};\n\t\n\tvar getSelectRows = function getSelectRows() {\n\t    var rows = [];\n\t    for (var i = 0; i < this.selectedIndices.length; i++) {\n\t        rows.push(this.rows[this.selectedIndices[i]]);\n\t    }\n\t    return rows;\n\t};\n\t\n\tvar getRowByRowId = function getRowByRowId(rowid) {\n\t    for (var i = 0, count = this.rows.length; i < count; i++) {\n\t        if (this.rows.rowId == rowid) return this.rows[i];\n\t    }\n\t    return null;\n\t};\n\t\n\tvar getRowValue = function getRowValue(rowIndex, fieldName) {\n\t    var row = this.rows[rowIndex];\n\t    if (row) {\n\t        return row.data[fieldName]['value'];\n\t    }\n\t    return null;\n\t};\n\t\n\texports.getData = getData;\n\texports.getSelectDatas = getSelectDatas;\n\texports.getSelectRows = getSelectRows;\n\texports.getRowByRowId = getRowByRowId;\n\texports.getRowValue = getRowValue;\n\n/***/ },\n/* 57 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable page getMeta\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 09:59:01\n\t */\n\t\n\tvar getRowMeta = function getRowMeta(rowIndex, fieldName, metaName) {\n\t    var row = this.rows[rowIndex];\n\t    if (row) {\n\t        var meta = row[fieldName].meta;\n\t        if (!meta) return null;else return meta[metaName];\n\t    }\n\t    return null;\n\t};\n\t\n\texports.getRowMeta = getRowMeta;\n\n/***/ },\n/* 58 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable page meta\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 09:59:01\n\t */\n\t\n\tvar setRowMeta = function setRowMeta(rowIndex, fieldName, metaName, value) {\n\t    var row = this.rows[rowIndex];\n\t    if (row) {\n\t        var meta = row[fieldName].meta;\n\t        if (!meta) meta = row[fieldName].meta = {};\n\t        meta[metaName] = value;\n\t        if (row.status != Row.STATUS.NEW) row.status = Row.STATUS.UPDATE;\n\t    }\n\t};\n\t\n\texports.setRowMeta = setRowMeta;\n\n/***/ },\n/* 59 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * Module : kero dataTable page removeRow\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 09:59:01\n\t */\n\t\n\tvar removeRowByRowId = function removeRowByRowId(rowid) {\n\t  for (var i = 0, count = this.rows.length; i < count; i++) {\n\t    if (this.rows.rowId == rowid) this.rows.splice(i, 1);\n\t  }\n\t};\n\t\n\texports.removeRowByRowId = removeRowByRowId;\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.Row = undefined;\n\t\n\tvar _indexEvents = __webpack_require__(29);\n\t\n\tvar _rowData = __webpack_require__(61);\n\t\n\tvar _rowGetData = __webpack_require__(62);\n\t\n\tvar _rowGetMeta = __webpack_require__(63);\n\t\n\tvar _rowGetSimpleData = __webpack_require__(64);\n\t\n\tvar _rowInit = __webpack_require__(65);\n\t\n\tvar _rowMeta = __webpack_require__(66);\n\t\n\tvar _rowRef = __webpack_require__(67);\n\t\n\tvar _rowRowSelect = __webpack_require__(71);\n\t\n\tvar _rowSimpleData = __webpack_require__(72);\n\t\n\tvar _rowUtil = __webpack_require__(73);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Module : Kero webpack entry row index\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Author : liuyk(liuyuekai@yonyou.com)\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Date   : 2016-08-09 15:24:46\n\t                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\t\n\tvar Row = function (_Events) {\n\t    _inherits(Row, _Events);\n\t\n\t    function Row(options) {\n\t        _classCallCheck(this, Row);\n\t\n\t        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Row).call(this));\n\t\n\t        var self = _this;\n\t        _this.rowId = options['id'] || Row.getRandomRowId();\n\t        _this.status = Row.STATUS.NEW;\n\t        _this.parent = options['parent'];\n\t        _this.initValue = null;\n\t        _this.data = {};\n\t        _this.metaChange = {}; //ko.observable(1)\n\t        _this.valueChange = {};\n\t        _this.currentRowChange = ko.observable(1);\n\t        _this.selected = ko.pureComputed({\n\t            read: function read() {\n\t                var index = this.parent.getRowIndex(this);\n\t                var selectindices = this.parent.getSelectedIndices();\n\t                return selectindices.indexOf(index) != -1;\n\t            },\n\t            owner: _this\n\t\n\t        });\n\t        _this.focused = ko.pureComputed({\n\t            read: function read() {\n\t                var index = this.parent.getRowIndex(this);\n\t                var focusIndex = this.parent.getFocusIndex();\n\t                return focusIndex == index;\n\t            },\n\t            owner: _this\n\t\n\t        });\n\t\n\t        //data\n\t        _this.setValue = _rowData.setValue;\n\t        _this.setChildValue = _rowData.setChildValue;\n\t        _this.setChildSimpleDataByRowId = _rowData.setChildSimpleDataByRowId;\n\t        _this.setData = _rowData.setData;\n\t        _this.updateRow = _rowData.updateRow;\n\t\n\t        //getData\n\t        _this.getValue = _rowGetData.getValue;\n\t        _this.getChildValue = _rowGetData.getChildValue;\n\t        _this.getData = _rowGetData.getData;\n\t        _this.getEmptyData = _rowGetData.getEmptyData;\n\t\n\t        //getMeta\n\t        _this.getMeta = _rowGetMeta.getMeta;\n\t\n\t        //getSimpleData\n\t        _this.getSimpleData = _rowGetSimpleData.getSimpleData;\n\t\n\t        //init\n\t        _this.init = _rowInit.init;\n\t\n\t        //meta\n\t        _this.setMeta = _rowMeta.setMeta;\n\t\n\t        //ref\n\t        _this.ref = _rowRef.ref;\n\t        _this.refMeta = _rowRef.refMeta;\n\t        _this.refCombo = _rowRef.refCombo;\n\t        _this.refDate = _rowRef.refDate;\n\t        _this.refEnum = _rowRef.refEnum;\n\t\n\t        //rowSelect\n\t        _this.toggleSelect = _rowRowSelect.toggleSelect;\n\t        _this.singleSelect = _rowRowSelect.singleSelect;\n\t        _this.multiSelect = _rowRowSelect.multiSelect;\n\t\n\t        //simpleData\n\t        _this.setSimpleData = _rowSimpleData.setSimpleData;\n\t\n\t        //util\n\t        _this.formatValue = _rowUtil.formatValue;\n\t\n\t        _this.init();\n\t        return _this;\n\t    }\n\t\n\t    return Row;\n\t}(_indexEvents.Events);\n\t\n\tRow.STATUS = {\n\t    NORMAL: 'nrm',\n\t    UPDATE: 'upd',\n\t    NEW: 'new',\n\t    DELETE: 'del',\n\t    FALSE_DELETE: 'fdel'\n\t};\n\t\n\t/*\n\t * 生成随机行id\n\t * @private\n\t */\n\tRow.getRandomRowId = function () {\n\t    var _id = setTimeout(function () {});\n\t    return _id + '';\n\t};\n\t\n\texports.Row = Row;\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.updateRow = exports.setData = exports.setChildSimpleDataByRowId = exports.setChildValue = exports.setValue = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }; /**\n\t                                                                                                                                                                                                                                                   * Module : kero dataTable row getData\n\t                                                                                                                                                                                                                                                   * Author : liuyk(liuyk@yonyou.com)\n\t                                                                                                                                                                                                                                                   * Date   : 2016-08-08 13:54:01\n\t                                                                                                                                                                                                                                                   */\n\t\n\t\n\tvar _util = __webpack_require__(47);\n\t\n\tvar _util2 = __webpack_require__(9);\n\t\n\t/**\n\t*设置row中某一列的值\n\t*/\n\tvar setValue = function setValue(fieldName, value, ctx, options) {\n\t    if (arguments.length === 1) {\n\t        value = fieldName;\n\t        fieldName = '$data';\n\t    }\n\t    var oldValue = this.getValue(fieldName);\n\t    if (typeof oldValue == 'undefined' || oldValue === null) oldValue = '';\n\t    if ((0, _util.eq)(oldValue, value)) return;\n\t    (0, _util._getField)(fieldName)['value'] = value;\n\t    (0, _util._triggerChange)(fieldName, oldValue, ctx);\n\t};\n\t\n\tvar setChildValue = function setChildValue(fieldName, value) {\n\t    var nameArr = fieldName.split('.');\n\t    var _name = nameArr[0];\n\t    var _field = this.data[_name]; //_field保存当前_name对应的数据\n\t    for (var i = 0, count = nameArr.length; i < count; i++) {\n\t        //最后一级\n\t        if (i == count - 1) {\n\t            if (_field['value'] instanceof u.DataTable) {\n\t                //暂不处理\n\t            } else {\n\t                this.setValue(fieldName, value);\n\t            }\n\t        } else {\n\t            if (_field && _field['value'] instanceof u.DataTable) {\n\t                var row = _field['value'].getCurrentRow();\n\t                if (row) row.setChildValue(fieldName.replace(_name + '.', ''), value);\n\t            } else {\n\t                _name = nameArr[i + 1];\n\t                _field = _field[_name]; //多层嵌套时_field取子项对应的数据\n\t            }\n\t        }\n\t    }\n\t};\n\t\n\tvar setChildSimpleDataByRowId = function setChildSimpleDataByRowId(rowId, data) {\n\t    var rowIdArr = rowId.split('.');\n\t    var rowIdLength = rowIdArr.length;\n\t    if (rowIdLength > 1) {\n\t        var _childField = rowIdArr[0]; //子表字段\n\t        var _childObj = this.data[_childField]; // 子表字段存放的obj\n\t        if (_childObj && _childObj['value'] instanceof u.DataTable) {\n\t            var rowId = rowIdArr[1];\n\t            var row = null;\n\t            if (rowId) row = _childObj['value'].getRowByRowId(rowId);\n\t            if (row) {\n\t                if (rowIdArr.length == 2) {\n\t                    row.setSimpleData(data);\n\t                } else {\n\t                    row.setChildSimpleDataByRowId(fieldName.replace(_childField + '.' + rowId + '.', ''), data);\n\t                }\n\t            }\n\t        }\n\t    }\n\t};\n\t\n\t/**\n\t * [_setData description]\n\t * @param {[type]} sourceData \n\t * @param {[type]} targetData \n\t * @param {[type]} subscribe  \n\t * @param {[type]} parentKey  [父项key，数据项为数组时获取meta值用]\n\t */\n\tvar _setData = function _setData(sourceData, targetData, subscribe, parentKey) {\n\t    for (var key in sourceData) {\n\t        var _parentKey = parentKey || null;\n\t        //if (targetData[key]) {\n\t        targetData[key] = targetData[key] || {};\n\t        var valueObj = sourceData[key];\n\t        if ((typeof valueObj === 'undefined' ? 'undefined' : _typeof(valueObj)) != 'object') this.parent.createField(key);\n\t        //if (typeof this.parent.meta[key] === 'undefined') continue;\n\t        if (valueObj == null || (typeof valueObj === 'undefined' ? 'undefined' : _typeof(valueObj)) != 'object') {\n\t            targetData[key]['value'] = this.formatValue(key, valueObj);\n\t            if (subscribe === true && oldValue !== targetData[key]['value']) {\n\t                (0, _util._triggerChange)(key, oldValue);\n\t            }\n\t        } else {\n\t            if (valueObj.error) {\n\t                if (u.showMessageDialog) u.showMessageDialog({ title: \"警告\", msg: valueObj.error, backdrop: true });else alert(valueObj.error);\n\t            } else if (valueObj.value || valueObj.value === null || valueObj.meta || valueObj.value === '' || valueObj.value === '0' || valueObj.value === 0) {\n\t                var oldValue = targetData[key]['value'];\n\t                targetData[key]['value'] = this.formatValue(key, valueObj.value);\n\t                if (subscribe === true && oldValue !== targetData[key]['value']) {\n\t                    (0, _util._triggerChange)(key, oldValue);\n\t                }\n\t                for (var k in valueObj.meta) {\n\t                    this.setMeta(key, k, valueObj.meta[k]);\n\t                }\n\t            } else if ((0, _util2.isArray)(valueObj)) {\n\t                targetData[key].isChild = true;\n\t                //ns 是多级数据时的空间名： 最顶层的dataTable没有ns。  f1.f2.f3\n\t                var _key = _parentKey == null ? key : _parentKey + '.' + key;\n\t                var ns = this.parent.ns === '' ? key : this.parent.ns + '.' + _key;\n\t                if (this.parent.meta[_key]) {\n\t                    var meta = this.parent.meta[_key]['meta'];\n\t                    targetData[key].value = new u.DataTable({ root: this.parent.root, ns: ns, meta: meta });\n\t                    targetData[key].value.setSimpleData(valueObj);\n\t                }\n\t            } else {\n\t                _parentKey = _parentKey == null ? key : _parentKey + '.' + key;\n\t                this._setData(valueObj, targetData[key], null, _parentKey);\n\t            }\n\t        }\n\t        //}\n\t    }\n\t};\n\t\n\t/**\n\t *设置Row数据\n\t *@subscribe 是否触发监听  \n\t */\n\tvar setData = function setData(data, subscribe) {\n\t    this.status = data.status;\n\t    var sourceData = data.data,\n\t        targetData = this.data;\n\t    if (this.parent.root.strict != true) {\n\t        this._setData(sourceData, targetData, subscribe);\n\t        return;\n\t    }\n\t\n\t    // strict 为true 时 ，定义dataTable的时候必须定义所有字段信息才能设置数据。\n\t    var meta = this.parent.meta;\n\t    for (var key in meta) {\n\t        var oldValue = newValue = null;\n\t        //子数据\n\t        if (meta[key]['type'] && meta[key]['type'] === 'child') {\n\t            targetData[key].isChild = true;\n\t            //ns 是多级数据时的空间名： 最顶层的dataTable没有ns。  f1.f2.f3\n\t            var ns = this.parent.ns === '' ? key : this.parent.ns + '.' + key;\n\t            var meta = this.parent.meta[key]['meta'];\n\t            targetData[key].value = new u.DataTable({ root: this.parent.root, ns: ns, meta: meta });\n\t            if (_typeof(sourceData[key]) === 'object') targetData[key].value.setSimpleData(sourceData[key]);\n\t        }\n\t        //存在多级关系\n\t        else if (key.indexOf('.') != -1) {\n\t                var keys = key.split('.');\n\t                var _fieldValue = sourceData;\n\t                var _targetField = targetData;\n\t                for (var i = 0; i < keys.length; i++) {\n\t                    _fieldValue = _fieldValue || {};\n\t                    _fieldValue = _fieldValue[keys[i]];\n\t                    _targetField = _targetField[keys[i]];\n\t                }\n\t                oldValue = _targetField['value'];\n\t                _targetField['value'] = this.formatValue(key, _fieldValue);\n\t                newValue = _targetField['value'];\n\t            }\n\t            // 通过 setSimpleData 设置的数据\n\t            else if (sourceData[key] == null || _typeof(sourceData[key]) != 'object') {\n\t                    oldValue = targetData[key]['value'];\n\t                    targetData[key]['value'] = this.formatValue(key, sourceData[key]);\n\t                    newValue = targetData[key]['value'];\n\t                } else {\n\t                    var valueObj = sourceData[key];\n\t                    if (valueObj.error) {\n\t                        if (u.showMessageDialog) u.showMessageDialog({ title: \"警告\", msg: valueObj.error, backdrop: true });else alert(valueObj.error);\n\t                    } else if (valueObj.value || valueObj.value === null || valueObj.meta) {\n\t                        oldValue = targetData[key]['value'];\n\t                        targetData[key]['value'] = this.formatValue(key, valueObj.value);\n\t                        newValue = targetData[key]['value'];\n\t                        for (var k in valueObj.meta) {\n\t                            this.setMeta(key, k, valueObj.meta[k]);\n\t                        }\n\t                    }\n\t                }\n\t        if (subscribe === true && oldValue !== newValue) {\n\t            (0, _util._triggerChange)(key, oldValue);\n\t        }\n\t    }\n\t};\n\t\n\tvar updateRow = function updateRow(row) {\n\t    this.setData(row);\n\t};\n\t\n\texports.setValue = setValue;\n\texports.setChildValue = setChildValue;\n\texports.setChildSimpleDataByRowId = setChildSimpleDataByRowId;\n\texports.setData = setData;\n\texports.updateRow = updateRow;\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getEmptyData = exports.getData = exports.getChildValue = exports.getValue = undefined;\n\t\n\tvar _util = __webpack_require__(47);\n\t\n\t/**\n\t *获取row中某一列的值\n\t */\n\tvar getValue = function getValue(fieldName) {\n\t    return (0, _util._getField)(fieldName)['value'];\n\t};\n\t\n\t/**\n\t * 获取子表值 ，如果fieldName对应了一个子表，返回该子表的行数组\n\t * @param fieldName\n\t */\n\t/**\n\t * Module : kero dataTable row getData\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 13:54:01\n\t */\n\tvar getChildValue = function getChildValue(fieldName) {\n\t    var nameArr = fieldName.split('.');\n\t    var _name = nameArr[0];\n\t    for (var i = 0, count = nameArr.length; i < count; i++) {\n\t        var _value = this.getValue(_name);\n\t        //最后一级\n\t        if (i == count - 1) {\n\t            if (_value instanceof u.DataTable) {\n\t                return _value.rows.peek();\n\t            } else {\n\t                return _value;\n\t            }\n\t        } else {\n\t            if (_value instanceof u.DataTable) {\n\t                _value = _value.getCurrentRow();\n\t                if (!_value) return '';else return _value.getChildValue(fieldName.replace(_name + '.', ''));\n\t            } else {\n\t                _name = _name + '.' + nameArr[i + 1];\n\t            }\n\t        }\n\t    }\n\t    return '';\n\t};\n\t\n\t/**\n\t * @private\n\t * 提交数据到后台\n\t */\n\tvar getData = function getData() {\n\t    var data = ko.toJS(this.data);\n\t    var meta = this.parent.getMeta();\n\t    for (var key in meta) {\n\t        if (meta[key] && meta[key].type) {\n\t            if (meta[key].type == 'date' || meta[key].type == 'datetime') {\n\t                if (key.indexOf('.') > 0) {\n\t                    //大于0说明是多级json\n\t                    var keys = key.split('.');\n\t                    var _keyValue = data;\n\t                    for (var i = 0, count = keys.length; i < count; i++) {\n\t                        _keyValue = _keyValue[keys[i]];\n\t                    }\n\t                    _keyValue.value = (0, _util._dateToUTCString)(_keyValue.value);\n\t                } else {\n\t                    data[key].value = (0, _util._dateToUTCString)(data[key].value);\n\t                }\n\t            } else if (meta[key].type == 'child') {\n\t                var chiddt = this.getValue(key),\n\t                    rs = chiddt.rows(),\n\t                    cds = [];\n\t                for (var i = 0; i < rs.length; i++) {\n\t                    cds.push(rs[i].getData());\n\t                }\n\t                data[key].value = JSON.stringify(cds);\n\t            }\n\t        }\n\t    }\n\t    return { 'id': this.rowId, 'status': this.status, data: data };\n\t};\n\t\n\tvar getEmptyData = function getEmptyData() {\n\t    return { 'id': this.rowId, 'status': this.status, data: {} };\n\t};\n\t\n\texports.getValue = getValue;\n\texports.getChildValue = getChildValue;\n\texports.getData = getData;\n\texports.getEmptyData = getEmptyData;\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getMeta = undefined;\n\t\n\tvar _util = __webpack_require__(47);\n\t\n\t/**\n\t *获取row中某一列的属性\n\t */\n\tvar getMeta = function getMeta(fieldName, key, fetchParent) {\n\t    if (arguments.length == 0) {\n\t        var mt = {};\n\t        for (var k in this.data) {\n\t            mt[k] = this.data[k].meta ? this.data[k].meta : {};\n\t        }\n\t        return mt;\n\t    }\n\t    var meta = (0, _util._getField)(fieldName).meta;\n\t    if (meta && meta[key] !== undefined && meta[key] !== null && meta[key] !== '') return meta[key];else if (typeof fetchParent == 'undefined' || fetchParent != false) return this.parent.getMeta(fieldName, key);\n\t    return undefined;\n\t}; /**\n\t    * Module : kero dataTable row getMeta\n\t    * Author : liuyk(liuyk@yonyou.com)\n\t    * Date   : 2016-08-08 13:54:01\n\t    */\n\t\n\texports.getMeta = getMeta;\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.getSimpleData = undefined;\n\t\n\tvar _util = __webpack_require__(47);\n\t\n\tvar _util2 = __webpack_require__(9);\n\t\n\t/**\n\t * Module : kero dataTable row getSimpleData\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 13:54:01\n\t */\n\tvar _getSimpleData = function _getSimpleData(data) {\n\t    var _data = {};\n\t    var meta = this.parent.getMeta() || {};\n\t    for (var key in data) {\n\t        if (key === 'meta' || (0, _util2.isEmptyObject)(data[key])) {\n\t            continue;\n\t        } else if (data[key].isChild) {\n\t            _data[key] = data[key].value ? data[key].value.getSimpleData() : {};\n\t        } else if (key === '$data') {\n\t            //处理一维数组： [1,2,3]\n\t            _data = data[key].value;\n\t        } else if (typeof data[key].value !== 'undefined') {\n\t            //如果类型为boolean，无论值为false、true都应该等于他本身\n\t            if (meta[key] && meta[key].type === 'boolean') {\n\t                _data[key] = data[key].value ? true : false; //默认值可能是null\n\t            } else {\n\t                _data[key] = data[key].value;\n\t            }\n\t            if (meta[key] && meta[key].type) {\n\t                if (meta[key].type == 'date' || meta[key].type == 'datetime') {\n\t\n\t                    _data[key] = (0, _util._dateToUTCString)(data[key].value);\n\t                }\n\t            }\n\t        } else {\n\t            _data[key] = this._getSimpleData(data[key]);\n\t        }\n\t    }\n\t    return _data;\n\t};\n\t\n\tvar getSimpleData = function getSimpleData(options) {\n\t    options = options || {};\n\t    var fields = options['fields'] || null;\n\t    var meta = this.parent.getMeta();\n\t    var data = this.data;\n\t    var _data = this._getSimpleData(data); //{};\n\t    var _fieldsData = {};\n\t    if (fields) {\n\t        for (var key in _data) {\n\t            if (fields.indexOf(key) != -1) {\n\t                _fieldsData[key] = _data[key];\n\t            }\n\t        }\n\t        return _fieldsData;\n\t    }\n\t    return _data;\n\t};\n\t\n\texports.getSimpleData = getSimpleData;\n\n/***/ },\n/* 65 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\t/**\n\t * Module : kero dataTable row init\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 13:54:01\n\t */\n\t\n\t/**\n\t* Row初始化方法\n\t* @private\n\t*/\n\tvar init = function init() {\n\t    var meta = this.parent.meta;\n\t\n\t    for (var key in meta) {\n\t        var targetData;\n\t        if (key.indexOf('.') > 0) {\n\t            var keys = key.split('.');\n\t            targetData = this.data[keys[0]] = this.data[keys[0]] || {};\n\t            for (var i = 1; i < keys.length; i++) {\n\t                targetData[keys[i]] = targetData[keys[i]] || {};\n\t                targetData = targetData[keys[i]];\n\t            }\n\t        } else {\n\t            this.data[key] = this.data[key] || {};\n\t            targetData = this.data[key];\n\t        }\n\t        targetData.value = null;\n\t        //this.data[key] = {}\n\t        //处理子表\n\t        if (meta[key]['type'] && meta[key]['type'] === 'child') {\n\t            targetData.isChild = true;\n\t            //ns 是多级数据时的空间名： 最顶层的dataTable没有ns。  f1.f2.f3\n\t            var ns = this.parent.ns === '' ? key : this.parent.ns + '.' + key;\n\t            targetData.value = new u.DataTable({ root: this.parent.root, ns: ns, meta: meta[key]['meta'] });\n\t        }\n\t        //添加默认值\n\t        else if (meta[key]['default']) {\n\t                var defaults = meta[key]['default'];\n\t                if ((typeof defaults === 'undefined' ? 'undefined' : _typeof(defaults)) === 'object') {\n\t                    for (var k in defaults) {\n\t                        if (k == 'value') {\n\t                            if (typeof defaults[k] === 'function') targetData.value = this.formatValue(key, defaults[k]());else targetData.value = this.formatValue(key, defaults[k]);\n\t                        } else {\n\t                            targetData.meta = targetData.meta || {};\n\t                            targetData.meta[k] = defaults[k];\n\t                        }\n\t                    }\n\t                } else {\n\t                    if (typeof defaults === 'function') targetData.value = this.formatValue(key, defaults());else targetData.value = this.formatValue(key, defaults);\n\t                }\n\t            }\n\t    }\n\t};\n\t\n\texports.init = init;\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.setMeta = undefined;\n\t\n\tvar _util = __webpack_require__(47);\n\t\n\t/**\n\t *设置row中某一列的属性\n\t */\n\tvar setMeta = function setMeta(fieldName, key, value) {\n\t    var meta = (0, _util._getField)(fieldName).meta;\n\t    if (!meta) meta = (0, _util._getField)(fieldName).meta = {};\n\t    var oldValue = meta[key];\n\t    if ((0, _util.eq)(oldValue, value)) return;\n\t    meta[key] = value;\n\t    //this.metaChange(- this.metaChange())\n\t    if (this.metaChange[fieldName + '.' + key]) {\n\t        this.metaChange[fieldName + '.' + key](-this.metaChange[fieldName + '.' + key]());\n\t    }\n\t\n\t    if (key == 'enable') this.parent.enableChange(-this.parent.enableChange());\n\t    if (this.parent.getCurrentRow() == this) {\n\t        if (this.parent.metaChange[fieldName + '.' + key]) this.parent.metaChange[fieldName + '.' + key](-this.parent.metaChange[fieldName + '.' + key]());\n\t        this.parent.trigger(fieldName + '.' + key + '.' + DataTable.ON_CURRENT_META_CHANGE, {\n\t            eventType: 'dataTableEvent',\n\t            dataTable: this.parent.id,\n\t            oldValue: oldValue,\n\t            newValue: value\n\t        });\n\t        //this.parent.metaChange(- this.parent.metaChange())\n\t    }\n\t    this.parent.trigger(DataTable.ON_ROW_META_CHANGE, {\n\t        eventType: 'dataTableEvent',\n\t        dataTable: this.parent.id,\n\t        field: fieldName,\n\t        meta: key,\n\t        oldValue: oldValue,\n\t        newValue: value,\n\t        row: this\n\t    });\n\t\n\t    this.parent.trigger(fieldName + '.' + key + '.' + DataTable.ON_ROW_META_CHANGE, {\n\t        eventType: 'dataTableEvent',\n\t        dataTable: this.parent.id,\n\t        field: fieldName,\n\t        meta: key,\n\t        oldValue: oldValue,\n\t        newValue: value,\n\t        row: this\n\t    });\n\t}; /**\n\t    * Module : kero dataTable row meta\n\t    * Author : liuyk(liuyk@yonyou.com)\n\t    * Date   : 2016-08-08 13:54:01\n\t    */\n\texports.setMeta = setMeta;\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.refEnum = exports.refDate = exports.refCombo = exports.refMeta = exports.ref = undefined;\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar _dateUtils = __webpack_require__(68);\n\t\n\tvar _util2 = __webpack_require__(47);\n\t\n\tvar ref = function ref(fieldName) {\n\t    this.parent.createField(fieldName);\n\t    if (!this.valueChange[fieldName]) this.valueChange[fieldName] = ko.observable(1);\n\t    return ko.pureComputed({\n\t        read: function read() {\n\t            this.valueChange[fieldName]();\n\t            this.currentRowChange();\n\t            return this.getChildValue(fieldName);\n\t            //var value = this._getField(fieldName)['value'];\n\t            //return value;\n\t        },\n\t        write: function write(value) {\n\t            this.setChildValue(fieldName, value);\n\t            //this.setValue(fieldName, value)\n\t        },\n\t        owner: this\n\t    });\n\t}; /**\n\t    * Module : kero dataTable row ref\n\t    * Author : liuyk(liuyk@yonyou.com)\n\t    * Date   : 2016-08-08 13:54:01\n\t    */\n\t\n\t\n\tvar refMeta = function refMeta(fieldName, key) {\n\t    if (!this.metaChange[fieldName + '.' + key]) this.metaChange[fieldName + '.' + key] = ko.observable(1);\n\t    return ko.pureComputed({\n\t        read: function read() {\n\t            this.metaChange[fieldName + '.' + key]();\n\t            return this.getMeta(fieldName, key);\n\t        },\n\t        write: function write(value) {\n\t            this.setMeta(fieldName, key, value);\n\t        },\n\t        owner: this\n\t    });\n\t};\n\tvar refCombo = function refCombo(fieldName, datasource) {\n\t    if (!this.valueChange[fieldName]) this.valueChange[fieldName] = ko.observable(1);\n\t    return ko.pureComputed({\n\t        read: function read() {\n\t            this.valueChange[fieldName]();\n\t            this.currentRowChange();\n\t            var ds = (0, _util.getJSObject)(this.parent.parent, datasource);\n\t            if ((0, _util2._getField)(fieldName)['value'] === undefined || (0, _util2._getField)(fieldName)['value'] === \"\") return \"\";\n\t            var v = (0, _util2._getField)(fieldName)['value'];\n\t            var valArr = typeof v === 'string' ? v.split(',') : [v];\n\t\n\t            var nameArr = [];\n\t\n\t            for (var i = 0, length = ds.length; i < length; i++) {\n\t                for (var j = 0; j < valArr.length; j++) {\n\t                    var value = ds[i]['pk'] || ds[i]['value'] || '';\n\t                    if (value == valArr[j]) {\n\t                        nameArr.push(ds[i].name);\n\t                    }\n\t                }\n\t            }\n\t\n\t            return nameArr.toString();\n\t        },\n\t        write: function write(value) {\n\t\n\t            this.setValue(fieldName, value);\n\t        },\n\t        owner: this\n\t    });\n\t};\n\tvar refDate = function refDate(fieldName, format) {\n\t    if (!this.valueChange[fieldName]) this.valueChange[fieldName] = ko.observable(1);\n\t    return ko.pureComputed({\n\t        read: function read() {\n\t            this.valueChange[fieldName]();\n\t            this.currentRowChange();\n\t            if (!(0, _util2._getField)(fieldName)['value']) return \"\";\n\t            var valArr = (0, _util2._getField)(fieldName)['value'];\n\t            if (!valArr) return \"\";\n\t            valArr = _dateUtils.date.format(valArr, format); //moment(valArr).format(format)\n\t            return valArr;\n\t        },\n\t        write: function write(value) {\n\t\n\t            this.setValue(fieldName, value);\n\t        },\n\t        owner: this\n\t    });\n\t};\n\t\n\t// 刘云燕提交\n\tvar refEnum = function refEnum(fieldName) {\n\t    this.parent.createField(fieldName);\n\t    if (!this.valueChange[fieldName]) this.valueChange[fieldName] = ko.observable(1);\n\t    return ko.pureComputed({\n\t        read: function read() {\n\t            this.valueChange[fieldName]();\n\t            this.currentRowChange();\n\t            if (!(0, _util2._getField)(fieldName)['value']) return \"\";\n\t            var valArr = (0, _util2._getField)(fieldName)['value'];\n\t            if (!valArr) return \"\";\n\t            if (valArr == \"N\") valArr = \"否\";else if (valArr == \"Y\") valArr = \"是\";\n\t            return valArr;\n\t        },\n\t        write: function write(value) {\n\t\n\t            this.setValue(fieldName, value);\n\t        },\n\t        owner: this\n\t    });\n\t};\n\t\n\texports.ref = ref;\n\texports.refMeta = refMeta;\n\texports.refCombo = refCombo;\n\texports.refDate = refDate;\n\texports.refEnum = refEnum;\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.date = undefined;\n\t\n\tvar _core = __webpack_require__(69);\n\t\n\tvar u = {}; /**\n\t             * Module : Sparrow date util\n\t             * Author : Kvkens(yueming@yonyou.com)\n\t             * Date\t  : 2016-08-06 13:37:20\n\t             */\n\t\n\tu.date = {\n\t\n\t\t/**\n\t  * 多语言处理\n\t  */\n\t\t//TODO 后续放到多语文件中\n\t\t_dateLocale: {\n\t\t\t'zh-CN': {\n\t\t\t\tmonths: '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),\n\t\t\t\tmonthsShort: '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),\n\t\t\t\tweekdays: '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),\n\t\t\t\tweekdaysShort: '周日_周一_周二_周三_周四_周五_周六'.split('_'),\n\t\t\t\tweekdaysMin: '日_一_二_三_四_五_六'.split('_')\n\t\t\t},\n\t\t\t'en-US': {\n\t\t\t\tmonths: 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n\t\t\t\tmonthsShort: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n\t\t\t\tweekdays: 'Sunday_Monday_Tuesday_Wednesday_Thurday_Friday_Saturday'.split('_'),\n\t\t\t\tweekdaysShort: 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n\t\t\t\tweekdaysMin: 'S_M_T_W_T_F_S'.split('_')\n\t\t\t}\n\t\t},\n\t\n\t\t_formattingTokens: /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYY|YY|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,\n\t\n\t\tleftZeroFill: function leftZeroFill(number, targetLength, forceSign) {\n\t\t\tvar output = '' + Math.abs(number),\n\t\t\t    sign = number >= 0;\n\t\t\twhile (output.length < targetLength) {\n\t\t\t\toutput = '0' + output;\n\t\t\t}\n\t\t\treturn (sign ? forceSign ? '+' : '' : '-') + output;\n\t\t},\n\t\n\t\t_formats: {\n\t\t\t//year\n\t\t\tYY: function YY(date) {\n\t\t\t\treturn u.date.leftZeroFill(date.getFullYear() % 100, 2);\n\t\t\t},\n\t\t\tYYYY: function YYYY(date) {\n\t\t\t\treturn date.getFullYear();\n\t\t\t},\n\t\t\t//month\n\t\t\tM: function M(date) {\n\t\t\t\treturn date.getMonth() + 1;\n\t\t\t},\n\t\t\tMM: function MM(date) {\n\t\t\t\tvar m = u.date._formats.M(date);\n\t\t\t\treturn u.date.leftZeroFill(m, 2);\n\t\t\t},\n\t\t\tMMM: function MMM(date, language) {\n\t\t\t\tvar m = date.getMonth();\n\t\t\t\treturn u.date._dateLocale[language].monthsShort[m];\n\t\t\t},\n\t\t\tMMMM: function MMMM(date, language) {\n\t\t\t\tvar m = date.getMonth();\n\t\t\t\treturn u.date._dateLocale[language].months[m];\n\t\t\t},\n\t\t\t//date\n\t\t\tD: function D(date) {\n\t\t\t\treturn date.getDate();\n\t\t\t},\n\t\t\tDD: function DD(date) {\n\t\t\t\tvar d = u.date._formats.D(date);\n\t\t\t\treturn u.date.leftZeroFill(d, 2);\n\t\t\t},\n\t\t\t// weekday\n\t\t\td: function d(date) {\n\t\t\t\treturn date.getDay();\n\t\t\t},\n\t\t\tdd: function dd(date, language) {\n\t\t\t\tvar d = u.date._formats.d(date);\n\t\t\t\treturn u.date._dateLocale[language].weekdaysMin[d];\n\t\t\t},\n\t\t\tddd: function ddd(date, language) {\n\t\t\t\tvar d = u.date._formats.d(date);\n\t\t\t\treturn u.date._dateLocale[language].weekdaysShort[d];\n\t\t\t},\n\t\t\tdddd: function dddd(date, language) {\n\t\t\t\tvar d = u.date._formats.d(date);\n\t\t\t\treturn u.date._dateLocale[language].weekdays[d];\n\t\t\t},\n\t\t\t// am pm\n\t\t\ta: function a(date) {\n\t\t\t\tif (date.getHours() > 12) {\n\t\t\t\t\treturn 'pm';\n\t\t\t\t} else {\n\t\t\t\t\treturn 'am';\n\t\t\t\t}\n\t\t\t},\n\t\t\t//hour\n\t\t\th: function h(date) {\n\t\t\t\tvar h = date.getHours();\n\t\t\t\th = h > 12 ? h - 12 : h;\n\t\t\t\treturn h;\n\t\t\t},\n\t\t\thh: function hh(date) {\n\t\t\t\tvar h = u.date._formats.h(date);\n\t\t\t\treturn u.date.leftZeroFill(h, 2);\n\t\t\t},\n\t\t\tH: function H(date) {\n\t\t\t\treturn date.getHours();\n\t\t\t},\n\t\t\tHH: function HH(date) {\n\t\t\t\treturn u.date.leftZeroFill(date.getHours(), 2);\n\t\t\t},\n\t\t\t// minutes\n\t\t\tm: function m(date) {\n\t\t\t\treturn date.getMinutes();\n\t\t\t},\n\t\t\tmm: function mm(date) {\n\t\t\t\treturn u.date.leftZeroFill(date.getMinutes(), 2);\n\t\t\t},\n\t\t\t//seconds\n\t\t\ts: function s(date) {\n\t\t\t\treturn date.getSeconds();\n\t\t\t},\n\t\t\tss: function ss(date) {\n\t\t\t\treturn u.date.leftZeroFill(date.getSeconds(), 2);\n\t\t\t}\n\t\t},\n\t\n\t\t/**\n\t  * 日期格式化\n\t  * @param date\n\t  * @param formatString\n\t  */\n\t\tformat: function format(date, formatString, language) {\n\t\t\tif (!date) return date;\n\t\t\tvar array = formatString.match(u.date._formattingTokens),\n\t\t\t    i,\n\t\t\t    length,\n\t\t\t    output = '';\n\t\t\tvar _date = u.date.getDateObj(date);\n\t\t\tif (!_date) return date;\n\t\t\tlanguage = language || _core.core.getLanguages();\n\t\t\tfor (i = 0, length = array.length; i < length; i++) {\n\t\t\t\tif (u.date._formats[array[i]]) {\n\t\t\t\t\toutput += u.date._formats[array[i]](_date, language);\n\t\t\t\t} else {\n\t\t\t\t\toutput += array[i];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn output;\n\t\t},\n\t\n\t\t_addOrSubtract: function _addOrSubtract(date, period, value, isAdding) {\n\t\t\tvar times = date.getTime(),\n\t\t\t    d = date.getDate(),\n\t\t\t    m = date.getMonth(),\n\t\t\t    _date = u.date.getDateObj(date);\n\t\t\tif (period === 'ms') {\n\t\t\t\ttimes = times + value * isAdding;\n\t\t\t\t_date.setTime(times);\n\t\t\t} else if (period == 's') {\n\t\t\t\ttimes = times + value * 1000 * isAdding;\n\t\t\t\t_date.setTime(times);\n\t\t\t} else if (period == 'm') {\n\t\t\t\ttimes = times + value * 60000 * isAdding;\n\t\t\t\t_date.setTime(times);\n\t\t\t} else if (period == 'h') {\n\t\t\t\ttimes = times + value * 3600000 * isAdding;\n\t\t\t\t_date.setTime(times);\n\t\t\t} else if (period == 'd') {\n\t\t\t\td = d + value * isAdding;\n\t\t\t\t_date.setDate(d);\n\t\t\t} else if (period == 'w') {\n\t\t\t\td = d + value * 7 * isAdding;\n\t\t\t\t_date.setDate(d);\n\t\t\t} else if (period == 'M') {\n\t\t\t\tm = m + value * isAdding;\n\t\t\t\t_date.setMonth(d);\n\t\t\t} else if (period == 'y') {\n\t\t\t\tm = m + value * 12 * isAdding;\n\t\t\t\t_date.setMonth(d);\n\t\t\t}\n\t\t\treturn _date;\n\t\t},\n\t\n\t\tadd: function add(date, period, value) {\n\t\t\treturn u.date._addOrSubtract(date, period, value, 1);\n\t\t},\n\t\tsub: function sub(date, period, value) {\n\t\t\treturn u.date._addOrSubtract(date, period, value, -1);\n\t\t},\n\t\tgetDateObj: function getDateObj(value) {\n\t\t\tif (!value || typeof value == 'undefined') return value;\n\t\t\tvar dateFlag = false;\n\t\t\tvar _date = new Date(value);\n\t\t\tif (isNaN(_date)) {\n\t\t\t\t// IE的话对\"2016-2-13 12:13:22\"进行处理\n\t\t\t\tvar index1, index2, index3, s1, s2, s3;\n\t\t\t\tif (value.indexOf) {\n\t\t\t\t\tindex1 = value.indexOf('-');\n\t\t\t\t\tindex2 = value.indexOf(':');\n\t\t\t\t\tindex3 = value.indexOf(' ');\n\t\t\t\t\tif (index1 > 0 || index2 > 0 || index3 > 0) {\n\t\t\t\t\t\t_date = new Date();\n\t\t\t\t\t\tif (index3 > 0) {\n\t\t\t\t\t\t\ts3 = value.split(' ');\n\t\t\t\t\t\t\ts1 = s3[0].split('-');\n\t\t\t\t\t\t\ts2 = s3[1].split(':');\n\t\t\t\t\t\t} else if (index1 > 0) {\n\t\t\t\t\t\t\ts1 = value.split('-');\n\t\t\t\t\t\t} else if (index2 > 0) {\n\t\t\t\t\t\t\ts2 = value.split(':');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (s1 && s1.length > 0) {\n\t\t\t\t\t\t\t_date.setYear(s1[0]);\n\t\t\t\t\t\t\t_date.setMonth(parseInt(s1[1] - 1));\n\t\t\t\t\t\t\t_date.setDate(s1[2] ? s1[2] : 0);\n\t\t\t\t\t\t\tdateFlag = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (s2 && s2.length > 0) {\n\t\t\t\t\t\t\t_date.setHours(s2[0] ? s2[0] : 0);\n\t\t\t\t\t\t\t_date.setMinutes(s2[1] ? s2[1] : 0);\n\t\t\t\t\t\t\t_date.setSeconds(s2[2] ? s2[2] : 0);\n\t\t\t\t\t\t\tdateFlag = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_date = new Date(parseInt(value));\n\t\t\t\t\t\tif (isNaN(_date)) {\n\t\t\t\t\t\t\tthrow new TypeError('invalid Date parameter');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdateFlag = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdateFlag = true;\n\t\t\t}\n\t\n\t\t\tif (dateFlag) return _date;else return null;\n\t\t}\n\t\n\t};\n\t\n\tvar date = u.date;\n\texports.date = date;\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports.core = undefined;\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }; /**\n\t                                                                                                                                                                                                                                                   * Module : Sparrow core context\n\t                                                                                                                                                                                                                                                   * Author : Kvkens(yueming@yonyou.com)\n\t                                                                                                                                                                                                                                                   * Date\t  : 2016-07-28 13:52:19\n\t                                                                                                                                                                                                                                                   */\n\t\n\t\n\tvar _extend = __webpack_require__(7);\n\t\n\tvar _extend2 = _interopRequireDefault(_extend);\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar _cookies = __webpack_require__(70);\n\t\n\tvar _enumerables = __webpack_require__(8);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar environment = {};\n\t/**\n\t * client attributes\n\t */\n\tvar clientAttributes = {};\n\t\n\tvar sessionAttributes = {};\n\t\n\tvar fn = {};\n\tvar maskerMeta = {\n\t\t'float': {\n\t\t\tprecision: 2\n\t\t},\n\t\t'datetime': {\n\t\t\tformat: 'YYYY-MM-DD HH:mm:ss',\n\t\t\tmetaType: 'DateTimeFormatMeta',\n\t\t\tsperatorSymbol: '-'\n\t\t},\n\t\t'time': {\n\t\t\tformat: 'HH:mm'\n\t\t},\n\t\t'date': {\n\t\t\tformat: 'YYYY-MM-DD'\n\t\t},\n\t\t'currency': {\n\t\t\tprecision: 2,\n\t\t\tcurSymbol: '￥'\n\t\t},\n\t\t'percent': {}\n\t};\n\t/**\n\t * 获取环境信息\n\t * @return {environment}\n\t */\n\tfn.getEnvironment = function () {\n\t\treturn (0, _util.createShellObject)(environment);\n\t};\n\t\n\t/**\n\t * 获取客户端参数对象\n\t * @return {clientAttributes}\n\t */\n\tfn.getClientAttributes = function () {\n\t\tvar exf = function exf() {};\n\t\treturn (0, _util.createShellObject)(clientAttributes);\n\t};\n\t\n\tfn.setContextPath = function (contextPath) {\n\t\treturn environment[IWEB_CONTEXT_PATH] = contextPath;\n\t};\n\tfn.getContextPath = function (contextPath) {\n\t\treturn environment[IWEB_CONTEXT_PATH];\n\t};\n\t/**\n\t * 设置客户端参数对象\n\t * @param {Object} k 对象名称\n\t * @param {Object} v 对象值(建议使用简单类型)\n\t */\n\tfn.setClientAttribute = function (k, v) {\n\t\tclientAttributes[k] = v;\n\t};\n\t/**\n\t * 获取会话级参数对象\n\t * @return {clientAttributes}\n\t */\n\tfn.getSessionAttributes = function () {\n\t\tvar exf = function exf() {};\n\t\treturn (0, _util.createShellObject)(sessionAttributes);\n\t};\n\t\n\t/**\n\t * 设置会话级参数对象\n\t * @param {Object} k 对象名称\n\t * @param {Object} v 对象值(建议使用简单类型)\n\t */\n\tfn.setSessionAttribute = function (k, v) {\n\t\tsessionAttributes[k] = v;\n\t\t(0, _cookies.setCookie)(\"ISES_\" + k, v);\n\t};\n\t\n\t/**\n\t * 移除客户端参数\n\t * @param {Object} k 对象名称\n\t */\n\tfn.removeClientAttribute = function (k) {\n\t\tclientAttributes[k] = null;\n\t\texecIgnoreError(function () {\n\t\t\tdelete clientAttributes[k];\n\t\t});\n\t};\n\t\n\t/**\n\t * 获取地区信息编码\n\t */\n\tfn.getLocale = function () {\n\t\treturn this.getEnvironment().locale;\n\t};\n\t\n\t/**\n\t * 获取多语信息\n\t */\n\tfn.getLanguages = function () {\n\t\treturn this.getEnvironment().languages;\n\t};\n\t/**\n\t * 收集环境信息(包括客户端参数)\n\t * @return {Object}\n\t */\n\tfn.collectEnvironment = function () {\n\t\tvar _env = this.getEnvironment();\n\t\tvar _ses = this.getSessionAttributes();\n\t\n\t\tfor (var i in clientAttributes) {\n\t\t\t_ses[i] = clientAttributes[i];\n\t\t}\n\t\t_env.clientAttributes = _ses;\n\t\treturn _env;\n\t};\n\t\n\t/**\n\t * 设置数据格式信息\n\t * @param {String} type\n\t * @param {Object} meta\n\t */\n\tfn.setMaskerMeta = function (type, meta) {\n\t\tif (typeof type == 'function') {\n\t\t\tgetMetaFunc = type;\n\t\t} else {\n\t\t\tif (!maskerMeta[type]) maskerMeta[type] = meta;else {\n\t\t\t\tif ((typeof meta === 'undefined' ? 'undefined' : _typeof(meta)) != 'object') maskerMeta[type] = meta;else for (var key in meta) {\n\t\t\t\t\tmaskerMeta[type][key] = meta[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tfn.getMaskerMeta = function (type) {\n\t\tif (typeof getMetaFunc == 'function') {\n\t\t\tvar meta = getMetaFunc.call(this);\n\t\t\treturn meta[type];\n\t\t} else return (0, _extend2.default)({}, maskerMeta[type]);\n\t};\n\tenvironment.languages = (0, _cookies.getCookie)(_enumerables.U_LANGUAGES) ? (0, _cookies.getCookie)(_enumerables.U_LANGUAGES).split(',') : navigator.language ? navigator.language : 'zh-CN';\n\tif (environment.languages == 'zh-cn') environment.languages = 'zh-CN';\n\tif (environment.languages == 'en-us') environment.languages = 'en-US';\n\t\n\tenvironment.theme = (0, _cookies.getCookie)(_enumerables.U_THEME);\n\tenvironment.locale = (0, _cookies.getCookie)(_enumerables.U_LOCALE);\n\t//environment.timezoneOffset = (new Date()).getTimezoneOffset()\n\tenvironment.usercode = (0, _cookies.getCookie)(_enumerables.U_USERCODE);\n\t//init session attribute\n\tdocument.cookie.replace(/ISES_(\\w*)=([^;]*);?/ig, function (a, b, c) {\n\t\tsessionAttributes[b] = c;\n\t});\n\t\n\tvar Core = function Core() {};\n\tCore.prototype = fn;\n\t\n\tvar core = new Core();\n\t\n\texports.core = core;\n\n/***/ },\n/* 70 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\t/**\n\t * Module : Sparrow cookies\n\t * Author : Kvkens(yueming@yonyou.com)\n\t * Date\t  : 2016-07-27 21:46:50\n\t */\n\t\n\tvar setCookie = function setCookie(sName, sValue, oExpires, sPath, sDomain, bSecure) {\n\t\tvar sCookie = sName + \"=\" + encodeURIComponent(sValue);\n\t\tif (oExpires) sCookie += \"; expires=\" + oExpires.toGMTString();\n\t\tif (sPath) sCookie += \"; path=\" + sPath;\n\t\tif (sDomain) sCookie += \"; domain=\" + sDomain;\n\t\tif (bSecure) sCookie += \"; secure=\" + bSecure;\n\t\tdocument.cookie = sCookie;\n\t};\n\t\n\tvar getCookie = function getCookie(sName) {\n\t\tvar sRE = \"(?:; )?\" + sName + \"=([^;]*);?\";\n\t\tvar oRE = new RegExp(sRE);\n\t\n\t\tif (oRE.test(document.cookie)) {\n\t\t\treturn decodeURIComponent(RegExp[\"$1\"]);\n\t\t} else return null;\n\t};\n\t\n\texports.setCookie = setCookie;\n\texports.getCookie = getCookie;\n\n/***/ },\n/* 71 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\n\t * Module : kero dataTable row rowSelect\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 13:54:01\n\t */\n\t\n\tvar toggleSelect = function toggleSelect(type) {\n\t    var index = this.parent.getRowIndex(this);\n\t    var selectindices = this.parent.getSelectedIndices();\n\t    if (selectindices.indexOf(index) != -1) {\n\t        this.parent.setRowUnSelect(index);\n\t    } else {\n\t        if (type === 'single') this.parent.setRowSelect(index);else this.parent.addRowSelect(index);\n\t    }\n\t};\n\t\n\t/**\n\t * 行点击事件\n\t */\n\tvar singleSelect = function singleSelect() {\n\t    this.toggleSelect('single');\n\t};\n\t\n\tvar multiSelect = function multiSelect() {\n\t    this.toggleSelect('multi');\n\t};\n\t\n\texports.toggleSelect = toggleSelect;\n\texports.singleSelect = singleSelect;\n\texports.multiSelect = multiSelect;\n\n/***/ },\n/* 72 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\n\t * Module : kero dataTable row simpleData\n\t * Author : liuyk(liuyk@yonyou.com)\n\t * Date   : 2016-08-08 13:54:01\n\t */\n\t\n\tvar setSimpleData = function setSimpleData(data, status) {\n\t  var allData = {};\n\t  allData.data = data;\n\t  allData.status = status || 'nrm';\n\t  this.setData(allData, true);\n\t  this.currentRowChange(-this.currentRowChange());\n\t};\n\t\n\texports.setSimpleData = setSimpleData;\n\n/***/ },\n/* 73 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports._getField = exports.formatValue = exports._triggerChange = exports._dateToUTCString = exports.eq = undefined;\n\t\n\tvar _util = __webpack_require__(9);\n\t\n\tvar eq = function eq(a, b) {\n\t    if ((a === null || a === undefined || a === '') && (b === null || b === undefined || b === '')) return true;\n\t    if ((0, _util.isNumber)(a) && (0, _util.isNumber)(b) && parseFloat(a) == parseFloat(b)) return true;\n\t    if (a + '' == b + '') return true;\n\t    return false;\n\t}; /**\n\t    * Module : kero dataTable row util\n\t    * Author : liuyk(liuyk@yonyou.com)\n\t    * Date   : 2016-08-08 13:54:01\n\t    */\n\t\n\t\n\tvar _formatDate = function _formatDate(value) {\n\t    if (!value) return value;\n\t    var date = new Date();\n\t    date.setTime(value);\n\t    //如果不能转为Date 直接返回原值\n\t    if (isNaN(date)) {\n\t        return value;\n\t    }\n\t    var year = date.getFullYear();\n\t    var month = date.getMonth() + 1;\n\t    if (parseInt(month) < 10) month = \"0\" + month;\n\t    var day = date.getDate();\n\t    if (parseInt(day) < 10) day = \"0\" + day;\n\t    var hours = date.getHours();\n\t    if (parseInt(hours) < 10) hours = \"0\" + hours;\n\t    var minutes = date.getMinutes();\n\t    if (parseInt(minutes) < 10) minutes = \"0\" + minutes;\n\t    var seconds = date.getSeconds();\n\t    if (parseInt(seconds) < 10) seconds = \"0\" + seconds;\n\t    var mill = date.getMilliseconds();\n\t    var formatString = year + \"-\" + month + \"-\" + day + \" \" + hours + \":\" + minutes + \":\" + seconds; //+ \".\" + mill;\n\t    return formatString;\n\t};\n\t\n\tvar _dateToUTCString = function _dateToUTCString(date) {\n\t    if (!date) return '';\n\t    if (typeof date === 'number') return date;\n\t    if (date.indexOf(\"-\") > -1) date = date.replace(/\\-/g, \"/\");\n\t    var utcString = Date.parse(date);\n\t    if (isNaN(utcString)) return \"\";\n\t    return utcString;\n\t};\n\t\n\tvar _triggerChange = function _triggerChange(fieldName, oldValue, ctx) {\n\t    this._getField(fieldName).changed = true;\n\t    if (this.status != Row.STATUS.NEW) this.status = Row.STATUS.UPDATE;\n\t    if (this.valueChange[fieldName]) this.valueChange[fieldName](-this.valueChange[fieldName]());\n\t    if (this.parent.getCurrentRow() == this && this.parent.valueChange[fieldName]) {\n\t        this.parent.valueChange[fieldName](-this.parent.valueChange[fieldName]());\n\t    }\n\t    if (this.parent.ns) {\n\t        var fName = this.parent.ns + '.' + fieldName;\n\t        if (this.parent.root.valueChange[fName]) this.parent.root.valueChange[fName](-this.parent.root.valueChange[fName]());\n\t    }\n\t\n\t    var event = {\n\t        eventType: 'dataTableEvent',\n\t        dataTable: this.parent.id,\n\t        rowId: this.rowId,\n\t        field: fieldName,\n\t        oldValue: oldValue,\n\t        newValue: this.getValue(fieldName),\n\t        ctx: ctx || \"\"\n\t    };\n\t    this.parent.trigger(DataTable.ON_VALUE_CHANGE, event);\n\t    this.parent.trigger(fieldName + \".\" + DataTable.ON_VALUE_CHANGE, event);\n\t    if (this == this.parent.getCurrentRow()) this.parent.trigger(fieldName + \".\" + DataTable.ON_CURRENT_VALUE_CHANGE, event);\n\t};\n\t\n\t/**\n\t * 格式化数据值\n\t * @private\n\t * @param {Object} field\n\t * @param {Object} value\n\t */\n\tvar formatValue = function formatValue(field, value) {\n\t    var type = this.parent.getMeta(field, 'type');\n\t    if (!type) return value;\n\t    if (type == 'date' || type == 'datetime') {\n\t        return _formatDate(value);\n\t    }\n\t    return value;\n\t};\n\t\n\tvar _findField = function _findField(fieldName) {\n\t    var rat = this.data[fieldName];\n\t    if (!rat) {\n\t        var fnames = fieldName.split('.'); //多级field\n\t        if (fnames.length > 1) {\n\t            var tempField = this.data;\n\t            for (var i = 0; i < fnames.length; i++) {\n\t                tempField = tempField[fnames[i]];\n\t                if (!tempField) {\n\t                    break;\n\t                }\n\t            }\n\t            rat = tempField;\n\t        }\n\t    }\n\t    return rat || null;\n\t};\n\t\n\tvar _getField = function _getField(fieldName) {\n\t    var rat = this._findField(fieldName);\n\t    if (!rat) {\n\t        var msg = 'field:' + fieldName + ' not exist in dataTable:' + this.parent.root.id + '!';\n\t        console.error(msg);\n\t        throw new Error(msg);\n\t    }\n\t    return rat;\n\t};\n\t\n\texports.eq = eq;\n\texports._dateToUTCString = _dateToUTCString;\n\texports._triggerChange = _triggerChange;\n\texports.formatValue = formatValue;\n\texports._getField = _getField;\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** kero.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9db18da7dd280b206c20\n **/","/**\n * Module : Kero webpack entry index\n * Author : liuyk(liuyuekai@yonyou.com)\n * Date\t  : 2016-08-08 15:24:46\n */\n\nimport {\n    App,\n    processXHRError,\n    createApp\n} from './app/indexApp';\n\nwindow.App = App;\nwindow.processXHRError = processXHRError;\n\n\nimport {\n    ServerEvent\n} from './app/indexServerEvent';\nwindow.ServerEvent = ServerEvent;\n\n\nimport {\n    DataTable\n} from './dataTable/indexDataTable';\nwindow.DataTable = DataTable;\n\n\nimport {\n    Page\n} from './dataTable/indexPage';\nwindow.Page = Page;\n\nimport {\n    Row\n} from './dataTable/indexRow';\nwindow.Row = Row;\n\nwindow.u = window.u || {};\nu = window.u;\nu.createApp = createApp;\nu.DataTable = DataTable;\nu.Row = Row;\n\nexport {\n    u,\n    DataTable\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/index.js\n **/","/**\n * Module : Kero webpack entry app index\n * Author : liuyk(liuyuekai@yonyou.com)\n * Date\t  : 2016-08-09 15:24:46\n */\n\n//相关依赖导入\nimport {\n\tinit\n} from './init';\n\nimport {\n\tadjustMetaFunc\n} from './adjustMetaFunc';\n\nimport {\n\taddDataTable, \n\tgetDataTable, \n\tgetDataTables\n} from './dataTable';\n\nimport {\n\tcreateComp, \n\tgetComp, \n\tgetCompsByDataTable, \n\tgetCompsByType,\n\tgetComps,\n\tshowComp\n} from './comp';\n\nimport {\n\tcompsValidate,\n\tcompsValidateMultiParam\n} from './validate';\n\nimport {\n    setUserCache,\n    getUserCache,\n    removeUserCache,\n    setCache,\n    getCache,\n    removeCache,\n    setSessionCache,\n    getSessionCache,\n    removeSessionCache\n} from './cache';\n\nimport {\n\tgetEnvironment,\n\tsetClientAttribute,\n\tgetClientAttribute\n} from './iwebCore';\n\nimport {\n\tajax\n} from './ajax';\n\nimport {\n\tprocessXHRError\n} from './processXHRError';\n\nimport {\n\tserverEvent\n} from './serverEvent';\n\nimport {\n\tsetEnable\n} from './util';\n\nclass App {\n    constructor(){\n\t\t// init\n        this.init = init; \n        // adjustMetaFunc\n        this.adjustMetaFunc = adjustMetaFunc;\n        // dataTable \n        this.addDataTable = addDataTable; \n        this.getDataTable = getDataTable; \n        this.getDataTables = getDataTables; \n        // comp\n        this.createComp = createComp;\n        this.getComp = getComp;\n        this.getCompsByDataTable = getCompsByDataTable;\n        this.getCompsByType = getCompsByType;\n        this.getComps = getComps;\n        this.showComp = showComp;\n        // validate\n        this.compsValidate = compsValidate;\n        this.compsValidateMultiParam = compsValidateMultiParam;\n        // cache\n        this.setUserCache = setUserCache;\n        this.getUserCache = getUserCache;\n        this.removeUserCache = removeUserCache;\n        this.setCache = setCache;\n        this.getCache = getCache;\n        this.removeCache = removeCache;\n        this.setSessionCache = setSessionCache;\n        this.getSessionCache = getSessionCache;\n        this.removeSessionCache = removeSessionCache;\n        // iwebCode\n        this.getEnvironment = getEnvironment;\n        this.setClientAttribute = setClientAttribute;\n        this.getClientAttribute = getClientAttribute;\n        // ajax\n        this.ajax = ajax;\n        // serverEvent\n        this.serverEvent = serverEvent;\n        // util\n        this.setEnable = setEnable;\n    }\n}\n\nconst createApp = function () {\n    var app = new App();\n    if (arguments.length > 0){\n        var arg = arguments[0];\n        app.init(arg.model, arg.el);\n    }\n    return app;\n}\n\nexport {\n    App,\n    processXHRError,\n    createApp\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/indexApp.js\n **/","/**\n * Module : kero app init\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-29 09:34:01\n */\nimport {compMgr} from 'neoui-sparrow/js/compMgr';\nimport {each, isArray} from 'neoui-sparrow/js/util';\nimport {hotkeys} from 'neoui-sparrow/js/util/hotKeys';\n\nconst init = function (viewModel, element, doApplyBindings) {\n    var self = this;\n    element = element || document.body;\n    if (!isArray(element)) {\n        element = [element];\n    }\n    this.elements = element;\n    each(this.elements, function (i, element) {\n        if (typeof element === 'string'){\n            element = document.querySelector(element);\n        }\n        if(element){\n            element.querySelectorAll('[u-meta]').forEach(function (ele) {\n                var options = JSON.parse(ele.getAttribute('u-meta'));\n                options['type'] = options['type'] || 'string';\n                if (options && options['type']) {\n                    if (self.adjustFunc)\n                        self.adjustFunc.call(self, options);\n                    var comp = compMgr.createDataAdapter({el:ele,options:options,model:viewModel,app:self});\n                    ele['u-meta'] = comp;\n                }\n            })\n        }\n\n        if (hotkeys)\n            hotkeys.scan(element);\n            if (typeof doApplyBindings == 'undefined' || doApplyBindings == true)\n                ko.applyBindings(viewModel, element);\n        compMgr.updateComp(element);\n    });\n\n    _getDataTables(this, viewModel);\n}\n\nconst _getDataTables = function (app, viewModel) {\n    for (var key in viewModel) {\n        if (viewModel[key] && viewModel[key] instanceof u.DataTable) {\n            viewModel[key].id = key\n            viewModel[key].parent = viewModel\n            app.addDataTable(viewModel[key])\n        }\n    }\n}\n\nexport {\n    init\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/init.js\n **/","/**\n * Module : Sparrow compMgr\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-28 18:41:06\n */\n\nimport {hasClass} from './dom';\n\nfunction _findRegisteredClass(name, optReplace) {\n    for (var i = 0; i < CompMgr.registeredControls.length; i++) {\n        if (CompMgr.registeredControls[i].className === name) {\n            if (typeof optReplace !== 'undefined') {\n                CompMgr.registeredControls[i] = optReplace;\n            }\n            return CompMgr.registeredControls[i];\n        }\n    }\n    return false;\n}\n\nfunction _getUpgradedListOfElement(element) {\n    var dataUpgraded = element.getAttribute('data-upgraded');\n    // Use `['']` as default value to conform the `,name,name...` style.\n    return dataUpgraded === null ? [''] : dataUpgraded.split(',');\n}\n\nfunction _isElementUpgraded(element, jsClass) {\n    var upgradedList = _getUpgradedListOfElement(element);\n    return upgradedList.indexOf(jsClass) != -1;\n}\n\nfunction _upgradeElement(element, optJsClass) {\n    if (!(typeof element === 'object' && element instanceof Element)) {\n        throw new Error('Invalid argument provided to upgrade MDL element.');\n    }\n    var upgradedList = _getUpgradedListOfElement(element);\n    var classesToUpgrade = [];\n    if (!optJsClass) {\n        var className = element.className;\n        for(var i=0; i< CompMgr.registeredControls.length; i++){\n            var component = CompMgr.registeredControls[i]\n            if (className.indexOf(component.cssClass) > -1 && classesToUpgrade.indexOf(component) === -1 &&\n                !_isElementUpgraded(element, component.className)) {\n                classesToUpgrade.push(component);\n            }\n        }\n    } else if (!_isElementUpgraded(element, optJsClass)) {\n        classesToUpgrade.push(_findRegisteredClass(optJsClass));\n    }\n\n    // Upgrade the element for each classes.\n    for (var i = 0, n = classesToUpgrade.length, registeredClass; i < n; i++) {\n        registeredClass = classesToUpgrade[i];\n        if (registeredClass) {\n            if (element[registeredClass.className]){\n                continue;\n            }\n            // Mark element as upgraded.\n            upgradedList.push(registeredClass.className);\n            element.setAttribute('data-upgraded', upgradedList.join(','));\n            var instance = new registeredClass.classConstructor(element);\n            CompMgr.createdControls.push(instance);\n            // Call any callbacks the user has registered with this component type.\n            for (var j = 0, m = registeredClass.callbacks.length; j < m; j++) {\n                registeredClass.callbacks[j](element);\n            }\n            element[registeredClass.className] = instance;\n        } else {\n            throw new Error('Unable to find a registered component for the given class.');\n        }\n\n    }\n}\n\nfunction _upgradeDomInternal(optJsClass, optCssClass, ele) {\n    if (typeof optJsClass === 'undefined' && typeof optCssClass === 'undefined') {\n        for (var i = 0; i < CompMgr.registeredControls.length; i++) {\n            _upgradeDomInternal(CompMgr.registeredControls[i].className, registeredControls[i].cssClass, ele);\n        }\n    } else {\n        var jsClass = (optJsClass);\n        if (!optCssClass) {\n            var registeredClass = _findRegisteredClass(jsClass);\n            if (registeredClass) {\n                optCssClass = registeredClass.cssClass;\n            }\n        }\n        var elements;\n        if(ele) {\n            elements = hasClass(ele, optCssClass) ? [ele] : ele.querySelectorAll('.' + optCssClass);\n        } else {\n           elements = document.querySelectorAll('.' + optCssClass);\n        }\n        for (var n = 0; n < elements.length; n++) {\n            _upgradeElement(elements[n], jsClass);\n        }\n    }\n}\n\nvar CompMgr = {\n    plugs: {},\n    dataAdapters:{},\n    /** 注册的控件*/\n    registeredControls: [],\n    createdControls: [],\n    /**\n     *\n     * @param options  {el:'#content', model:{}}\n     */\n    apply: function (options) {\n\t\tif(options){\n        var _el = options.el||document.body;\n        var model = options.model;\n\t\t}\n        if (typeof _el == 'string'){\n            _el = document.body.querySelector(_el);\n        }\n        if (_el == null || typeof _el != 'object')\n            _el = document.body;\n        var comps =_el.querySelectorAll('[u-meta]');\n        comps.forEach(function(element){\n            if (element['comp']) return;\n            var options = JSON.parse(element.getAttribute('u-meta'));\n            if (options && options['type']) {\n                //var comp = CompMgr._createComp({el:element,options:options,model:model});\n                var comp = CompMgr.createDataAdapter({el:element,options:options,model:model});\n                if (comp){\n                    element['adpt'] = comp;\n                    element['u-meta'] = comp;\n                }\n            }\n        });\n    },\n    addPlug: function (config) {\n        var plug = config['plug'],\n            name = config['name'];\n        this.plugs || (this.plugs = {});\n        if (this.plugs[name]) {\n            throw new Error('plug has exist:' + name);\n        }\n        plug.compType = name;\n        this.plugs[name] = plug\n    },\n    addDataAdapter: function(config){\n        var adapter = config['adapter'],\n            name = config['name'];\n            //dataType = config['dataType'] || ''\n        //var key = dataType ? name + '.' + dataType : name;\n        this.dataAdapters || (dataAdapters = {});\n        if(this.dataAdapters[name]){\n            throw new Error('dataAdapter has exist:' + name);\n        }\n        this.dataAdapters[name] = adapter;\n\n    },\n    getDataAdapter: function(name){\n        if (!name) return;\n        this.dataAdapters || (dataAdapters = {});\n        //var key = dataType ? name + '.' + dataType : name;\n        return this.dataAdapters[name];\n    },\n    createDataAdapter: function(options){\n        var opt = options['options'];\n        var type = opt['type'],\n            id = opt['id'];\n        var adpt = this.dataAdapters[type];\n        if (!adpt) return null;\n        var comp = new adpt(options);\n        comp.type = type;\n        comp.id = id;\n        return comp;\n    },\n    _createComp: function (options) {\n        var opt = options['options'];\n        var type = opt['type'];\n        var plug = this.plugs[type];\n        if (!plug) return null;\n        var comp = new plug(options);\n        comp.type = type;\n        return comp;\n    },\n    /**\n     * 注册UI控件\n     */\n    regComp: function(config){\n        var newConfig = {\n            classConstructor: config.comp,\n            className: config.compAsString || config['compAsString'],\n            cssClass: config.css || config['css'],\n            callbacks: []\n        };\n        config.comp.prototype.compType = config.compAsString;\n        for(var i=0; i< this.registeredControls.length; i++){\n            var item = this.registeredControls[i];\n            //registeredControls.forEach(function(item) {\n            if (item.cssClass === newConfig.cssClass) {\n                throw new Error('The provided cssClass has already been registered: ' + item.cssClass);\n            }\n            if (item.className === newConfig.className) {\n                throw new Error('The provided className has already been registered');\n            }\n        };\n        this.registeredControls.push(newConfig);\n    },\n    updateComp: function(ele){\n        for (var n = 0; n < this.registeredControls.length; n++) {\n            _upgradeDomInternal(this.registeredControls[n].className,null ,ele);\n        }\n    }\n};\n\nvar compMgr = CompMgr;\nexport {compMgr};\n\n///**\n// * 加载控件\n// */\n//\n//if (document.readyState && document.readyState === 'complete'){\n//    compMgr.updateComp();\n//}else{\n//    on(window, 'load', function() {\n//\n//        //扫描并生成控件\n//        compMgr.updateComp();\n//    });\n//}\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/compMgr.js\n **/","/**\n * Module : Sparrow dom\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-27 21:46:50\n */\nimport { on,stopEvent } from './event';\n/**\n * 元素增加指定样式\n * @param value\n * @returns {*}\n */\nvar addClass = function(element, value) {\n\tif(typeof element.classList === 'undefined') {\n\t\tif(u._addClass)\n\t\t\tu._addClass(element, value);\n\t} else {\n\t\telement.classList.add(value);\n\t}\n\treturn this;\n};\n/**\n * 删除元素上指定样式\n * @param {Object} element\n * @param {Object} value\n */\nvar removeClass = function(element, value) {\n\tif(typeof element.classList === 'undefined') {\n\t\tif(u._removeClass)\n\t\t\tu._removeClass(element, value);\n\t} else {\n\t\telement.classList.remove(value);\n\t}\n\treturn this;\n};\n/**\n * 元素上是否存在该类\n * @param {Object} element\n * @param {Object} value\n */\nvar hasClass = function(element, value) {\n\tif(!element) return false;\n\tif(element.nodeName && (element.nodeName === '#text' || element.nodeName === '#comment')) return false;\n\tif(typeof element.classList === 'undefined') {\n\t\tif(u._hasClass)\n\t\t\treturn u._hasClass(element, value);\n\t\treturn false;\n\t} else {\n\t\treturn element.classList.contains(value);\n\t}\n};\n/**\n * 选择元素类切换\n * @param {Object} element\n * @param {Object} value\n */\nvar toggleClass = function(element, value) {\n\tif(typeof element.classList === 'undefined') {\n\t\treturn u._toggleClass(element, value);\n\t} else {\n\t\treturn element.classList.toggle(value);\n\t}\n};\n\n/**\n * 向上查找指定类元素\n * @param {Object} element\n * @param {Object} selector\n */\nvar closest = function(element, selector) {\n\tvar tmp = element;\n\twhile(tmp != null && !hasClass(tmp, selector) && tmp != document.body) {\n\t\ttmp = tmp.parentNode;\n\t}\n\tif(tmp == document.body) return null;\n\treturn tmp;\n};\n\n/**\n * 元素CSS操作\n * @param {Object} element\n * @param {Object} csstext\n * @param {Object} val\n */\nvar css = function(element, csstext, val) { //TO DO : 实现u.相关方法\n\tif(csstext instanceof Object) {\n\t\tfor(var k in csstext) {\n\t\t\tvar tmpcss = csstext[k]\n\t\t\tif([\"width\", \"height\", \"top\", \"bottom\", \"left\", \"right\"].indexOf(k) > -1 && isNumber(tmpcss)) {\n\t\t\t\ttmpcss = tmpcss + \"px\"\n\t\t\t}\n\t\t\telement.style[k] = tmpcss\n\t\t}\n\t} else {\n\t\tif(arguments.length > 2) {\n\t\t\telement.style[csstext] = val\n\t\t} else {\n\t\t\treturn getStyle(element, csstext);\n\t\t}\n\t}\n};\n\nvar wrap = function(element, parent) {\n\tvar p = makeDOM(parent)\n\telement.parentNode.insertBefore(p, element)\n\tp.appendChild(element)\n};\nvar getStyle = function(element, key) {\n\t//不要在循环里用\n\tvar allCSS\n\tif(window.getComputedStyle) {\n\t\tallCSS = window.getComputedStyle(element)\n\t} else {\n\t\tallCSS = element.currentStyle\n\t}\n\tif(allCSS[key] !== undefined) {\n\t\treturn allCSS[key]\n\t} else {\n\t\treturn \"\"\n\t}\n};\nvar globalZIndex;\n/**\n * 统一zindex值, 不同控件每次显示时都取最大的zindex，防止显示错乱\n */\nvar getZIndex = function() {\n\tif(!globalZIndex) {\n\t\tglobalZIndex = 2000;\n\t}\n\treturn globalZIndex++;\n};\nvar makeDOM = function(htmlString) {\n\tvar tempDiv = document.createElement(\"div\");\n\ttempDiv.innerHTML = htmlString;\n\tvar _dom = tempDiv.children[0];\n\treturn _dom;\n};\n/**\n * element\n */\nvar makeModal = function(element, parEle) {\n\tvar overlayDiv = document.createElement('div');\n\taddClass(overlayDiv, 'u-overlay');\n\toverlayDiv.style.zIndex = getZIndex();\n\t// 如果有父元素则插入到父元素上，没有则添加到body上\n\tif(parEle && parEle != document.body) {\n\t\taddClass(overlayDiv, 'hasPar');\n\t\tparEle.appendChild(overlayDiv);\n\t} else {\n\t\tdocument.body.appendChild(overlayDiv)\n\t}\n\n\telement.style.zIndex = getZIndex();\n\ton(overlayDiv, 'click', function(e) {\n\t\tstopEvent(e);\n\t})\n\treturn overlayDiv;\n};\n\nvar getOffset = function(Node, offset) {\n\tif(!offset) {\n\t\toffset = {};\n\t\toffset.top = 0;\n\t\toffset.left = 0;\n\t}\n\tif(Node == document.body) {\n\t\treturn offset;\n\t}\n\toffset.top += Node.offsetTop;\n\toffset.left += Node.offsetLeft;\n\tif(Node.offsetParent)\n\t\treturn getOffset(Node.offsetParent, offset);\n\telse\n\t\treturn offset;\n};\nvar getScroll = function(Node, offset) {\n\tif(!offset) {\n\t\toffset = {};\n\t\toffset.top = 0;\n\t\toffset.left = 0;\n\t}\n\tif(Node == document.body) {\n\t\toffset.top += Node.scrollTop || document.documentElement.scrollTop;\n\t\toffset.left += Node.scrollLeft || document.documentElement.scrollLeft;\n\t\treturn offset;\n\t}\n\toffset.top += Node.scrollTop;\n\toffset.left += Node.scrollLeft;\n\tif(Node.parentNode)\n\t\treturn getScroll(Node.parentNode, offset);\n\telse\n\t\treturn offset;\n};\nvar showPanelByEle = function(obj) {\n\tvar ele = obj.ele,\n\t\tpanel = obj.panel,\n\t\tposition = obj.position,\n\t\toff = getOffset(ele),\n\t\tscroll = getScroll(ele),\n\t\toffLeft = off.left,\n\t\toffTop = off.top,\n\t\tscrollLeft = scroll.left,\n\t\tscrollTop = scroll.top,\n\t\teleWidth = ele.offsetWidth,\n\t\teleHeight = ele.offsetHeight,\n\t\tpanelWidth = panel.offsetWidth,\n\t\tpanelHeight = panel.offsetHeight,\n\t\tbodyWidth = document.body.clientWidth,\n\t\tbodyHeight = document.body.clientHeight,\n\t\tposition = position || 'top',\n\t\tleft = offLeft - scrollLeft,\n\t\ttop = offTop - scrollTop;\n\t// 基准点为Ele的左上角\n\t// 后续根据需要完善\n\tif(position == 'left') {\n\t\tleft = left - panelWidth;\n\t\ttop = top + (eleHeight - panelHeight) / 2;\n\t} else if(position == 'right') {\n\t\tleft = left + eleWidth;\n\t\ttop = top + (eleHeight - panelHeight) / 2;\n\t} else if(position == 'top' || position == 'topCenter') {\n\t\tleft = left + (eleWidth - panelWidth) / 2;\n\t\ttop = top - panelHeight;\n\t} else if(position == 'bottom' || position == 'bottomCenter') {\n\t\tleft = left + (eleWidth - panelWidth) / 2;\n\t\ttop = top + eleHeight;\n\t} else if(position == 'bottomLeft') {\n\t\tleft = left;\n\t\ttop = top + eleHeight;\n\t}\n\n\t// if((left + panelWidth) > bodyWidth)\n\t//     left = bodyWidth - panelWidth;\n\t// if(left < 0)\n\t//     left = 0;\n\n\t// if((top + panelHeight) > bodyHeight)\n\t//     top = bodyHeight - panelHeight;\n\t// if(top < 0)\n\t//     top = 0;\n\tpanel.style.left = left + 'px';\n\tpanel.style.top = top + 'px';\n};\n\nexport {\n\taddClass,\n\tremoveClass,\n\thasClass,\n\ttoggleClass,\n\tclosest,\n\tcss,\n\twrap,\n\tgetStyle,\n\tgetZIndex,\n\tmakeDOM,\n\tmakeModal,\n\tgetOffset,\n\tgetScroll,\n\tshowPanelByEle\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/dom.js\n **/","/**\n * Module : Sparrow touch event\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-28 14:41:17\n */\nimport { env } from './env';\n\nvar u = {};\nu.event = {};\n\nvar touchStartEvent = env.hasTouch ? \"touchstart\" : \"mousedown\",\n\ttouchStopEvent = env.hasTouch ? \"touchend\" : \"mouseup\",\n\ttouchMoveEvent = env.hasTouch ? \"touchmove\" : \"mousemove\";\n\n// tap和taphold\nu.event.tap = {\n\ttapholdThreshold: 750,\n\temitTapOnTaphold: true,\n\ttouchstartFun: function() {\n\t\ttrigger(this, 'vmousedown');\n\t},\n\ttouchendFun: function() {\n\t\ttrigger(this, 'vmouseup');\n\t\ttrigger(this, 'vclick');\n\t},\n\tsetup: function() {\n\t\tvar thisObject = this,\n\t\t\tisTaphold = false;\n\n\t\ton(thisObject, \"vmousedown\", function(event) {\n\t\t\tisTaphold = false;\n\t\t\tif(event.which && event.which !== 1) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar origTarget = event.target,\n\t\t\t\ttimer;\n\n\t\t\tfunction clearTapTimer() {\n\t\t\t\tclearTimeout(timer);\n\t\t\t}\n\n\t\t\tfunction clearTapHandlers() {\n\t\t\t\tclearTapTimer();\n\n\t\t\t\toff(thisObject, 'vclick');\n\t\t\t\toff(thisObject, 'vmouseup');\n\t\t\t\toff(document, 'vmousecancel');\n\t\t\t}\n\n\t\t\tfunction clickHandler(event) {\n\t\t\t\tclearTapHandlers();\n\n\t\t\t\t// ONLY trigger a 'tap' event if the start target is\n\t\t\t\t// the same as the stop target.\n\t\t\t\tif(!isTaphold && origTarget === event.target) {\n\t\t\t\t\ttrigger(thisObject, 'tap');\n\t\t\t\t} else if(isTaphold) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t}\n\t\t\ton(thisObject, 'vmouseup', clearTapTimer);\n\t\t\ton(thisObject, 'vclick', clickHandler);\n\t\t\ton(document, 'vmousecancel', clearTapHandlers);\n\n\t\t\ttimer = setTimeout(function() {\n\t\t\t\tif(!u.event.tap.emitTapOnTaphold) {\n\t\t\t\t\tisTaphold = true;\n\t\t\t\t}\n\t\t\t\ttrigger(thisObject, \"taphold\");\n\t\t\t\tclearTapHandlers();\n\t\t\t}, u.event.tap.tapholdThreshold);\n\t\t});\n\n\t\ton(thisObject, 'touchstart', u.event.tap.touchstartFun);\n\t\ton(thisObject, 'touchend', u.event.tap.touchendFun);\n\t},\n\tteardown: function() {\n\t\toff(thisObject, 'vmousedown');\n\t\toff(thisObject, 'vclick');\n\t\toff(thisObject, 'vmouseup');\n\t\toff(document, 'vmousecancel');\n\t}\n};\n\nu.event.taphold = u.event.tap;\n\nu.event.swipe = {\n\n\t// More than this horizontal displacement, and we will suppress scrolling.\n\tscrollSupressionThreshold: 30,\n\n\t// More time than this, and it isn't a swipe.\n\tdurationThreshold: 1000,\n\n\t// Swipe horizontal displacement must be more than this.\n\thorizontalDistanceThreshold: 30,\n\n\t// Swipe vertical displacement must be less than this.\n\tverticalDistanceThreshold: 30,\n\n\tgetLocation: function(event) {\n\t\tvar winPageX = window.pageXOffset,\n\t\t\twinPageY = window.pageYOffset,\n\t\t\tx = event.clientX,\n\t\t\ty = event.clientY;\n\n\t\tif(event.pageY === 0 && Math.floor(y) > Math.floor(event.pageY) ||\n\t\t\tevent.pageX === 0 && Math.floor(x) > Math.floor(event.pageX)) {\n\n\t\t\t// iOS4 clientX/clientY have the value that should have been\n\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\n\t\t\tx = x - winPageX;\n\t\t\ty = y - winPageY;\n\t\t} else if(y < (event.pageY - winPageY) || x < (event.pageX - winPageX)) {\n\n\t\t\t// Some Android browsers have totally bogus values for clientX/Y\n\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\n\t\t\t// should never be smaller than pageX/pageY minus page scroll\n\t\t\tx = event.pageX - winPageX;\n\t\t\ty = event.pageY - winPageY;\n\t\t}\n\n\t\treturn {\n\t\t\tx: x,\n\t\t\ty: y\n\t\t};\n\t},\n\n\tstart: function(event) {\n\t\tvar data = event.touches ?\n\t\t\tevent.touches[0] : event,\n\t\t\tlocation = u.event.swipe.getLocation(data);\n\t\treturn {\n\t\t\ttime: (new Date()).getTime(),\n\t\t\tcoords: [location.x, location.y],\n\t\t\torigin: event.target\n\t\t};\n\t},\n\n\tstop: function(event) {\n\t\tvar data = event.touches ?\n\t\t\tevent.touches[0] : event,\n\t\t\tlocation = u.event.swipe.getLocation(data);\n\t\treturn {\n\t\t\ttime: (new Date()).getTime(),\n\t\t\tcoords: [location.x, location.y]\n\t\t};\n\t},\n\n\thandleSwipe: function(start, stop, thisObject, origTarget) {\n\t\tif(stop.time - start.time < u.event.swipe.durationThreshold &&\n\t\t\tMath.abs(start.coords[0] - stop.coords[0]) > u.event.swipe.horizontalDistanceThreshold &&\n\t\t\tMath.abs(start.coords[1] - stop.coords[1]) < u.event.swipe.verticalDistanceThreshold) {\n\t\t\tvar direction = start.coords[0] > stop.coords[0] ? \"swipeleft\" : \"swiperight\";\n\n\t\t\ttrigger(thisObject, \"swipe\");\n\t\t\ttrigger(thisObject, direction);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\n\t},\n\n\t// This serves as a flag to ensure that at most one swipe event event is\n\t// in work at any given time\n\teventInProgress: false,\n\n\tsetup: function() {\n\t\tvar events,\n\t\t\tthisObject = this,\n\t\t\tcontext = {};\n\n\t\t// Retrieve the events data for this element and add the swipe context\n\t\tevents = thisObject[\"mobile-events\"];\n\t\tif(!events) {\n\t\t\tevents = {\n\t\t\t\tlength: 0\n\t\t\t};\n\t\t\tthisObject[\"mobile-events\"] = events;\n\t\t}\n\t\tevents.length++;\n\t\tevents.swipe = context;\n\n\t\tcontext.start = function(event) {\n\n\t\t\t// Bail if we're already working on a swipe event\n\t\t\tif(u.event.swipe.eventInProgress) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tu.event.swipe.eventInProgress = true;\n\n\t\t\tvar stop,\n\t\t\t\tstart = u.event.swipe.start(event),\n\t\t\t\torigTarget = event.target,\n\t\t\t\temitted = false;\n\n\t\t\tcontext.move = function(event) {\n\t\t\t\t// if ( !start || event.isDefaultPrevented() ) {\n\t\t\t\tif(!start) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tstop = u.event.swipe.stop(event);\n\t\t\t\tif(!emitted) {\n\t\t\t\t\temitted = u.event.swipe.handleSwipe(start, stop, thisObject, origTarget);\n\t\t\t\t\tif(emitted) {\n\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\t\t\tu.event.swipe.eventInProgress = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// prevent scrolling\n\t\t\t\tif(Math.abs(start.coords[0] - stop.coords[0]) > u.event.swipe.scrollSupressionThreshold) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tcontext.stop = function() {\n\t\t\t\temitted = true;\n\n\t\t\t\t// Reset the context to make way for the next swipe event\n\t\t\t\tu.event.swipe.eventInProgress = false;\n\t\t\t\toff(document, touchMoveEvent, context.move);\n\t\t\t\tcontext.move = null;\n\t\t\t};\n\n\t\t\ton(document, touchMoveEvent, context.move);\n\t\t\ton(document, touchStopEvent, context.stop);\n\t\t};\n\t\ton(thisObject, touchStartEvent, context.start);\n\t},\n\n\tteardown: function() {\n\t\tvar events, context;\n\n\t\tevents = thisObject[\"mobile-events\"];\n\t\tif(events) {\n\t\t\tcontext = events.swipe;\n\t\t\tdelete events.swipe;\n\t\t\tevents.length--;\n\t\t\tif(events.length === 0) {\n\t\t\t\tthisObject[\"mobile-events\"] = null;\n\t\t\t}\n\t\t}\n\n\t\tif(context) {\n\t\t\tif(context.start) {\n\t\t\t\toff(thisObject, touchStartEvent, context.start);\n\t\t\t}\n\t\t\tif(context.move) {\n\t\t\t\toff(document, touchMoveEvent, context.move);\n\t\t\t}\n\t\t\tif(context.stop) {\n\t\t\t\toff(document, touchStopEvent, context.stop);\n\t\t\t}\n\t\t}\n\t}\n};\n\nu.event.swipeleft = u.event.swipe;\n\nu.event.swiperight = u.event.swipe;\n\nvar event = u.event;\n\nvar on = function(element, eventName, child, listener) {\n\tif(!element)\n\t\treturn;\n\tif(arguments.length < 4) {\n\t\tlistener = child;\n\t\tchild = undefined;\n\t} else {\n\t\tvar childlistener = function(e) {\n\t\t\tif(!e) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar tmpchildren = element.querySelectorAll(child)\n\t\t\ttmpchildren.forEach(function(node) {\n\t\t\t\tif(node == e.target) {\n\t\t\t\t\tlistener.call(e.target, e)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\t//capture = capture || false;\n\n\tif(!element[\"uEvent\"]) {\n\t\t//在dom上添加记录区\n\t\telement[\"uEvent\"] = {}\n\t}\n\t//判断是否元素上是否用通过on方法填加进去的事件\n\tif(!element[\"uEvent\"][eventName]) {\n\t\telement[\"uEvent\"][eventName] = [child ? childlistener : listener]\n\t\tif(u.event && u.event[eventName] && u.event[eventName].setup) {\n\t\t\tu.event[eventName].setup.call(element);\n\t\t}\n\t\telement[\"uEvent\"][eventName + 'fn'] = function(e) {\n\t\t\t//火狐下有问题修改判断\n\t\t\tif(!e)\n\t\t\t\te = typeof event != 'undefined' && event ? event : window.event;\n\t\t\telement[\"uEvent\"][eventName].forEach(function(fn) {\n\t\t\t\ttry {\n\t\t\t\t\te.target = e.target || e.srcElement; //兼容IE8\n\t\t\t\t} catch(e) {}\n\t\t\t\tif(fn)\n\t\t\t\t\tfn.call(element, e)\n\t\t\t})\n\t\t}\n\t\tif(element.addEventListener) { // 用于支持DOM的浏览器\n\t\t\telement.addEventListener(eventName, element[\"uEvent\"][eventName + 'fn']);\n\t\t} else if(element.attachEvent) { // 用于IE浏览器\n\t\t\telement.attachEvent(\"on\" + eventName, element[\"uEvent\"][eventName + 'fn']);\n\t\t} else { // 用于其它浏览器\n\t\t\telement[\"on\" + eventName] = element[\"uEvent\"][eventName + 'fn']\n\t\t}\n\t} else {\n\t\t//如果有就直接往元素的记录区添加事件\n\t\tvar lis = child ? childlistener : listener;\n\t\tvar hasLis = false;\n\t\telement[\"uEvent\"][eventName].forEach(function(fn) {\n\t\t\tif(fn == lis) {\n\t\t\t\thasLis = true;\n\t\t\t}\n\t\t});\n\t\tif(!hasLis) {\n\t\t\telement[\"uEvent\"][eventName].push(child ? childlistener : listener)\n\t\t}\n\t}\n\n};\n\nvar off = function(element, eventName, listener) {\n\t//删除事件数组\n\tif(listener) {\n\t\tif(element && element[\"uEvent\"] && element[\"uEvent\"][eventName]) {\n\t\t\telement[\"uEvent\"][eventName].forEach(function(fn, i) {\n\t\t\t\tif(fn == listener) {\n\t\t\t\t\telement[\"uEvent\"][eventName].splice(i, 1);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn;\n\t}\n\tvar eventfn = element[\"uEvent\"][eventName + 'fn']\n\tif(element.removeEventListener) { // 用于支持DOM的浏览器\n\t\telement.removeEventListener(eventName, eventfn);\n\t} else if(element.removeEvent) { // 用于IE浏览器\n\t\telement.removeEvent(\"on\" + eventName, eventfn);\n\t} else { // 用于其它浏览器\n\t\tdelete element[\"on\" + eventName]\n\t}\n\tif(u.event && u.event[eventName] && u.event[eventName].teardown) {\n\t\tu.event[eventName].teardown.call(element);\n\t}\n\telement[\"uEvent\"][eventName] = undefined\n\telement[\"uEvent\"][eventName + 'fn'] = undefined\n\n};\nvar trigger = function(element, eventName) {\n\tif(element[\"uEvent\"] && element[\"uEvent\"][eventName]) {\n\t\telement[\"uEvent\"][eventName + 'fn']()\n\t}\n};\n\n/**\n * 阻止冒泡\n */\nvar stopEvent = function(e) {\n\tif(typeof(e) != \"undefined\") {\n\t\tif(e.stopPropagation)\n\t\t\te.stopPropagation();\n\t\telse {\n\t\t\te.cancelBubble = true;\n\t\t}\n\t\t//阻止默认浏览器动作(W3C)\n\t\tif(e && e.preventDefault)\n\t\t\te.preventDefault();\n\t\t//IE中阻止函数器默认动作的方式\n\t\telse\n\t\t\twindow.event.returnValue = false;\n\t}\n};\n\nexport {\n\ton,\n\toff,\n\ttrigger,\n\tstopEvent,\n\tevent\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/event.js\n **/","/**\n * Module : Sparrow browser environment\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-27 21:46:50\n */\n\nimport {extend} from './extend';\nvar u = {};\n\n\nextend(u, {\n\tisIE:  false,\n\tisFF: false,\n\tisOpera: false,\n\tisChrome: false,\n\tisSafari: false,\n\tisWebkit: false,\n\tisIE8_BEFORE: false,\n\tisIE8: false,\n\tisIE8_CORE: false,\n\tisIE9: false,\n\tisIE9_CORE: false,\n\tisIE10: false,\n\tisIE10_ABOVE: false,\n\tisIE11: false,\n\tisIOS: false,\n\tisIphone: false,\n\tisIPAD: false,\n\tisStandard: false,\n\tversion: 0,\n\tisWin: false,\n\tisUnix: false,\n\tisLinux: false,\n\tisAndroid: false,\n\tisMac: false,\n\thasTouch: false,\n\tisMobile: false\n});\n\n(function() {\n\tvar userAgent = navigator.userAgent,\n\t\trMsie = /(msie\\s|trident.*rv:)([\\w.]+)/,\n\t\trFirefox = /(firefox)\\/([\\w.]+)/,\n\t\trOpera = /(opera).+version\\/([\\w.]+)/,\n\t\trChrome = /(chrome)\\/([\\w.]+)/,\n\t\trSafari = /version\\/([\\w.]+).*(safari)/,\n\t\tversion,\n\t\tua = userAgent.toLowerCase(),\n\t\ts,\n\t\tbrowserMatch = {\n\t\t\tbrowser: \"\",\n\t\t\tversion: ''\n\t\t},\n\t\tmatch = rMsie.exec(ua);\n\n\tif(match != null) {\n\t\tbrowserMatch = {\n\t\t\tbrowser: \"IE\",\n\t\t\tversion: match[2] || \"0\"\n\t\t};\n\t}\n\tmatch = rFirefox.exec(ua);\n\tif(match != null) {\n\t\tbrowserMatch = {\n\t\t\tbrowser: match[1] || \"\",\n\t\t\tversion: match[2] || \"0\"\n\t\t};\n\t}\n\tmatch = rOpera.exec(ua);\n\tif(match != null) {\n\t\tbrowserMatch = {\n\t\t\tbrowser: match[1] || \"\",\n\t\t\tversion: match[2] || \"0\"\n\t\t};\n\t}\n\tmatch = rChrome.exec(ua);\n\tif(match != null) {\n\t\tbrowserMatch = {\n\t\t\tbrowser: match[1] || \"\",\n\t\t\tversion: match[2] || \"0\"\n\t\t};\n\t}\n\tmatch = rSafari.exec(ua);\n\tif(match != null) {\n\t\tbrowserMatch = {\n\t\t\tbrowser: match[2] || \"\",\n\t\t\tversion: match[1] || \"0\"\n\t\t};\n\t}\n\tif(match != null) {\n\t\tbrowserMatch = {\n\t\t\tbrowser: \"\",\n\t\t\tversion: \"0\"\n\t\t};\n\t}\n\n\tif(s = ua.match(/opera.([\\d.]+)/)) {\n\t\tu.isOpera = true;\n\t} else if(browserMatch.browser == \"IE\" && browserMatch.version == 11) {\n\t\tu.isIE11 = true;\n\t\tu.isIE = true;\n\t} else if(s = ua.match(/chrome\\/([\\d.]+)/)) {\n\t\tu.isChrome = true;\n\t\tu.isStandard = true;\n\t} else if(s = ua.match(/version\\/([\\d.]+).*safari/)) {\n\t\tu.isSafari = true;\n\t\tu.isStandard = true;\n\t} else if(s = ua.match(/gecko/)) {\n\t\t//add by licza : support XULRunner\n\t\tu.isFF = true;\n\t\tu.isStandard = true;\n\t} else if(s = ua.match(/msie ([\\d.]+)/)) {\n\t\tu.isIE = true;\n\t} else if(s = ua.match(/firefox\\/([\\d.]+)/)) {\n\t\tu.isFF = true;\n\t\tu.isStandard = true;\n\t}\n\tif(ua.match(/webkit\\/([\\d.]+)/)) {\n\t\tu.isWebkit = true;\n\t}\n\tif(ua.match(/ipad/i)) {\n\t\tu.isIOS = true;\n\t\tu.isIPAD = true;\n\t\tu.isStandard = true;\n\t}\n\tif(ua.match(/iphone/i)) {\n\t\tu.isIOS = true;\n\t\tu.isIphone = true;\n\t}\n\n\tif((navigator.platform == \"Mac68K\") || (navigator.platform == \"MacPPC\") || (navigator.platform == \"Macintosh\") || (navigator.platform == \"MacIntel\")) {\n\t\t//u.isIOS = true;\n\t\tu.isMac = true;\n\t}\n\n\tif((navigator.platform == \"Win32\") || (navigator.platform == \"Windows\") || (navigator.platform == \"Win64\")) {\n\t\tu.isWin = true;\n\t}\n\n\tif((navigator.platform == \"X11\") && !u.isWin && !u.isMac) {\n\t\tu.isUnix = true;\n\t}\n\tif((String(navigator.platform).indexOf(\"Linux\") > -1)) {\n\t\tu.isLinux = true;\n\t}\n\n\tif(ua.indexOf('Android') > -1 || ua.indexOf('android') > -1 || ua.indexOf('Adr') > -1 || ua.indexOf('adr') > -1) {\n\t\tu.isAndroid = true;\n\t}\n\n\tu.version = version ? (browserMatch.version ? browserMatch.version : 0) : 0;\n\tif(u.isIE) {\n\t\tvar intVersion = parseInt(u.version);\n\t\tvar mode = document.documentMode;\n\t\tif(mode == null) {\n\t\t\tif(intVersion == 6 || intVersion == 7) {\n\t\t\t\tu.isIE8_BEFORE = true;\n\t\t\t}\n\t\t} else {\n\t\t\tif(mode == 7) {\n\t\t\t\tu.isIE8_BEFORE = true;\n\t\t\t} else if(mode == 8) {\n\t\t\t\tu.isIE8 = true;\n\t\t\t} else if(mode == 9) {\n\t\t\t\tu.isIE9 = true;\n\t\t\t\tu.isSTANDARD = true;\n\t\t\t} else if(mode == 10) {\n\t\t\t\tu.isIE10 = true;\n\t\t\t\tu.isSTANDARD = true;\n\t\t\t\tu.isIE10_ABOVE = true;\n\t\t\t} else {\n\t\t\t\tu.isSTANDARD = true;\n\t\t\t}\n\t\t\tif(intVersion == 8) {\n\t\t\t\tu.isIE8_CORE = true;\n\t\t\t} else if(intVersion == 9) {\n\t\t\t\tu.isIE9_CORE = true;\n\t\t\t} else if(browserMatch.version == 11) {\n\t\t\t\tu.isIE11 = true;\n\t\t\t} else {\n\n\t\t\t}\n\t\t}\n\t}\n\tif(\"ontouchend\" in document) {\n\t\tu.hasTouch = true;\n\t}\n\tif(u.isIOS || u.isAndroid)\n\t\tu.isMobile = true;\n\n})();\n\nvar env = u;\nexport {env};\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/env.js\n **/","/**\n * Module : Sparrow extend\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-27 21:46:50\n */\n\nimport {enumerables} from './enumerables';\n\n\n/**\n * 复制对象属性\n *\n * @param {Object}  目标对象\n * @param {config} 源对象\n */\nvar extend = function(object, config) {\n\tvar args = arguments,\n\t\toptions;\n\tif(args.length > 1) {\n\t\tfor(var len = 1; len < args.length; len++) {\n\t\t\toptions = args[len];\n\t\t\tif(object && options && typeof options === 'object') {\n\t\t\t\tvar i, j, k;\n\t\t\t\tfor(i in options) {\n\t\t\t\t\tobject[i] = options[i];\n\t\t\t\t}\n\t\t\t\tif(enumerables) {\n\t\t\t\t\tfor(j = enumerables.length; j--;) {\n\t\t\t\t\t\tk = enumerables[j];\n\t\t\t\t\t\tif(options.hasOwnProperty && options.hasOwnProperty(k)) {\n\t\t\t\t\t\t\tobject[k] = options[k];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn object;\n};\n\nexport {extend};\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/extend.js\n **/","/**\n * Module : Sparrow extend enum\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-27 21:46:50\n */\n\nvar U_LANGUAGES = \"i_languages\";\nvar U_THEME = \"u_theme\";\nvar U_LOCALE = \"u_locale\";\nvar U_USERCODE = \"usercode\";\n\nvar enumerables = true,\n\tenumerablesTest = {\n\t\ttoString: 1\n\t},\n\ttoString = Object.prototype.toString;\nfor(var i in enumerablesTest) {\n\tenumerables = null;\n}\nif(enumerables) {\n\tenumerables = ['hasOwnProperty', 'valueOf', 'isPrototypeOf', 'propertyIsEnumerable',\n\t\t'toLocaleString', 'toString', 'constructor'\n\t];\n}\n\n\nexport {enumerables,U_LANGUAGES,U_THEME,U_LOCALE,U_USERCODE};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/enumerables.js\n **/","/**\n * Module : Sparrow util tools\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-27 21:46:50\n */\n\n/**\n * 创建一个带壳的对象,防止外部修改\n * @param {Object} proto\n */\nvar createShellObject = function(proto) {\n\tvar exf = function() {}\n\texf.prototype = proto;\n\treturn new exf();\n};\nvar execIgnoreError = function(a, b, c) {\n\ttry {\n\t\ta.call(b, c);\n\t} catch(e) {}\n};\n\nvar getFunction = function(target, val) {\n\tif(!val || typeof val == 'function') return val\n\tif(typeof target[val] == 'function')\n\t\treturn target[val]\n\telse if(typeof window[val] == 'function')\n\t\treturn window[val]\n\telse if(val.indexOf('.') != -1) {\n\t\tvar func = getJSObject(target, val)\n\t\tif(typeof func == 'function') return func\n\t\tfunc = getJSObject(window, val)\n\t\tif(typeof func == 'function') return func\n\t}\n\treturn val\n};\nvar getJSObject = function(target, names) {\n\tif(!names) {\n\t\treturn;\n\t}\n\tif(typeof names == 'object')\n\t\treturn names\n\tvar nameArr = names.split('.')\n\tvar obj = target\n\tfor(var i = 0; i < nameArr.length; i++) {\n\t\tobj = obj[nameArr[i]]\n\t\tif(!obj) return null\n\t}\n\treturn obj\n};\nvar isDate = function(input) {\n\treturn Object.prototype.toString.call(input) === '[object Date]' ||\n\t\tinput instanceof Date;\n};\nvar isNumber = function(obj) {\n\t//return obj === +obj\n\treturn(obj - parseFloat(obj) + 1) >= 0;\n};\nvar isArray = Array.isArray || function(val) {\n\treturn Object.prototype.toString.call(val) === '[object Array]';\n};\nvar isEmptyObject = function(obj) {\n\tvar name;\n\tfor(name in obj) {\n\t\treturn false;\n\t}\n\treturn true;\n};\nvar inArray = function(node, arr) {\n\tif(!arr instanceof Array) {\n\t\tthrow \"arguments is not Array\";\n\t}\n\tfor(var i = 0, k = arr.length; i < k; i++) {\n\t\tif(node == arr[i]) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\nvar isDomElement = function(obj) {\n\tif(window['HTMLElement']) {\n\t\treturn obj instanceof HTMLElement;\n\t} else {\n\t\treturn obj && obj.tagName && obj.nodeType === 1;\n\t}\n};\nvar each = function(obj, callback) {\n\tif(obj.forEach) {\n\t\tobj.forEach(function(v, k) {\n\t\t\tcallback(k, v);\n\t\t});\n\n\t} else if(obj instanceof Object) {\n\t\tfor(var k in obj) {\n\t\t\tcallback(k, obj[k]);\n\t\t}\n\t} else {\n\t\treturn;\n\t}\n\n};\n\nNodeList.prototype.forEach = Array.prototype.forEach;\n\n/**\n * 获得字符串的字节长度\n */\nString.prototype.lengthb = function() {\n\t//\tvar str = this.replace(/[^\\x800-\\x10000]/g, \"***\");\n\tvar str = this.replace(/[^\\x00-\\xff]/g, \"**\");\n\treturn str.length;\n};\n\n/**\n * 将AFindText全部替换为ARepText\n */\nString.prototype.replaceAll = function(AFindText, ARepText) {\n\t//自定义String对象的方法\n\tvar raRegExp = new RegExp(AFindText, \"g\");\n\treturn this.replace(raRegExp, ARepText);\n};\n\nexport {\n\tcreateShellObject,\n\texecIgnoreError,\n\tgetFunction,\n\tgetJSObject,\n\tisDate,\n\tisNumber,\n\tisArray,\n\tisEmptyObject,\n\tinArray,\n\tisDomElement,\n\teach\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/util.js\n **/","/**\n * Module : Sparrow hotKeys\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-28 20:25:39\n */\n\nimport {isFunction} from '../class';\nimport {extend} from '../extend';\nimport {getFunction} from '../util';\nvar hotkeys = {};\nhotkeys.special_keys = {\n    27: 'esc', 9: 'tab', 32: 'space', 13: 'enter', 8: 'backspace', 145: 'scroll', 20: 'capslock',\n    144: 'numlock', 19: 'pause', 45: 'insert', 36: 'home', 46: 'del', 35: 'end', 33: 'pageup',\n    34: 'pagedown', 37: 'left', 38: 'up', 39: 'right', 40: 'down', 112: 'f1', 113: 'f2', 114: 'f3',\n    115: 'f4', 116: 'f5', 117: 'f6', 118: 'f7', 119: 'f8', 120: 'f9', 121: 'f10', 122: 'f11', 123: 'f12'\n};\n\nhotkeys.shift_nums = {\n    \"`\": \"~\", \"1\": \"!\", \"2\": \"@\", \"3\": \"#\", \"4\": \"$\", \"5\": \"%\", \"6\": \"^\", \"7\": \"&\",\n    \"8\": \"*\", \"9\": \"(\", \"0\": \")\", \"-\": \"_\", \"=\": \"+\", \";\": \":\", \"'\": \"\\\"\", \",\": \"<\",\n    \".\": \">\", \"/\": \"?\", \"\\\\\": \"|\"\n};\n\nhotkeys.add = function (combi, options, callback) {\n    if (isFunction(options)) {\n        callback = options;\n        options = {};\n    }\n    var opt = {},\n        defaults = {type: 'keydown', propagate: false, disableInInput: false, target: document.body, checkParent: true},\n        that = this;\n    opt = extend(opt, defaults, options || {});\n    combi = combi.toLowerCase();\n\n    // inspect if keystroke matches\n    var inspector = function (event) {\n        //event = $.event.fix(event); // jQuery event normalization.\n        var element = this//event.target;\n        // @ TextNode -> nodeType == 3\n        element = (element.nodeType == 3) ? element.parentNode : element;\n\n        if (opt['disableInInput']) { // Disable shortcut keys in Input, Textarea fields\n            var target = element;//$(element);\n            if (target.tagName == \"INPUT\" || target.tagName == \"TEXTAREA\") {\n                return;\n            }\n        }\n        var code = event.which,\n            type = event.type,\n            character = String.fromCharCode(code).toLowerCase(),\n            special = that.special_keys[code],\n            shift = event.shiftKey,\n            ctrl = event.ctrlKey,\n            alt = event.altKey,\n            propagate = true, // default behaivour\n            mapPoint = null;\n\n        // in opera + safari, the event.target is unpredictable.\n        // for example: 'keydown' might be associated with HtmlBodyElement\n        // or the element where you last clicked with your mouse.\n        if (opt.checkParent) {\n//              while (!that.all[element] && element.parentNode){\n            while (!element['hotkeys'] && element.parentNode) {\n                element = element.parentNode;\n            }\n        }\n\n//          var cbMap = that.all[element].events[type].callbackMap;\n        var cbMap = element['hotkeys'].events[type].callbackMap;\n        if (!shift && !ctrl && !alt) { // No Modifiers\n            mapPoint = cbMap[special] || cbMap[character]\n        }\n        // deals with combinaitons (alt|ctrl|shift+anything)\n        else {\n            var modif = '';\n            if (alt) modif += 'alt+';\n            if (ctrl) modif += 'ctrl+';\n            if (shift) modif += 'shift+';\n            // modifiers + special keys or modifiers + characters or modifiers + shift characters\n            mapPoint = cbMap[modif + special] || cbMap[modif + character] || cbMap[modif + that.shift_nums[character]]\n        }\n        if (mapPoint) {\n            mapPoint.cb(event);\n            if (!mapPoint.propagate) {\n                event.stopPropagation();\n                event.preventDefault();\n                return false;\n            }\n        }\n    };\n    // first hook for this element\n    var data = opt.target['hotkeys'];\n    if (!data) {\n        opt.target['hotkeys'] =  data = {events: {}};\n    }\n//      if (!hotkeys.all[opt.target]){\n//          hotkeys.all[opt.target] = {events:{}};\n//      }\n    if (!data.events[opt.type]) {\n        data.events[opt.type] = {callbackMap: {}};\n        on(opt.target, opt.type, inspector);\n        //$.event.add(opt.target, opt.type, inspector);\n    }\n//      if (!hotkeys.all[opt.target].events[opt.type]){\n//          hotkeys.all[opt.target].events[opt.type] = {callbackMap: {}}\n//          $.event.add(opt.target, opt.type, inspector);\n//      }\n    data.events[opt.type].callbackMap[combi] = {cb: callback, propagate: opt.propagate};\n//      hotkeys.all[opt.target].events[opt.type].callbackMap[combi] =  {cb: callback, propagate:opt.propagate};\n    return hotkeys;\n};\nhotkeys.remove = function (exp, opt) {\n    opt = opt || {};\n    target = opt.target || document.body;\n    type = opt.type || 'keydown';\n    exp = exp.toLowerCase();\n\n    delete target['hotkeys'].events[type].callbackMap[exp];\n};\n\nhotkeys.scan = function (element, target) {\n    element = element || document.body;\n    element.querySelectorAll('[u-enter]').forEach(function(el){\n        var enterValue = el.getAttribute('u-enter');\n        if (!enterValue) return;\n        if (enterValue.substring(0, 1) == '#')\n            hotkeys.add('enter', {target: this}, function () {\n                var _el = element.querySelector(enterValue);\n                if (_el){\n                    _el.focus();\n                }\n            });\n        else {\n            target = target || window\n            var func = h(target, enterValue)\n            hotkeys.add('enter', {target: this}, function () {\n                func.call(this)\n            })\n        }\n    });\n    element.querySelectorAll('[u-hotkey]').forEach(function(el){\n        var hotkey = el.getAttribute('u-hotkey');\n        if (!hotkey) return;\n        hotkeys.add(hotkey, function () {\n            el.click();\n        })\n\n    });\n}\n\nvar hotkeys = hotkeys;\n\nexport {hotkeys};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/util/hotKeys.js\n **/","/**\n * Module : Sparrow class\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-28 08:45:39\n */\n\nvar Class = function(o) {\n\tif(!(this instanceof Class) && isFunction(o)) {\n\t\treturn classify(o);\n\t}\n}\n\n// Create a new Class.\n//\n//  var SuperPig = Class.create({\n//    Extends: Animal,\n//    Implements: Flyable,\n//    initialize: function() {\n//      SuperPig.superclass.initialize.apply(this, arguments)\n//    },\n//    Statics: {\n//      COLOR: 'red'\n//    }\n// })\n//\nClass.create = function(parent, properties) {\n\tif(!isFunction(parent)) {\n\t\tproperties = parent;\n\t\tparent = null;\n\t}\n\n\tproperties || (properties = {});\n\tparent || (parent = properties.Extends || Class);\n\tproperties.Extends = parent;\n\n\t// The created class constructor\n\tfunction SubClass() {\n\t\tvar ret;\n\t\t// Call the parent constructor.\n\t\tparent.apply(this, arguments);\n\n\t\t// Only call initialize in self constructor.\n\t\tif(this.constructor === SubClass && this.initialize) {\n\t\t\tret = this.initialize.apply(this, arguments);\n\t\t}\n\t\treturn ret ? ret : this;\n\t}\n\n\t// Inherit class (static) properties from parent.\n\tif(parent !== Class) {\n\t\tmix(SubClass, parent, parent.StaticsWhiteList);\n\t}\n\n\t// Add instance properties to the subclass.\n\timplement.call(SubClass, properties);\n\n\t// Make subclass extendable.\n\treturn classify(SubClass);\n}\n\nfunction implement(properties) {\n\tvar key, value\n\n\tfor(key in properties) {\n\t\tvalue = properties[key];\n\n\t\tif(Class.Mutators.hasOwnProperty(key)) {\n\t\t\tClass.Mutators[key].call(this, value);\n\t\t} else {\n\t\t\tthis.prototype[key] = value;\n\t\t}\n\t}\n}\n\n// Create a sub Class based on `Class`.\nClass.extend = function(properties) {\n\tproperties || (properties = {});\n\tproperties.Extends = this;\n\n\treturn Class.create(properties);\n}\n\nfunction classify(cls) {\n\tcls.extend = Class.extend;\n\tcls.implement = implement;\n\treturn cls;\n}\n\n// Mutators define special properties.\nClass.Mutators = {\n\n\t'Extends': function(parent) {\n\t\tvar existed = this.prototype;\n\t\tvar proto = createProto(parent.prototype);\n\n\t\t// Keep existed properties.\n\t\tmix(proto, existed);\n\n\t\t// Enforce the constructor to be what we expect.\n\t\tproto.constructor = this;\n\n\t\t// Set the prototype chain to inherit from `parent`.\n\t\tthis.prototype = proto;\n\n\t\t// Set a convenience property in case the parent's prototype is\n\t\t// needed later.\n\t\tthis.superclass = parent.prototype;\n\t},\n\n\t'Implements': function(items) {\n\t\tisArray(items) || (items = [items]);\n\t\tvar proto = this.prototype,\n\t\t\titem;\n\n\t\twhile(item = items.shift()) {\n\t\t\tmix(proto, item.prototype || item);\n\t\t}\n\t},\n\n\t'Statics': function(staticProperties) {\n\t\tmix(this, staticProperties);\n\t}\n}\n\n// Shared empty constructor function to aid in prototype-chain creation.\nfunction Ctor() {}\n\n// See: http://jsperf.com/object-create-vs-new-ctor\nvar createProto = Object.__proto__ ?\n\tfunction(proto) {\n\t\treturn {\n\t\t\t__proto__: proto\n\t\t}\n\t} :\n\tfunction(proto) {\n\t\tCtor.prototype = proto;\n\t\treturn new Ctor();\n\t}\n\n// Helpers\n// ------------\n\nfunction mix(r, s, wl) {\n\t// Copy \"all\" properties including inherited ones.\n\tfor(var p in s) {\n\t\tif(s.hasOwnProperty(p)) {\n\t\t\tif(wl && indexOf(wl, p) === -1) continue;\n\n\t\t\t// 在 iPhone 1 代等设备的 Safari 中，prototype 也会被枚举出来，需排除\n\t\t\tif(p !== 'prototype') {\n\t\t\t\tr[p] = s[p];\n\t\t\t}\n\t\t}\n\t}\n}\n\nvar toString = Object.prototype.toString;\n\nvar isArray = Array.isArray || function(val) {\n\treturn toString.call(val) === '[object Array]';\n}\n\nvar isFunction = function(val) {\n\treturn toString.call(val) === '[object Function]';\n}\n\nvar indexOf = function(arr, item) {\n\tif(Array.prototype.indexOf && arr.indexOf) {\n\t\treturn arr.indexOf(item);\n\t} else {\n\t\tfor(var i = 0, len = arr.length; i < len; i++) {\n\t\t\tif(arr[i] === item) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t}\n\t\treturn -1;\n\t}\n}\n\nexport {\n\tClass,\n\tisFunction\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/class.js\n **/","/**\n * Module : kero app AdjustMetaFunc\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-29 09:34:01\n */\n\nconst setAdjustMetaFunc = function (adjustFunc) {\n    this.adjustFunc = adjustFunc\n}\n\nexport {\n\tsetAdjustMetaFunc\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/adjustMetaFunc.js\n **/","/**\n * Module : kero app dataTable\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-29 09:34:01\n */\n\nconst addDataTable = function (dataTable) {\n    this.dataTables[dataTable.id] = dataTable\n    return this\n}\nconst getDataTable = function (id) {\n    return this.dataTables[id]\n}\n\nconst getDataTables = function () {\n    return this.dataTables\n}\n\nexport {\n\taddDataTable,\n\tgetDataTable,\n\tgetDataTables\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/dataTable.js\n **/","/**\n * Module : kero app comp\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-29 09:34:01\n */\nimport {compMgr} from 'neoui-sparrow/js/compMgr';\nimport {each, isArray} from 'neoui-sparrow/js/util';\nimport {getOffset, getScroll} from 'neoui-sparrow/js/dom';\n\nconst createComp = function(ele,viewModel){\n    var options = JSON.parse(ele.getAttribute('u-meta'));\n    if (options && options['type']) {\n        var comp = compMgr.createDataAdapter({el:ele,options:options,model:viewModel,app:this});\n        ele['u-meta'] = comp;\n    }\n    return comp;\n}\n\nconst getComp = function (compId) {\n    var returnComp = null;\n    each(this.elements, function (i, element) {\n        if (typeof element === 'string'){\n            element = document.querySelector(element);\n        }\n        if(element){\n            element.querySelectorAll('[u-meta]').forEach(function (ele) {\n                if (ele['u-meta']) {\n                    var comp = ele['u-meta'];\n                    if (comp.id === compId) {\n                        returnComp = comp;\n                        return false;\n                    }\n                }\n            })\n        }\n\n    })\n    return returnComp;\n}\n\nconst getCompsByDataTable = function (dataTableId, element) {\n    var comps = this.getComps(element),\n        targetComps = []\n    for (var i = 0; i < comps.length; i++) {\n        if ((comps[i].dataModel && comps[i].dataModel['id'] == dataTableId) || (comps[i].dataTable && comps[i].dataTable['id'] == dataTableId))\n            targetComps.push(comps[i])\n    }\n    return targetComps\n}\n\n/**\n * 根据类型获取控件\n * @param {String} type\n * @param {object} element\n */\nconst getCompsByType = function (type, element) {\n    var elements = element ? element : this.elements;\n    var returnComps = [];\n    if (!isArray(elements))\n        elements = [elements];\n    each(elements, function (i, element) {\n        if(element){\n            element.querySelectorAll('[u-meta]').forEach(function (ele) {\n                if (ele['u-meta']) {\n                    var comp = ele['u-meta'];\n                    if (comp && comp.type == type)\n                        returnComps.push(comp);\n                }\n            })\n        }\n\n    });\n    return returnComps;\n}\n\n/**\n * 获取某区域中的所有控件\n * @param {object} element\n */\nconst getComps = function (element) {\n    var elements = element ? element : this.elements;\n    var returnComps = [];\n    if(typeof elements == 'string'){\n    \telements = document.querySelectorAll(elements);\n    }\n    if (!isArray(elements) && !(elements instanceof NodeList))\n        elements = [elements];\n    each(elements, function (i, element) {\n        if(element){\n            element.querySelectorAll('[u-meta]').forEach(function (ele) {\n                if (ele['u-meta']) {\n                    var comp = ele['u-meta'];\n                    if (comp)\n                        returnComps.push(comp);\n                }\n            })\n        }\n\n    });\n    return returnComps;\n}\n\n/**\n * 将comp显示到顶端（此方法只支持body上存在滚动条的情况）\n * @param {object} comp对象\n */\nconst showComp = function(comp){\n    var ele = comp.element,off = getOffset(ele),scroll = getScroll(ele),\n        top = off.top - scroll.top,bodyHeight = document.body.clientHeight,\n        nowTop = document.body.scrollTop;\n    if(top > bodyHeight || top < 0){\n        document.body.scrollTop = nowTop + top;\n    }\n}\n\nexport {\n    createComp,\n    getComp,\n    getCompsByDataTable,\n    getCompsByType,\n    getComps,\n    showComp\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/comp.js\n **/","/**\n * Module : kero app validate\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-29 09:34:01\n */\n\n\n/**\n * 控件数据校验\n * @param {Object} element\n */\nconst compsValidate = function (element, retUnpass) {\n    var comps = this.getComps(element),\n        passed = true,\n        unpassed=[];\n    for (var i = 0; i < comps.length; i++) {\n        if (comps[i].doValidate){\n            var result = comps[i].doValidate({trueValue:true,showMsg:true});\n            result = typeof result === 'object' ? result['passed'] : result;\n            passed = result && passed;\n            if(!result) unpassed.push(comps[i])\n        }\n    }\n    if(retUnpass) return unpassed;\n    return passed\n}\n\nconst compsValidateMultiParam = function(options){\n    var element = options.element,\n        comps = this.getComps(element),\n        passed = true,\n        showMsg = options.showMsg,\n        notPassedArr = new Array();\n    for(var i = 0; i < comps.length; i++){\n        if (comps[i].doValidate){\n            result = comps[i].doValidate({trueValue:true, showMsg:showMsg});\n            passed = result.passed && passed;\n            if(!result.passed){\n                notPassedArr.push(result);\n            }\n        }\n    }\n    return {passed:passed,\n            notPassedArr:notPassedArr}; \n}\n\nexport {\n\tcompsValidate,\n\tcompsValidateMultiParam\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/validate.js\n **/","/**\n * Module : kero app cache\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-29 09:34:01\n */\n\nconst setUserCache = function (key, value) {\n    var userCode = this.getEnvironment().usercode;\n    if (!userCode)return;\n    localStorage.setItem(userCode + key, value);\n}\n\nconst getUserCache = function (key) {\n    var userCode = this.getEnvironment().usercode;\n    if (!userCode)return;\n    return localStorage.getItem(userCode + key);\n}\n\nconst removeUserCache = function (key) {\n    var userCode = this.getEnvironment().usercode;\n    if (!userCode)return;\n    localStorage.removeItem(userCode + key);\n}\n\nconst setCache = function (key, value) {\n    localStorage.setItem(key, value);\n}\n\nconst getCache = function (key) {\n    return localStorage.getItem(key);\n}\n\nconst removeCache = function (key) {\n    localStorage.removeItem(key)\n}\n\nconst setSessionCache = function (key, value) {\n    sessionStorage.setItem(key, value)\n}\n\nconst getSessionCache = function (key) {\n    return sessionStorage.getItem(key)\n}\n\nconst removeSessionCache = function (key) {\n    sessionStorage.removeItem(key)\n}\n\nexport {\n    setUserCache,\n    getUserCache,\n    removeUserCache,\n    setCache,\n    getCache,\n    removeCache,\n    setSessionCache,\n    getSessionCache,\n    removeSessionCache\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/cache.js\n **/","/**\n * Module : kero app iwebCore\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-29 09:34:01\n */\n\n\nconst getEnvironment = function () {\n    return window.iweb.Core.collectEnvironment()\n}\n\nconst setClientAttribute = function (k, v) {\n    window.iweb.Core.setClientAttribute(k, v)\n}\n\nconst getClientAttribute = function (k) {\n    return window.iweb.Core.getClientAttributes()[k]\n}\n\nexport {\n\tgetEnvironment,\n\tsetClientAttribute,\n\tgetClientAttribute\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/iwebCore.js\n **/","/**\n * Module : kero app ajax\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-29 09:34:01\n */\n\nimport {ajax as uAjax} from 'neoui-sparrow/js/ajax';\n\nconst ajax = function (params) {\n    params = this._wrapAjax(params)\n    uAjax(params)\n}\n\nconst _wrapAjax = function (params) {\n    var self = this\n    this.serverEventObj = this.serverEvent();\n    var orignSuccess = params.success\n    var orignError = params.error\n    var deferred = params.deferred;\n    if (!deferred || !deferred.resolve) {\n        deferred = {\n            resolve: function () {\n            }, reject: function () {\n            }\n        }\n    }\n    params.success = function (data, state, xhr) {\n        if (typeof data === 'string')\n            data = JSON.parse(data)\n        if (self.serverEventObj.processXHRError(self, data, state, xhr)) {\n            orignSuccess.call(null, data)\n            self._successFunc(data, deferred)\n        } else {\n            deferred.reject();\n        }\n    }\n    params.error = function (data, state, xhr) {\n        if (typeof data === 'string')\n            data = JSON.parse(data)\n        if (self.serverEventObj.processXHRError(self, data, state, xhr)) {\n            orignError.call(null, data)\n            self._successFunc(data, deferred)\n        } else {\n            deferred.reject();\n        }\n    }\n    if (params.data)\n        params.data.environment = ko.utils.stringifyJson(window.iweb.Core.collectEnvironment());\n    else\n        params.data = {environment: ko.utils.stringifyJson(window.iweb.Core.collectEnvironment())}\n    return params\n}\n\nconst _successFunc = function (data, deferred) {\n    deferred.resolve();\n}\n\nexport {\n\tajax\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/ajax.js\n **/","/**\n * Module : Sparrow ajax\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-28 19:06:36\n */\n\nimport {env} from './env';\n\nvar XmlHttp = {\n\tget: \"get\",\n\tpost: \"post\",\n\treqCount: 4,\n\tcreateXhr: function() {\n\t\tvar xmlhttp = null;\n\t\t/*if (window.XMLHttpRequest) {\n\t\t  xmlhttp = new XMLHttpRequest();\n\t\t} else {\n\t\t  xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n\t\t}*/\n\t\tif(env.isIE8) {\n\t\t\txmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\"); //IE低版本创建XMLHTTP\n\t\t} else if(env.isIE) {\n\t\t\txmlhttp = new ActiveXObject(\"Msxml2.XMLHTTP\"); //IE高版本创建XMLHTTP\n\t\t} else if(window.XMLHttpRequest) {\n\t\t\txmlhttp = new XMLHttpRequest();\n\t\t}\n\t\treturn xmlhttp;\n\t},\n\tajax: function(_json) {\n\t\tvar url = _json[\"url\"];\n\t\tvar callback = _json[\"success\"];\n\t\tvar async = (_json[\"async\"] == undefined ? true : _json[\"async\"]);\n\t\tvar error = _json[\"error\"];\n\t\tvar params = _json[\"data\"] || {};\n\t\tvar method = (_json[\"type\"] == undefined ? XmlHttp.post : _json[\"type\"]).toLowerCase();\n\t\tvar gzipFlag = params.compressType;\n\t\turl = XmlHttp.serializeUrl(url);\n\t\tparams = XmlHttp.serializeParams(params);\n\t\tif(method == XmlHttp.get && params != null) {\n\t\t\turl += (\"&\" + params);\n\t\t\tparams = null; //如果是get请求,保证最终会执行send(null)\n\t\t}\n\n\t\tvar xmlhttp = XmlHttp.createXhr();\n\t\t//xmlhttp.open(method, url+ escape(new Date()), async);\n\t\txmlhttp.open(method, url, async);\n\n\t\tif(method == XmlHttp.post) {\n\t\t\txmlhttp.setRequestHeader(\"Content-type\",\n\t\t\t\t\"application/x-www-form-urlencoded;charset=UTF-8\");\n\t\t}\n\n\t\tvar execount = 0;\n\t\t// 异步\n\t\tif(async) {\n\t\t\t// readyState 从 1~4发生4次变化\n\t\t\txmlhttp.onreadystatechange = function() {\n\t\t\t\texecount++;\n\t\t\t\t// 等待readyState状态不再变化之后,再执行回调函数\n\t\t\t\t//if (execount == XmlHttp.reqCount) {// 火狐下存在问题，修改判断方式\n\t\t\t\tif(xmlhttp.readyState == XmlHttp.reqCount) {\n\t\t\t\t\tXmlHttp.execBack(xmlhttp, callback, error);\n\t\t\t\t}\n\t\t\t};\n\t\t\t// send方法要在在回调函数之后执行\n\t\t\txmlhttp.send(params);\n\t\t} else {\n\t\t\t// 同步 readyState 直接变为 4\n\t\t\t// 并且 send 方法要在回调函数之前执行\n\t\t\txmlhttp.send(params);\n\t\t\tXmlHttp.execBack(xmlhttp, callback, error);\n\t\t}\n\t},\n\texecBack: function(xmlhttp, callback, error) {\n\t\t//if (xmlhttp.readyState == 4\n\t\tif(xmlhttp.status == 200 || xmlhttp.status == 304 || xmlhttp.readyState == 4) {\n\t\t\tcallback(xmlhttp.responseText, xmlhttp.status, xmlhttp);\n\t\t} else {\n\t\t\tif(error) {\n\t\t\t\terror(xmlhttp.responseText, xmlhttp.status, xmlhttp);\n\t\t\t} else {\n\t\t\t\tvar errorMsg = \"no error callback function!\";\n\t\t\t\tif(xmlhttp.responseText) {\n\t\t\t\t\terrorMsg = xmlhttp.responseText;\n\t\t\t\t}\n\t\t\t\talert(errorMsg);\n\t\t\t\t// throw errorMsg;\n\t\t\t}\n\t\t}\n\t},\n\tserializeUrl: function(url) {\n\t\tvar cache = \"cache=\" + Math.random();\n\t\tif(url.indexOf(\"?\") > 0) {\n\t\t\turl += (\"&\" + cache);\n\t\t} else {\n\t\t\turl += (\"?\" + cache);\n\t\t}\n\t\treturn url;\n\t},\n\tserializeParams: function(params) {\n\t\tvar ud = undefined;\n\t\tif(ud == params || params == null || params == \"\") {\n\t\t\treturn null;\n\t\t}\n\t\tif(params.constructor == Object) {\n\t\t\tvar result = \"\";\n\t\t\tfor(var p in params) {\n\t\t\t\tresult += (p + \"=\" + encodeURIComponent(params[p]) + \"&\");\n\t\t\t}\n\t\t\treturn result.substring(0, result.length - 1);\n\t\t}\n\t\treturn params;\n\t}\n};\n\n\nvar ajax = XmlHttp.ajax;\nexport  {ajax};\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/ajax.js\n **/","/**\n * Module : kero app processXHRError\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-29 09:34:01\n */\n\nconst processXHRError = function (rsl, state, xhr) {\n    if (typeof rsl === 'string')\n        rsl = JSON.parse(rsl)\n    if (xhr.getResponseHeader && xhr.getResponseHeader(\"X-Error\")) {\n        if(u.showMessageDialog){\n            u.showMessageDialog({type: \"info\", title: \"提示\", msg: rsl[\"message\"], backdrop: true});\n        }else{\n            alert(rsl[\"message\"]);\n        }\n        \n        if (rsl[\"operate\"]) {\n            eval(rsl[\"operate\"]);\n        }\n        return false;\n    }\n    return true;\n};\n\nexport {\n\tprocessXHRError\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/processXHRError.js\n **/","/**\n * Module : kero app serverEvent\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-29 09:34:01\n */\n \nconst serverEvent = function () {\n    return new ServerEvent(this)\n}\n\nexport {\n\tserverEvent\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/serverEvent.js\n **/","/**\n * Module : kero app util\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-29 09:34:01\n */\n\nimport {each} from 'neoui-sparrow/js/util';\nconst setEnable = function (enable) {\n    each(this.elements, function (i, element) {\n        if(element){\n            element.querySelectorAll('[u-meta]').each(function () {\n                if (this['u-meta']) {\n                    var comp = this['u-meta'];\n                    if (comp.setEnable)\n                        comp.setEnable(enable)\n                }\n            })\n        }\n\n    })\n}\n\nexport {\n\tsetEnable\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/util.js\n **/","/**\n * Module : Kero webpack entry serverEvnet index\n * Author : liuyk(liuyuekai@yonyou.com)\n * Date   : 2016-08-09 15:24:46\n */\n\n//相关依赖导入\nimport {\n    addDataTable,\n    addDataTables,\n    addAllDataTables,\n    updateDataTables\n} from './server-dataTable';\n\nimport {\n    fire,\n    setSuccessFunc\n} from './server-fire';\n\nimport {\n    processXHRError\n} from './server-processXHRError';\n\nimport {\n    setCompression,\n    addParameter,\n    setEvent,\n    getData,\n    updateDom\n} from './server-util'\n\nclass ServerEvent {\n    constructor(app){\n\n        this.app = app\n        this.datas = {}\n        this.params = {}\n        this.event = null\n        this.ent = window.iweb.Core.collectEnvironment()\n        if (!iweb.debugMode) {  //此处需要修改\n            this.compression = true\n        }\n\t\t\n        // dataTable \n        this.addDataTable = addDataTable; \n        this.addDataTables = addDataTables; \n        this.addAllDataTables = addAllDataTables; \n        this.updateDataTables = updateDataTables;\n\n        // fire\n        this.fire = fire; \n        this.setSuccessFunc = setSuccessFunc; \n\n        // processXHRError\n        this.processXHRError = processXHRError;\n\n        //util\n        this.setCompression = setCompression;\n        this.addParameter = addParameter;\n        this.setEvent = setEvent;\n        this.getData = getData;\n        this.updateDom = updateDom;\n    }\n}\n\nServerEvent.DEFAULT = {\n    async: true,\n    singleton: true,\n    url: (window.$ctx || '/iwebap') + '/evt/dispatch'\n}\n\n\nexport {\n    ServerEvent\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/indexServerEvent.js\n **/","/**\n * Module : kero app serverEvent dataTable\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-29 09:34:01\n */\nimport {isArray} from 'neoui-sparrow/js/util';\n\nconst addDataTable = function (dataTableId, rule) {\n    var dataTable = this.app.getDataTable(dataTableId)\n    this.datas[dataTableId] = dataTable.getDataByRule(rule)\n    return this\n}\n\n/**\n *\n * @param {Object} dataTabels\n * 格式1: ['dt1',{'dt2':'all'}]，格式2：['dt1', 'dt2']，格式3: ['dt1', 'dt2'], 'all'\n */\nconst addDataTables = function (dataTables) {\n    if (arguments.length == 2) {\n        for (var i = 0; i < dataTables.length; i++) {\n            var rule;\n            if (typeof arguments[1] == 'string') {\n                rule = arguments[1]\n            } else if (isArray(arguments[1])) {\n                rule = arguments[1][i]\n            }\n            this.addDataTable(dataTables[i], rule)\n        }\n    } else {\n        for (var i = 0; i < dataTables.length; i++) {\n            var dt = dataTables[i]\n            if (typeof dt == 'string')\n                this.addDataTable(dt)\n            else {\n                for (key in dt)\n                    this.addDataTable(key, dt[key])\n            }\n        }\n    }\n\n    return this\n}\n\nconst addAllDataTables = function (rule) {\n    var dts = this.app.dataTables\n    for (var i = 0; i < dts.length; i++) {\n        this.addDataTable(dts[i].id, rule)\n    }\n}\n\nconst updateDataTables = function (dataTables, deferred) {\n    for (var key in dataTables) {\n        var dt = this.app.getDataTable(key)\n        if (dt) {\n            dt.setData(dataTables[key])\n            dt.updateMeta(dataTables[key].meta)\n        }\n    }\n}\n\nexport {\n\taddDataTable,\n\taddDataTables,\n\taddAllDataTables,\n\tupdateDataTables\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/server-dataTable.js\n **/","/**\n * Module : kero app serverEvent fire\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-29 09:34:01\n */\nimport {extend} from 'neoui-sparrow/js/extend';\nimport {ajax} from 'neoui-sparrow/js/ajax';\n\nconst fire = function (p) {\n    var self = this\n    var data = this.getData();\n    data.parameters = ko.utils.stringifyJson(this.params)\n    var params = {\n        type: p.type || \"POST\",\n        data: p.params || {},\n        url: p.url || ServerEvent.DEFAULT.url,\n        async: typeof p.async == 'undefined' ? ServerEvent.DEFAULT.async : p.async,\n        singleton: p.singleton || ServerEvent.DEFAULT.singleton,\n        success: p.success,\n        error: p.error,\n        dataType: 'json'\n    }\n    params.data.ctrl = p.ctrl\n    params.data.method = p.method\n    if (this.event)\n        params.data.event = ko.utils.stringifyJson(this.event)\n    var preSuccess = p.preSuccess || function () {\n        }\n    var orignSuccess = p.success || function () {\n        }\n    var orignError = params.error //|| function(){}\n    this.orignError = orignError\n    var deferred = params.deferred;\n    if (!deferred || !deferred.resolve) {\n        deferred = {\n            resolve: function () {\n            }, reject: function () {\n            }\n        }\n    }\n    params.success = function (data, state, xhr) {\n        if (typeof data === 'string')\n            data = JSON.parse(data)\n        if (self.processXHRError(self, data, state, xhr)) {\n            preSuccess.call(null, data)\n            self._successFunc(data, deferred)\n            orignSuccess.call(null, data.custom)\n            deferred.resolve();\n        } else {\n            deferred.reject();\n        }\n    }\n    params.error = function (data, state, xhr) {\n        if (typeof data === 'string')\n            data = JSON.parse(data)\n        if (self.processXHRError(self, data, state, xhr)) {\n            if (orignError)\n                orignError.call(null, data.custom)\n//\t\t\t\tself._successFunc(data, deferred)\n        } else {\n            deferred.reject();\n        }\n    }\n    params.data = extend(params.data, data);\n    ajax(params)\n\n}\n\nconst _successFunc = function (data, deferred) {\n    if (typeof data === 'string')\n        data = JSON.parse(data)\n    var dataTables = data.dataTables\n    var dom = data.dom\n    if (dom)\n        this.updateDom(JSON.parse(dom))\n    if (dataTables)\n        this.updateDataTables(dataTables, deferred)\n}\n\n\n\nconst setSuccessFunc = function (func) {\n    this._successFunc = func\n}\n\nexport {\n\tfire,\n\tsetSuccessFunc\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/server-fire.js\n **/","/**\n * Module : kero app serverEvent processXHRError\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-29 09:34:01\n */\n\nconst processXHRError = function (self, rsl, state, xhr) {\n    if (typeof rsl === 'string')\n        rsl = JSON.parse(rsl)\n    if (xhr.getResponseHeader && xhr.getResponseHeader(\"X-Error\")) {\n        if (self.orignError)\n            self.orignError.call(self, rsl, state, xhr)\n        else {\n            if (u.showMessageDialog)\n                u.showMessageDialog({type: \"info\", title: \"提示\", msg: rsl[\"message\"], backdrop: true});\n            else\n                alert(rsl[\"message\"])\n            if (rsl[\"operate\"]) {\n                eval(rsl[\"operate\"]);\n            }\n        }\n        return false;\n    }\n    return true;\n};\n\nexport {\n    processXHRError\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/server-processXHRError.js\n **/","/**\n * Module : kero app serverEvent util\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-29 09:34:01\n */\nimport {each} from 'neoui-sparrow/js/util';\nimport {trigger} from 'neoui-sparrow/js/event';\n\nconst setCompression = function (compression) {\n    if (!iweb.browser.isIE8 && !window.pako && compression == true)\n        iweb.log.error(\"can't compression, please include  pako!\")\n    else\n        this.compression = compression\n}\n\nconst addParameter = function (key, value) {\n    this.params[key] = value\n    return this\n}\n\nconst setEvent = function (event) {\n    this.event = _formatEvent(event)\n    return this\n}\n\nvar _formatEvent = function (event) {\n    return event\n}\n\nconst getData = function () {\n    var envJson = ko.utils.stringifyJson(this.app.getEnvironment()),\n        datasJson = ko.utils.stringifyJson(this.datas, function replacer(key, value) {\n          if (typeof value === \"undefined\" || value == null) {\n            return '';\n          }\n          return value;\n        }),\n        compressType = '',\n        compression = false\n    if (window.trimServerEventData) {\n        datasJson = window.trimServerEventData(datasJson);\n    }\n    if (this.compression) {\n        if (!iweb.browser.isIE8 && window.pako) {\n            envJson = encodeBase64(window.pako.gzip(envJson));\n            datasJson = encodeBase64(window.pako.gzip(datasJson));\n            compression = true\n            compressType = 'gzip'\n        }\n    }\n    return {\n        environment: envJson,\n        dataTables: datasJson,\n        compression: compression,\n        compressType: compressType\n    }\n}\n\n\n\nconst updateDom = function () {\n    each(dom, function (i, n) {\n        var vo = n.two\n        var key = n.one;\n        _updateDom(key, vo)\n    });\n}\n\n//TODO 去除jQuery后有问题待修改\nfunction _updateDom(key, vos) {\n    for (var i in vos) {\n        var vo = vos[i]\n        for (var key in vo) {\n            var props = vo[key]\n            if (key == 'trigger') {\n                trigger(key,props[0]);\n            }\n            else {\n                if (u.isArray(props)) {\n                    each(props, function (i, n) {\n                        key[i](n)\n                    });\n                }\n                else\n                    try {\n                        key[i](vo)\n                    } catch (error) {\n                        key[i](vo[i])\n                    }\n            }\n        }\n    }\n}\n\nexport {\n    setCompression,\n    addParameter,\n    setEvent,\n    getData,\n    updateDom\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/app/server-util.js\n **/","/**\n * Module : Kero webpack entry dataTable index\n * Author : liuyk(liuyuekai@yonyou.com)\n * Date   : 2016-08-09 15:24:46\n */\n\nimport {\n    Events\n} from './indexEvents';\n\nimport {\n    copyRow,\n    copyRows\n} from './copyRow'; \n\nimport {\n    setData,\n    setValue\n} from './data'; \n\nimport{\n    isEnable,\n    setEnable\n} from './enable'; \n\nimport{\n    getCurrentRow,\n    getCurrentIndex\n} from './getCurrent'; \n\nimport {\n    getData,\n    getDataByRule,\n    getRow,\n    getRowByRowId,\n    getRowIndex,\n    getRowsByField,\n    getRowByField,\n    getAllRows,\n    getAllPageRows,\n    getChangedDatas,\n    getChangedRows,\n    getValue,\n    getIndexByRowId,\n    getAllDatas,\n    getRowIdsByIndices\n} from './getData'; \n\nimport {\n    getFocusRow,\n    getFocusIndex\n} from './getFocus'; \n\nimport {\n    getMeta,\n    getRowMeta\n} from './getMeta'; \n\nimport {\n    getPage,\n    getPages\n} from './getPage'; \n\nimport {\n    getParam\n} from './getParam'; \n\nimport {\n    getSelectedIndex,\n    getSelectedIndices,\n    getSelectedIndexs,\n    getSelectedDatas,\n    getSelectedRows\n} from './getSelect'; \n\nimport {\n    getSimpleData\n} from './getSimpleData'; \n\nimport {\n    setMeta,\n    updateMeta,\n    createField\n} from './meta'; \n\nimport {\n    setCurrentPage,\n    updatePages,\n    setPages,\n    hasPage,\n    clearCache,\n    cacheCurrentPage\n} from './page'; \n\nimport {\n    addParam,\n    addParams\n} from './param'; \n\nimport {\n    refSelectedRows,\n    ref,\n    refMeta,\n    refRowMeta,\n    refEnable\n} from './ref'; \n\nimport {\n    removeRowByRowId,\n    removeRow,\n    removeAllRows,\n    removeRows,\n    clear\n} from './removeRow'; \n\nimport {\n    setRows,\n    addRow,\n    addRows,\n    insertRow,\n    insertRows,\n    createEmptyRow\n} from './row'; \n\nimport {\n    updateCurrIndex\n} from './rowCurrent'; \n\nimport {\n    setRowDelete,\n    setAllRowsDelete,\n    setRowsDelete\n} from './rowDelete'; \n\nimport {\n    setAllRowsSelect,\n    setRowSelect,\n    setRowsSelect,\n    addRowSelect,\n    addRowsSelect,\n    setAllRowsUnSelect,\n    setRowUnSelect,\n    setRowsUnSelect,\n    toggleAllSelect,\n    updateSelectedIndices\n} from './rowSelect'; \n\nimport {\n    setRowFocus,\n    setRowUnFocus,\n    updateFocusIndex\n} from './rowFocus'; \n\nimport {\n    setSimpleData,\n    addSimpleData\n} from './simpleData'; \n\nimport {\n    isChanged\n} from './util'; \n\n\nclass DataTable extends Events{\n    constructor(options){\n        super();\n        options = options || {};\n        this.id = options['id'];\n        this.strict = options['strict'] || false;\n        this.meta = DataTable.createMetaItems(options['meta']);\n        this.enable = options['enable'] || DataTable.DEFAULTS.enable;\n        this.pageSize = ko.observable(options['pageSize'] || DataTable.DEFAULTS.pageSize)\n        this.pageIndex = ko.observable(options['pageIndex'] || DataTable.DEFAULTS.pageIndex)\n        this.totalPages = ko.observable(options['totalPages'] || DataTable.DEFAULTS.totalPages)\n        this.totalRow = ko.observable()\n        this.pageCache = options['pageCache'] === undefined ? DataTable.DEFAULTS.pageCache : options['pageCache']\n        this.rows = ko.observableArray([])\n        this.selectedIndices = ko.observableArray([])\n        this._oldCurrentIndex = -1;\n        this.focusIndex = ko.observable(-1)\n        this.cachedPages = []\n        this.metaChange = {};\n        this.valueChange = {};//ko.observable(1);\n        this.currentRowChange = ko.observable(1);\n        this.enableChange = ko.observable(1);\n        this.params = options['params'] || {};\n        this.master = options['master'] || '';\n        this.allSelected = ko.observable(false);\n        if (options['root']){\n            this.root = options['root']\n        }else{\n            this.root = this;\n        }\n        if (options['ns']){\n            this.ns = options['ns'];\n        }else{\n            this.ns = '';\n        }\n\n        \n        //copyRow\n        this.copyRow= copyRow;\n        this.copyRows= copyRows;\n\n        //data\n        this.setData= setData;\n        this.setValue= setValue;\n\n        //enable\n        this.isEnable= isEnable;\n        this.setEnable= setEnable;\n\n        //getData\n        this.getData= getData;\n        this.getDataByRule= getDataByRule;\n        this.getRow= getRow;\n        this.getRowByRowId= getRowByRowId;\n        this.getRowIndex= getRowIndex;\n        this.getRowsByField= getRowsByField;\n        this.getRowByField= getRowByField;\n        this.getAllRows= getAllRows;\n        this.getAllPageRows= getAllPageRows;\n        this.getChangedDatas= getChangedDatas;\n        this.getChangedRows= getChangedRows;\n        this.getValue= getValue;\n        this.getIndexByRowId= getIndexByRowId;\n        this.getAllDatas= getAllDatas;\n        this.getRowIdsByIndices= getRowIdsByIndices;\n\n        //getCurrent\n        this.getCurrentRow= getCurrentRow;\n        this.getCurrentIndex= getCurrentIndex;\n\n        //getFocus\n        this.getFocusRow= getFocusRow;\n        this.getFocusIndex= getFocusIndex;\n\n        //getMeta\n        this.getMeta= getMeta;\n        this.getRowMeta= getRowMeta;\n\n        //getPage\n        this.getPage= getPage;\n        this.getPages= getPages;\n\n        //getParam\n        this.getParam= getParam;\n\n        //getSelect\n        this.getSelectedIndex= getSelectedIndex;\n        this.getSelectedIndices= getSelectedIndices;\n        this.getSelectedIndexs= getSelectedIndexs;\n        this.getSelectedDatas= getSelectedDatas;\n        this.getSelectedRows= getSelectedRows;\n\n        //getSimpleData\n        this.getSimpleData= getSimpleData;\n\n        //meta\n        this.setMeta= setMeta;\n        this.updateMeta= updateMeta;\n        this.createField= createField;\n\n        //page\n        this.setCurrentPage= setCurrentPage;\n        this.updatePages= updatePages;\n        this.setPages= setPages;\n        this.hasPage= hasPage;\n        this.clearCache= clearCache;\n        this.cacheCurrentPage= cacheCurrentPage;\n\n        //param\n        this.addParam= addParam;\n        this.addParams= addParams;\n\n        //ref\n        this.refSelectedRows= refSelectedRows;\n        this.ref= ref;\n        this.refMeta= refMeta;\n        this.refRowMeta= refRowMeta;\n        this.refEnable= refEnable;\n\n        //row\n        this.setRows= setRows;\n        this.addRow= addRow;\n        this.addRows= addRows;\n        this.insertRow= insertRow;\n        this.insertRows= insertRows;\n        this.createEmptyRow= createEmptyRow;\n\n        //removeRow\n        this.removeRowByRowId= removeRowByRowId;\n        this.removeRow= removeRow;\n        this.removeAllRows= removeAllRows;\n        this.removeRows= removeRows;\n        this.clear= clear;\n\n        //rowCurrent\n        this.updateCurrIndex= updateCurrIndex;\n\n        //rowDelete\n        this.setRowDelete= setRowDelete;\n        this.setAllRowsDelete= setAllRowsDelete;\n        this.setRowsDelete= setRowsDelete;\n\n        //rowFocus\n        this.setRowFocus= setRowFocus;\n        this.setRowUnFocus= setRowUnFocus;\n        this.updateFocusIndex= updateFocusIndex;\n\n        //rowSelect\n        this.setAllRowsSelect= setAllRowsSelect;\n        this.setRowSelect= setRowSelect;\n        this.setRowsSelect= setRowsSelect;\n        this.addRowSelect= addRowSelect;\n        this.addRowsSelect= addRowsSelect;\n        this.setAllRowsUnSelect= setAllRowsUnSelect;\n        this.setRowUnSelect= setRowUnSelect;\n        this.setRowsUnSelect= setRowsUnSelect;\n        this.toggleAllSelect= toggleAllSelect;\n        this.updateSelectedIndices= updateSelectedIndices;\n\n        //simpleData\n        this.setSimpleData= setSimpleData;\n        this.addSimpleData= addSimpleData;\n\n        //util\n        this.isChanged= isChanged;\n    }\n}\n\nDataTable.DEFAULTS = {\n    pageSize: 20,\n    pageIndex: 0,\n    totalPages: 20,\n    pageCache: false,\n    enable: true\n}\n\nDataTable.META_DEFAULTS = {\n    enable: true,\n    required: false,\n    descs: {}\n}\n\n//事件类型\nDataTable.ON_ROW_SELECT = 'select'\nDataTable.ON_ROW_UNSELECT = 'unSelect'\nDataTable.ON_ROW_ALLSELECT = 'allSelect'\nDataTable.ON_ROW_ALLUNSELECT = 'allUnselect'\nDataTable.ON_VALUE_CHANGE = 'valueChange'\nDataTable.ON_CURRENT_VALUE_CHANGE = 'currentValueChange'  //当前行变化\n//  DataTable.ON_AFTER_VALUE_CHANGE = 'afterValueChange'\n//  DataTable.ON_ADD_ROW = 'addRow'\nDataTable.ON_INSERT = 'insert'\nDataTable.ON_UPDATE = 'update'\nDataTable.ON_CURRENT_UPDATE = 'currentUpdate'\nDataTable.ON_DELETE = 'delete'\nDataTable.ON_DELETE_ALL = 'deleteAll'\nDataTable.ON_ROW_FOCUS = 'focus'\nDataTable.ON_ROW_UNFOCUS = 'unFocus'\nDataTable.ON_LOAD = 'load'\nDataTable.ON_ENABLE_CHANGE = 'enableChange'\nDataTable.ON_META_CHANGE = 'metaChange'\nDataTable.ON_ROW_META_CHANGE = 'rowMetaChange'\nDataTable.ON_CURRENT_META_CHANGE = 'currentMetaChange'\nDataTable.ON_CURRENT_ROW_CHANGE = 'currentRowChange'\n\nDataTable.SUBMIT = {\n    current: 'current',\n    focus: 'focus',\n    all: 'all',\n    select: 'select',\n    change: 'change',\n    empty: 'empty',\n    allSelect: 'allSelect',\n    allPages: 'allPages'\n}\n\n\nDataTable.createMetaItems = function (metas) {\n    var newMetas = {};\n    for (var key in metas) {\n        var meta = metas[key]\n        if (typeof meta == 'string')\n            meta = {}\n        newMetas[key] = u.extend({}, DataTable.META_DEFAULTS, meta)\n    }\n    return newMetas\n}\n\n\nexport {\n    DataTable\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/indexDataTable.js\n **/","/**\n * Module : Kero webpack entry events index\n * Author : liuyk(liuyuekai@yonyou.com)\n * Date   : 2016-08-09 15:24:46\n */\n\n\n //相关依赖导入\nimport {\n\ton,\n    off,\n    one,\n    trigger,\n    getEvent\n} from './events';\n\nclass Events{\n    constructor(){\n        this.on = on;\n        this.off = off;\n        this.one = one;\n        this.trigger = trigger;\n        this.getEvent = getEvent;\n    }\n}\n\nexport {\n   Events \n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/indexEvents.js\n **/","/**\n * Module : kero dataTable events\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-30 14:34:01\n */\n\n/**\n * 绑定事件\n * 支持的格式： 1. on(u.DataTable.ON_ROW_FOCUS, function() {}) // 普通\n * 2. on([u.DataTable.ON_INSERT, u.DataTable.ON_DELETE], function() {}) // 数组\n * 3. on({u.DataTable.ON_INSERT: function() {}, u.DataTable.ON_DELETE: function() {}}) // map\n */\nconst on = function (name, callback, one) {\n    var self = this, origCb = callback;\n    if(Object.prototype.toString.call(name) == '[object Array]') {\n        // 数组\n        for(var i in name) {\n            this.on(name[i], callback);\n        }\n        return this;\n    } else if(typeof name == 'object'){\n        // map\n        for(var key in name) {\n            this.on(key, name[key]);\n        }\n        return this;\n    }\n    if(one) {\n        callback = function() {\n            self.off(name, callback);\n            origCb.apply(this, arguments);\n        }\n    }\n    name = name.toLowerCase();\n    this._events || (this._events = {});\n    var events = this._events[name] || (this._events[name] = []);\n    events.push({\n        callback: callback\n    })\n    return this;\n}\n\n/**\n * 解绑事件\n * \n**/\nconst off = function (name, callback) {\n    if(Object.prototype.toString.call(name) == '[object Array]') {\n        // 数组\n        for(var i in name) {\n            this.off(name[i], callback);\n        }\n        return this;\n    } else if(typeof name == 'object'){\n        // map\n        for(var key in name) {\n            this.off(key, name[key]);\n        }\n        return this;\n    }\n    var cbs = this._events[name];\n    if(!cbs) return this;\n    if(!callback) {\n        // 解绑所有事件\n        cbs = null;\n    } else {\n        for(var i = cbs.length - 1;i >= 0; i--) {\n            if(cbs[i] == callback) {\n                cbs.splice(i, 1);\n            }\n        }\n    }\n    return this;\n}\n\n/**\n * \n**/\nconst one = function (name, callback) {\n    this.on(name, callback, 1);\n}\n\n/**\n * 触发事件\n */\nconst trigger = function (name) {\n    name = name.toLowerCase()\n    if (!this._events || !this._events[name]) return this;\n    var args = Array.prototype.slice.call(arguments, 1);\n    var events = this._events[name];\n    for (var i = 0, count = events.length; i < count; i++) {\n        events[i].callback.apply(this, args);\n    }\n    return this;\n}\n\n\nconst getEvent = function (name) {\n    name = name.toLowerCase()\n    this._events || (this._events = {})\n    return this._events[name]\n}\n\nexport {\n    on,\n    off,\n    one,\n    trigger,\n    getEvent\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/events.js\n **/","/**\n * Module : kero dataTable copyRow\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-08-01 14:34:01\n */\n\n\nconst copyRow = function (index, row) {\n    this.copyRows(index, [row])\n}\n\nconst copyRows = function (index, rows) {\n    for(var i=0;i < rows.length;i++) {\n        var newRow = new Row({parent: this})\n        if (rows[i]) {\n            newRow.setData(rows[i].getData())\n        }\n        this.insertRows(index === undefined ? this.rows().length : index, [newRow])\n    }\n}\n\nexport {\n\tcopyRow,\n\tcopyRows\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/copyRow.js\n **/","/**\n * Module : kero dataTable data\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-30 14:34:01\n */\n\n/** \n *设置数据\n *\n */\nconst setData = function (data,options) {\n    if(data.pageIndex || data.pageIndex === 0){\n        var newIndex = data.pageIndex;\n    }else{\n        var newIndex = this.pageIndex();\n    }\n    if(data.pageSize || data.pageSize === 0){\n        var newSize = data.pageSize;\n    }else{\n        var newSize = this.pageSize();\n    }\n    if(data.totalPages || data.totalPages === 0){\n        var newTotalPages = data.totalPages;\n    }else{\n        var newTotalPages = this.totalPages();\n    }\n    if(data.totalRow || data.totalRow === 0){\n        var newTotalRow = data.totalRow;\n    }else{\n        var newTotalRow = data.rows.length; //后续要考虑状态，del的不计算在内\n    }\n    var select, focus,unSelect=options?options.unSelect:false; \n\n    this.pageCache = data.pageCache || this.pageCache\n    if (this.pageCache === true) {\n        this.updatePages(data.pages)\n        if (newIndex != this.pageIndex()) {\n            this.setCurrentPage(newIndex, true);\n            this.totalPages(newTotalPages)\n            this.totalRow(newTotalRow)\n            return;\n        }\n        else {\n            select = this.getPage(newIndex).selectedIndices\n            focus = this.getPage(newIndex).focus\n            this.setRows(this.getPage(newIndex).rows)\n        }\n    } else {\n        select = data.select||(!unSelect?[0]:[]);\n        focus = data.focus;\n        this.setRows(data.rows)\n    }\n    this.pageIndex(newIndex)\n    this.pageSize(newSize)\n    this.totalPages(newTotalPages)\n    this.totalRow(newTotalRow)\n\n    this.updateSelectedIndices()\n\n    if (select && select.length > 0 && this.rows().length > 0)\n        this.setRowsSelect(select)\n    if (focus)\n        this.setRowFocus(focus)\n};\n\n\n\nconst setValue = function (fieldName, value, row, ctx) {\n    if (arguments.length === 1){\n        value = fieldName;\n        fieldName = '$data';\n    }\n\n    row = row ? row : this.getCurrentRow()\n    if (row)\n        row.setValue(fieldName, value, ctx)\n}\n\n\nexport {\n    setData,\n    setValue\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/data.js\n **/","/**\n * Module : kero dataTable enable\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\n\n\nconst isEnable = function (fieldName) {\n    var fieldEnable = this.getMeta(fieldName, 'enable')\n    if (typeof fieldEnable == 'undefined' || fieldEnable == null)\n        fieldEnable = true\n    return fieldEnable && this.enable\n}\n\n\nconst setEnable = function (enable) {\n    if (this.enable == enable) return\n    //当传入的参数不为false时，默认enable为true\n    if (enable===false){\n        enable=false;\n    }else{\n        enable=true;\n    }\n    this.enable = enable\n    this.enableChange(-this.enableChange())\n    this.trigger(DataTable.ON_ENABLE_CHANGE, {\n        enable: this.enable\n    })\n}\n\nexport{\n\tisEnable,\n\tsetEnable\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/enable.js\n **/","/**\n * Module : kero dataTable getCurrent\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\n\n\n/**\n * 获取当前操作行\n * 规则： focus 行优先，没有focus行时，取第一选中行\n */\nconst getCurrentRow = function () {\n    if (this.focusIndex() != -1)\n        return this.getFocusRow()\n    var index = this.getSelectedIndex()\n    if (index == -1)\n        return null\n    else\n        return this.getRow(index)\n}\n\nconst getCurrentIndex = function () {\n    if (this.focusIndex() != -1)\n        return this.focusIndex()\n    var index = this.getSelectedIndex()\n    if (index == -1)\n        return -1\n    else\n        return index\n}\n\nexport{\n\tgetCurrentRow,\n\tgetCurrentIndex\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/getCurrent.js\n **/","/**\n * Module : kero dataTable getData\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-07-30 14:34:01\n */ \n\n/**\n * 获取当前页数据\n */\nconst getData = function () {\n    var datas = [], rows = this.rows();\n    for (var i = 0; i < rows.length; i++) {\n        datas.push(rows[i].getData())\n    }\n    return datas\n}\n\nconst getDataByRule = function (rule) {\n    var returnData = {}, datas = null, rows;\n    returnData.meta = this.meta\n    returnData.params = this.params\n    rule = rule || DataTable.SUBMIT.current\n    if (rule == DataTable.SUBMIT.current) {\n        datas = []\n        var currIndex = this.focusIndex()\n        if (currIndex == -1)\n            currIndex = this.getSelectedIndex()\n        rows = this.rows();\n        for (var i = 0, count = rows.length; i < count; i++) {\n            if (i == currIndex)\n                datas.push(rows[i].getData())\n            else\n                datas.push(rows[i].getEmptyData())\n        }\n\n    }\n    else if (rule == DataTable.SUBMIT.focus) {\n        datas = []\n        rows = this.rows();\n        for (var i = 0, count = rows.length; i < count; i++) {\n            if (i == this.focusIndex())\n                datas.push(rows[i].getData())\n            else\n                datas.push(rows[i].getEmptyData())\n        }\n    }\n    else if (rule == DataTable.SUBMIT.all) {\n        datas = this.getData()\n    }\n    else if (rule == DataTable.SUBMIT.select) {\n        datas = this.getSelectedDatas(true)\n    }\n    else if (rule == DataTable.SUBMIT.change) {\n        datas = this.getChangedDatas()\n    }\n    else if (rule === DataTable.SUBMIT.empty) {\n        datas = []\n    }\n    if (this.pageCache && datas != null) {\n        datas = [{index: this.pageIndex(), select: this.getSelectedIndexs(), focus: this.focusIndex(), rows: datas}]\n    }\n    if (rule == DataTable.SUBMIT.allSelect) {\n        datas = []\n        var totalPages = this.totalPages();\n        //缓存页数据\n        for (var i = 0; i < totalPages; i++) {\n            if (i == this.pageIndex()) {\n                //当前页数据\n                datas.push({\n                    index: this.pageIndex(),\n                    select: this.getSelectedIndexs(),\n                    focus: this.focusIndex(),\n                    rows: this.getSelectedDatas()\n                });\n            } else {\n                var page = this.cachedPages[i];\n                if (page) {\n                    datas.push({\n                        index: i,\n                        select: page.selectedIndices,\n                        focus: page.focus,\n                        rows: page.getSelectDatas()\n                    });\n                }\n            }\n        }\n    } else if (rule == DataTable.SUBMIT.allPages) {\n        datas = []\n        var totalPages = this.totalPages();\n        //缓存页数据\n        for (var i = 0; i < totalPages; i++) {\n            if (i == this.pageIndex()) {\n                //当前页数据\n                datas.push({\n                    index: this.pageIndex(),\n                    select: this.getSelectedIndexs(),\n                    focus: this.focusIndex(),\n                    rows: this.getData()\n                });\n            } else {\n                var page = this.cachedPages[i];\n                if (page) {\n                    datas.push({index: i, select: page.selectedIndices, focus: page.focus, rows: page.getData()});\n                }\n            }\n        }\n    }\n    if (this.pageCache) {\n        returnData.pages = datas;\n    } else {\n        returnData.rows = datas\n        returnData.select = this.getSelectedIndexs()\n        returnData.focus = this.getFocusIndex()\n    }\n\n    returnData.pageSize = this.pageSize()\n    returnData.pageIndex = this.pageIndex()\n    returnData.isChanged = this.isChanged()\n    returnData.master = this.master\n    returnData.pageCache = this.pageCache\n    return returnData\n}\n\n\n\nconst getRow = function (index) {\n    //return this.rows()[index]   //modify by licza.   improve performance\n    return this.rows.peek()[index]\n};\n\n/**\n * 根据rowid取row对象\n * @param rowid\n * @returns {*}\n */\nconst getRowByRowId = function (rowid) {\n    var rows = this.rows.peek();\n    for (var i = 0, count = rows.length; i < count; i++) {\n        if (rows[i].rowId == rowid)\n            return rows[i]\n    }\n    return null\n}\n\n/**\n * 取行索引\n * @param row\n * @returns {*}\n */\nconst getRowIndex = function (row){\n    var rows = this.rows.peek();\n    for (var i = 0, count = rows.length; i < count; i++) {\n        if (rows[i].rowId === row.rowId)\n            return i;\n    }\n    return -1;\n};\n\nconst getRowsByField = function(field,value){\n    var rows = this.rows.peek();\n    var returnRows = new Array();\n    for (var i = 0, count = rows.length; i < count; i++) {\n        if (rows[i].getValue(field) === value)\n            returnRows.push(rows[i]);\n    }\n    return returnRows;\n}\n\nconst getRowByField = function(field,value){\n    var rows = this.rows.peek();\n    for (var i = 0, count = rows.length; i < count; i++) {\n        if (rows[i].getValue(field) === value)\n            return rows[i]\n    }\n    return null;\n}\n\nconst getAllRows = function () {\n    return this.rows.peek();\n}\n\nconst getAllPageRows = function () {\n    var datas = [], rows;\n    for (var i = 0; i < this.totalPages(); i++) {\n        rows = [];\n        if (i == this.pageIndex()) {\n            rows = this.getData();\n        } else {\n            var page = this.cachedPages[i];\n            if (page) {\n                rows = page.getData();\n            }\n        }\n        for (var j = 0; j < rows.length; j++) {\n            datas.push(rows[j]);\n        }\n    }\n    return datas;\n}\n\n\n/**\n * 获取变动的数据(新增、修改)\n */\nconst getChangedDatas = function (withEmptyRow) {\n    var datas = [], rows = this.rows();\n    for (var i = 0, count = rows.length; i < count; i++) {\n        if (rows[i] && rows[i].status != Row.STATUS.NORMAL) {\n            datas.push(rows[i].getData())\n        }\n        else if (withEmptyRow == true) {\n            datas.push(rows[i].getEmptyData())\n        }\n    }\n    return datas\n};\n\n/**\n * 取改变的行\n */\nconst getChangedRows = function(){\n    var changedRows = [], rows = this.rows.peek();\n    for (var i = 0, count = rows.length; i < count; i++) {\n        if (rows[i] && rows[i].status != Row.STATUS.NORMAL) {\n            changedRows.push(rows[i])\n        }\n    }\n    return changedRows\n}\n\n\nconst getValue = function (fieldName, row) {\n    row = row || this.getCurrentRow()\n    if (row)\n        return row.getValue(fieldName)\n    else\n        return ''\n}\n\n\n/**\n * 根据行号获取行索引\n * @param {String} rowId\n */\nconst getIndexByRowId = function (rowId) {\n    var rows = this.rows();\n    for (var i = 0, count = rows.length; i < count; i++) {\n        if (rows[i].rowId == rowId)\n            return i\n    }\n    return -1\n}\n\n/**\n * 获取所有行数据\n */\nconst getAllDatas = function () {\n    var rows = this.getAllRows()\n    var datas = []\n    for (var i = 0, count = rows.length; i < count; i++)\n        if (rows[i])\n            datas.push(rows[i].getData())\n    return datas\n}\n\n\n/**\n * 根据索引取rowid\n * @param {Object} indices\n */\nconst getRowIdsByIndices = function (indices) {\n    var rowIds = []\n    for (var i = 0; i < indices.length; i++) {\n        rowIds.push(this.getRow(indices[i]).rowId)\n    }\n    return rowIds\n}\n\n\nexport {\n    getData,\n    getDataByRule,\n    getRow,\n    getRowByRowId,\n    getRowIndex,\n    getRowsByField,\n    getRowByField,\n    getAllRows,\n    getAllPageRows,\n    getChangedDatas,\n    getChangedRows,\n    getValue,\n    getIndexByRowId,\n    getAllDatas,\n    getRowIdsByIndices\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/getData.js\n **/","/**\n * Module : kero dataTable getFocus\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\n\n/**\n * 获取焦点行\n */\nconst getFocusRow = function () {\n    if (this.focusIndex() != -1)\n        return this.getRow(this.focusIndex())\n    else\n        return null\n}\n\n\n/**\n * 获取焦点行\n */\nconst getFocusIndex = function () {\n    return this.focusIndex()\n}\n\nexport {\n\tgetFocusRow,\n\tgetFocusIndex\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/getFocus.js\n **/","/**\n * Module : kero dataTable getMete\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-30 14:34:01\n */\n\n\n/**\n * 获取meta信息，先取row上的信息，没有时，取dataTable上的信息\n * @param {Object} fieldName\n * @param {Object} key\n * @param {Object} row\n */\nconst getMeta = function (fieldName, key) {\n    if (arguments.length === 0)\n        return this.meta;\n    else if (arguments.length === 1)\n        return this.meta[fieldName];\n\n    if(this.meta[fieldName] && typeof this.meta[fieldName][key] !== 'undefined'){\n        return this.meta[fieldName][key];\n    }else{\n        return null;\n    }\n    \n}\n\n\nconst getRowMeta = function (fieldName, key) {\n    var row = this.getCurrentRow()\n    if (row)\n        return row.getMeta(fieldName, key)\n    else\n        return this.getMeta(fieldName, key)\n}\n\nexport {\n\tgetMeta,\n    getRowMeta\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/getMeta.js\n **/","/**\n * Module : kero dataTable getPage\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-08-01 14:34:01\n */\n\n \n\nconst getPage = function (pageIndex) {\n    if (this.pageCache) {\n        return this.cachedPages[pageIndex]\n    }\n    return -1;\n}\n\nconst getPages = function () {\n    if (this.pageCache) {\n        return this.cachedPages\n    }\n    return [];\n}\n\nexport {\n\tgetPage,\n\tgetPages\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/getPage.js\n **/","/**\n * Module : kero dataTable getParam\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-30 14:34:01\n */\n\n\n\nconst getParam = function (key) {\n    return this.params[key]\n}\n\nexport {\n\tgetParam\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/getParam.js\n **/","/**\n * Module : kero dataTable getSelect\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-01 14:34:01\n */\n\n\n/**\n * 获取选中行索引，多选时，只返回第一个行索引\n */\nconst getSelectedIndex = function () {\n    var selectedIndices = this.selectedIndices()\n    if (selectedIndices == null || selectedIndices.length == 0)\n        return -1\n    return selectedIndices[0]\n};\n\n/**\n *获取选中的所有行索引数组索引\n */\nconst getSelectedIndices = function () {\n    var selectedIndices = this.selectedIndices()\n    if (selectedIndices == null || selectedIndices.length == 0)\n        return []\n    return selectedIndices\n};\n\n/**\n * 兼容保留，不要用\n */\nconst getSelectedIndexs = function () {\n    return this.getSelectedIndices();\n}\n\n/**\n * 获取选中行数据\n */\nconst getSelectedDatas = function (withEmptyRow) {\n    var selectedIndices = this.selectedIndices()\n    var datas = []\n    var sIndices = []\n    for (var i = 0, count = selectedIndices.length; i < count; i++) {\n        sIndices.push(selectedIndices[i])\n    }\n    var rows = this.rows();\n    for (var i = 0, count = rows.length; i < count; i++) {\n        if (sIndices.indexOf(i) != -1)\n            datas.push(rows[i].getData())\n        else if (withEmptyRow == true)\n            datas.push(rows[i].getEmptyData())\n    }\n    return datas\n};\n\n/**\n * 取选中行\n */\nconst getSelectedRows = function (){\n    var selectedIndices = this.selectedIndices();\n    var selectRows = [];\n    var rows = this.rows.peek();\n    var sIndices = []\n    for (var i = 0, count = selectedIndices.length; i < count; i++) {\n        sIndices.push(selectedIndices[i])\n    }\n    for (var i = 0, count = rows.length; i < count; i++) {\n        if (sIndices.indexOf(i) != -1)\n            selectRows.push(rows[i])\n    }\n    return selectRows\n}\n\nexport {\n\tgetSelectedIndex,\n\tgetSelectedIndices,\n\tgetSelectedIndexs,\n    getSelectedDatas,\n    getSelectedRows\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/getSelect.js\n **/","/**\n * Module : kero dataTable getSimpleData\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-08-01 14:34:01\n */\n\n/**\n * 获取数据,只取字段名与字段值\n */\nconst getSimpleData = function(options){\n    options = options || {}\n    var rows,_rowData = [], type = options['type'] || 'all', fields = options['fields'] || null;\n\n    if (type === 'all') {\n        rows = this.rows.peek();\n    }else if (type === 'current'){\n        var currRow = this.getCurrentRow();\n        rows = currRow == null ? [] :  [currRow];\n    }else if (type === 'focus'){\n        var focusRow = this.getFocusRow();\n        rows = focusRow == null ? [] :  [focusRow];\n    }else if (type === 'select'){\n        rows = this.getSelectedRows();\n    }else if (type === 'change'){\n        rows = this.getChangedRows();\n    }\n\n    for(var i = 0; i< rows.length; i++){\n        _rowData.push(rows[i].getSimpleData({fields:fields}));\n    }\n    return _rowData;\n};\n\n\n\nexport {\n\tgetSimpleData\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/getSimpleData.js\n **/","/**\n * Module : kero dataTable mete\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-30 14:34:01\n */\n\n\n\nconst setMeta = function (fieldName, key, value) {\n    if(!this.meta[fieldName])\n        return;\n    var oldValue = this.meta[fieldName][key]\n    var currRow = this.getCurrentRow();\n    this.meta[fieldName][key] = value\n    if (this.metaChange[fieldName + '.' + key])\n        this.metaChange[fieldName + '.' + key](-this.metaChange[fieldName + '.' + key]());\n    if (key == 'enable')\n        this.enableChange(-this.enableChange())\n    this.trigger(DataTable.ON_META_CHANGE, {\n        eventType: 'dataTableEvent',\n        dataTable: this.id,\n        field: fieldName,\n        meta: key,\n        oldValue: oldValue,\n        newValue: value\n    });\n    if (currRow && !currRow.getMeta(fieldName, key, false)) {\n        this.trigger(fieldName + '.' + key + '.' + DataTable.ON_CURRENT_META_CHANGE, {\n            eventType: 'dataTableEvent',\n            dataTable: this.id,\n            oldValue: oldValue,\n            newValue: value\n        });\n    }\n}\n\n\n/**\n * example: meta: {supplier: {meta: {precision:'3', default: '0239900x', display:'显示名称'}}}\n */\nconst updateMeta = function (meta) {\n    if (!meta) {\n        return;\n    }\n    for (var fieldKey in meta) {\n        for (var propKey in meta[fieldKey]) {\n            var oldValue = this.meta[fieldKey][propKey]\n            var newValue = meta[fieldKey][propKey]\n            if (propKey === 'default') {\n                if (!this.meta[fieldKey]['default']) {\n                    this.meta[fieldKey]['default'] = {}\n                }\n                this.meta[fieldKey]['default'].value = meta[fieldKey][propKey]\n            } else if (propKey === 'display') {\n                if (!this.meta[fieldKey]['default']) {\n                    this.meta[fieldKey]['default'] = {}\n                }\n                this.meta[fieldKey]['default'].display = meta[fieldKey][propKey]\n            } else {\n                this.meta[fieldKey][propKey] = meta[fieldKey][propKey]\n            }\n            if (this.metaChange[fieldKey + '.' + propKey])\n                this.metaChange[fieldKey + '.' + propKey](-this.metaChange[fieldKey + '.' + propKey]());\n\n            this.trigger(DataTable.ON_META_CHANGE, {\n                eventType: 'dataTableEvent',\n                dataTable: this.id,\n                field: fieldKey,\n                meta: propKey,\n                oldValue: oldValue,\n                newValue: newValue\n            });\n        }\n\n    }\n}\n\n\n\n\n/**\n * 字段不存在时，创建字段\n * @param fieldName\n * @param options\n */\nconst createField = function(fieldName, options){\n    //字段不主动定义，则不创建\n    if (this.root.strict == true)\n        return;\n    //有子表的情况不创建字段\n    if (fieldName.indexOf('.') != -1){\n        var fNames = fieldName.split('.');\n        var _name = fNames[0];\n        for(var i= 0, count = fNames.length; i< count; i++){\n            if (this.meta[_name] && this.meta[_name]['type'] === 'child')\n                return;\n            if ((i+1) < count)\n                _name = _name + '.' + fNames[i+1]\n        }\n    }\n    if (!this.meta[fieldName]){\n        this.meta[fieldName] = {}\n    }\n    if (typeof options === 'object'){\n        if(options['meta']){\n            for(var key in options['meta']){\n                //if (!this.meta[fieldName][key]){\n                this.meta[fieldName]['meta'][key] = options['meta'][key];\n                //}\n            }\n        }else{\n            for(var key in options){\n                //if (!this.meta[fieldName][key]){\n                this.meta[fieldName][key] = options[key];\n                //}\n            }\n        }\n    }\n    // 在顶层dataTable上定义field信息\n    if (this.root !== this){\n        var nsArr = this.ns.split('.')\n        var _fieldMeta = this.root.meta\n        for (var i = 0; i< nsArr.length; i++){\n            _fieldMeta[nsArr[i]] = _fieldMeta[nsArr[i]] || {}\n            _fieldMeta[nsArr[i]]['type'] = _fieldMeta[nsArr[i]]['type'] || 'child';\n            _fieldMeta[nsArr[i]]['meta'] = _fieldMeta[nsArr[i]]['meta'] || {};\n            _fieldMeta =  _fieldMeta[nsArr[i]]['meta'];\n        }\n        if (!_fieldMeta[fieldName]){\n            _fieldMeta[fieldName] = {}\n        }\n        if (typeof options === 'object'){\n            for(var key in options){\n                if (!_fieldMeta[fieldName][key]){\n                    _fieldMeta[fieldName][key] = options[key];\n                }\n            }\n        }\n    }\n\n}\n\nexport {\n\tsetMeta,\n    updateMeta,\n    createField\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/meta.js\n **/","/**\n * Module : kero dataTable page\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-08-01 14:34:01\n */\n\n \nconst setCurrentPage = function (pageIndex, notCacheCurrentPage) {\n    if (pageIndex != this.pageIndex() && notCacheCurrentPage != true)\n        this.cacheCurrentPage();\n    this.pageIndex(pageIndex)\n    var cachedPage = this.cachedPages[this.pageIndex()]\n    if (cachedPage) {\n        this.removeAllRows()\n        this.setRows(cachedPage.rows)\n        this.setRowsSelect(cachedPage.selectedIndcies)\n    }\n}\n\n\n/**\n * 更新分页数据\n */\nconst updatePages = function (pages) {\n    var pageSize = this.pageSize(), pageIndex = 0, page, r, row;\n    var page, index, i, rows, focus, selectIndices, status, j, row, originRow;\n    for (i = 0; i < pages.length; i++) {\n        index = pages[i].index\n        rows = pages[i].rows\n        focus = pages[i].current\n        selectIndices = pages[i].select\n        status = pages[i].status\n        if (status === 'del') {\n            this.cachedPages[index] = null;\n            continue;\n        }\n        if (!this.cachedPages[index]) {\n            page = new Page({parent: this})\n            page.rows = rows;\n            for (var j = 0; j < page.rows.length; j++) {\n                page.rows[j].rowId = page.rows[j].id\n                delete page.rows[j].id\n            }\n            this.cachedPages[index] = page\n        } else {\n            //如果是当前页，先把this.rows数据更新到page中\n            if (index == this.pageIndex()) {\n                this.cacheCurrentPage();\n            }\n            page = this.cachedPages[index]\n            for (var j = 0; j < rows.length; j++) {\n                r = rows[j];\n                if (!r.id)\n                    r.id = Row.getRandomRowId()\n                if (r.status == Row.STATUS.DELETE) {\n                    this.removeRowByRowId(r.id)\n                } else {\n                    row = page.getRowByRowId(r.id)\n                    if (row) {\n                        page.updateRow(row, r);\n                    } else {\n                        r.rowId = r.id\n                        delete r.id\n                        page.rows.push(r);\n                    }\n                }\n            }\n        }\n        page.selectedIndices = selectIndices;\n        page.focus = focus;\n    }\n}\n\n/**\n * 前端分页方法，不建议使用，建议在后端进行分页\n * @param allRows\n */\nconst setPages = function (allRows) {\n    var pageSize = this.pageSize(), pageIndex = 0, page;\n    this.cachedPages = [];\n    for (var i = 0; i < allRows.length; i++) {\n        pageIndex = Math.floor(i / pageSize);\n        if (!this.cachedPages[pageIndex]) {\n            page = new Page({parent: this})\n            this.cachedPages[pageIndex] = page\n        }\n        page.rows.push(allRows[i])\n    }\n    if (this.pageIndex() > -1)\n        this.setCurrentPage(this.pageIndex());\n    this.totalRow(allRows.length);\n    this.totalPages(pageIndex + 1);\n}\n\nconst hasPage = function (pageIndex) {\n    return (this.pageCache && this.cachedPages[pageIndex]) ? true : false\n}\n\nconst clearCache = function () {\n    this.cachedPages = []\n}\n\nconst cacheCurrentPage = function () {\n    if (this.pageCache && this.pageIndex() > -1) {\n        var page = new Page({parent: this});\n        page.focus = this.getFocusIndex();\n        page.selectedIndices = this.selectedIndices().slice();\n        var rows = this.rows.peek();\n        for (var i = 0; i < rows.length; i++) {\n            var r = rows[i].getData();\n            r.rowId = r.id;\n            delete r.id;\n            page.rows.push(r)\n        }\n        this.cachedPages[this.pageIndex()] = page\n    }\n}\n\n\nexport {\n    setCurrentPage,\n    updatePages,\n    setPages,\n    hasPage,\n    clearCache,\n    cacheCurrentPage\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/page.js\n **/","/**\n * Module : kero dataTable param\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-07-30 14:34:01\n */\n\n\nconst addParam = function (key, value) {\n    this.params[key] = value\n}\n\nconst addParams = function (params) {\n    for (var key in params) {\n        this.params[key] = params[key]\n    }\n}\n\n\nexport {\n\taddParam,\n\taddParams\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/param.js\n **/","/**\n * Module : kero dataTable ref\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-01 14:34:01\n */\n\nconst refSelectedRows = function () {\n    return ko.pureComputed({\n        read: function () {\n            var ins = this.selectedIndices() || []\n            var rs = this.rows()\n            var selectedRows = []\n            for (var i = 0; i < ins.length; i++) {\n                selectedRows.push(rs[i])\n            }\n            return selectedRows\n        }, owner: this\n    })\n}\n\n/**\n * 绑定字段值\n * @param {Object} fieldName\n */\nconst ref = function (fieldName) {\n    this.createField(fieldName);\n    if (!this.valueChange[fieldName])\n        this.valueChange[fieldName] = ko.observable(1);\n    return ko.pureComputed({\n        read: function () {\n            this.valueChange[fieldName]();\n            this.currentRowChange();\n            var row = this.getCurrentRow()\n            if (row) {\n                return row.getChildValue(fieldName)\n            }\n            else\n                return ''\n        },\n        write: function (value) {\n            var row = this.getCurrentRow()\n            if (row)\n                row.setChildValue(fieldName, value);\n        },\n        owner: this\n    })\n}\n\n/**\n * 绑定字段属性\n * @param {Object} fieldName\n * @param {Object} key\n */\nconst refMeta = function (fieldName, key) {\n    if (!this.metaChange[fieldName + '.' + key])\n        this.metaChange[fieldName + '.' + key] = ko.observable(1);\n    return ko.pureComputed({\n        read: function () {\n            this.metaChange[fieldName + '.' + key]();\n            this.currentRowChange();\n            return this.getMeta(fieldName, key)\n        },\n        write: function (value) {\n            this.setMeta(fieldName, key, value)\n        },\n        owner: this\n    })\n}\n\nconst refRowMeta = function (fieldName, key) {\n    if (!this.metaChange[fieldName + '.' + key])\n        this.metaChange[fieldName + '.' + key] = ko.observable(1);\n    return ko.pureComputed({\n        read: function () {\n            this.metaChange[fieldName + '.' + key]();\n            this.currentRowChange();\n            var row = this.getCurrentRow()\n            if (row)\n                return row.getMeta(fieldName, key)\n            else\n                return this.getMeta(fieldName, key)\n        },\n        write: function (value) {\n            var row = this.getCurrentRow()\n            if (row)\n                row.setMeta(fieldName, value)\n        },\n        owner: this\n    })\n}\n\n\nconst refEnable = function (fieldName) {\n    return ko.pureComputed({\n        //enable优先级： dataTable.enable >  row上的enable >  field中的enable定义\n        read: function () {\n            this.enableChange();\n            if (!fieldName)\n                return this.enable;\n            var fieldEnable = this.getRowMeta(fieldName, 'enable')\n            if (typeof fieldEnable == 'undefined' || fieldEnable == null)\n                fieldEnable = true;\n            return fieldEnable && this.enable\n        },\n        owner: this\n    })\n}\n\nexport {\n    refSelectedRows,\n    ref,\n    refMeta,\n    refRowMeta,\n    refEnable\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/ref.js\n **/","/**\n * Module : kero dataTable removeRow\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-01 14:34:01\n */\nimport {_formatToIndicesArray} from './util';\n\nconst removeRowByRowId = function (rowId) {\n    var index = this.getIndexByRowId(rowId)\n    if (index != -1)\n        this.removeRow(index)\n}\n\nconst removeRow = function (index) {\n    if (index instanceof Row) {\n        index = this.getIndexByRowId(index.rowId)\n    }\n    this.removeRows([index]);\n}\n\nconst removeAllRows = function () {\n    this.rows([])\n    this.selectedIndices([])\n    this.focusIndex(-1)\n    this.trigger(DataTable.ON_DELETE_ALL)\n    this.updateCurrIndex();\n}\n\nconst removeRows = function (indices) {\n    indices = _formatToIndicesArray(indices)\n    indices = indices.sort()\n    var rowIds = [], rows = this.rows(), deleteRows = [];\n    for (var i = indices.length - 1; i >= 0; i--) {\n        var index = indices[i]\n        var delRow = rows[index];\n        if (delRow == null) {\n            continue;\n        }\n        rowIds.push(delRow.rowId)\n        var deleteRow = rows.splice(index, 1);\n        deleteRows.push(deleteRow[0]);\n        this.updateSelectedIndices(index, '-')\n        this.updateFocusIndex(index, '-')\n    }\n    this.rows(rows)\n    this.deleteRows = deleteRows;\n    this.trigger(DataTable.ON_DELETE, {\n        indices: indices,\n        rowIds: rowIds,\n        deleteRows: deleteRows\n    })\n    this.updateCurrIndex();\n}\n\n\n/**\n * 清空datatable的所有数据以及分页数据以及index\n */\nconst clear = function () {\n    this.removeAllRows();\n    this.cachedPages = [];\n    this.totalPages(1);\n    this.pageIndex(0);\n    this.focusIndex(-1);\n    this.selectedIndices([]);\n}\n\nexport {\n    removeRowByRowId,\n    removeRow,\n    removeAllRows,\n    removeRows,\n    clear\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/removeRow.js\n **/","/**\n * Module : kero dataTable util\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\nimport {isArray} from 'neoui-sparrow/js/util';\n\nconst isChanged = function () {\n    var rows = this.getAllRows()\n    for (var i = 0; i < rows.length; i++) {\n        if (rows[i].status != Row.STATUS.NORMAL)\n            return true\n    }\n    return false\n}\n\nconst _formatToIndicesArray = function (indices) {\n    if (typeof indices == 'string' || typeof indices == 'number') {\n        indices = [indices]\n    } else if (indices instanceof Row) {\n        indices = this.getIndexByRowId(indices.rowId)\n    } else if (isArray(indices) && indices.length > 0 && indices[0] instanceof Row) {\n        for (var i = 0; i < indices.length; i++) {\n            indices[i] = this.getIndexByRowId(indices[i].rowId)\n        }\n    }\n    return indices;\n};\n\nexport {\n\tisChanged,\n\t_formatToIndicesArray\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/util.js\n **/","/**\n * Module : kero dataTable row\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-08-01 14:34:01\n */\nimport {isEmptyObject} from 'neoui-sparrow/js/util';\n\n/**\n * 设置行数据\n * @param {Object} rows\n */\nconst setRows = function (rows) {\n    var insertRows = [], _id;\n    for (var i = 0; i < rows.length; i++) {\n        var r = rows[i]\n        _id = r.rowId || r.id;\n        if (!_id)\n            _id = Row.getRandomRowId()\n        if (r.status == Row.STATUS.DELETE) {\n            this.removeRowByRowId(_id)\n        }\n        else {\n            var row = this.getRowByRowId(_id)\n            if (row) {\n                row.updateRow(r);\n                if (!isEmptyObject(r.data)) {\n                    this.trigger(DataTable.ON_UPDATE, {\n                        index: i,\n                        rows: [row]\n                    })\n                    if (row == this.getCurrentRow()) {\n                        this.currentRowChange(-this.currentRowChange())\n                        row.currentRowChange(-row.currentRowChange())\n                        this.trigger(DataTable.ON_CURRENT_UPDATE, {\n                            index: i,\n                            rows: [row]\n                        })\n                    } else {\n                        row.currentRowChange(-row.currentRowChange())\n                    }\n                }\n\n            }\n            else {\n                row = new Row({parent: this, id: _id})\n                row.setData(rows[i])\n                insertRows.push(row)\n            }\n        }\n    }\n    if (insertRows.length > 0)\n        this.addRows(insertRows)\n}\n\n\n/**\n *追加行\n */\nconst addRow = function (row) {\n    this.insertRow(this.rows().length, row)\n}\n\n/**\n *追加多行\n */\nconst addRows = function (rows) {\n    this.insertRows(this.rows().length, rows)\n}\n\nconst insertRow = function (index, row) {\n    if (!row) {\n        row = new Row({parent: this})\n    }\n    this.insertRows(index, [row])\n}\n\nconst insertRows = function (index, rows) {\n    var args = [index, 0]\n    for (var i = 0; i < rows.length; i++) {\n        args.push(rows[i]);\n    }\n    this.rows.splice.apply(this.rows, args);\n\n    this.updateSelectedIndices(index, '+', rows.length)\n    this.updateFocusIndex(index, '+', rows.length)\n\n    this.trigger(DataTable.ON_INSERT, {\n        index: index,\n        rows: rows\n    })\n    if (this.ns){\n        if (this.root.valueChange[this.ns])\n            this.root.valueChange[this.ns](-this.root.valueChange[this.ns]());\n    }\n}\n\n/**\n * 创建空行\n */\nconst createEmptyRow = function () {\n    var r = new Row({parent: this})\n    this.addRow(r)\n    if (!this.getCurrentRow())\n        this.setRowSelect(r);\n    return r\n}\n\nexport {\n    setRows,\n    addRow,\n    addRows,\n    insertRow,\n    insertRows,\n    createEmptyRow\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row.js\n **/","/**\n * Module : kero dataTable rowCurrent\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\n\n\n\n\nconst updateCurrIndex = function () {\n    var currentIndex = this.focusIndex() != -1 ? this.focusIndex() : this.getSelectedIndex();\n    if (this._oldCurrentIndex != currentIndex) {\n        this._oldCurrentIndex = currentIndex;\n        this.trigger(DataTable.ON_CURRENT_ROW_CHANGE)\n        this.currentRowChange(-this.currentRowChange());\n        if (this.ns){\n            if (this.root.valueChange[this.ns])\n                this.root.valueChange[this.ns](-this.root.valueChange[this.ns]());\n        }\n\n    }\n}\n\nexport {\n\tupdateCurrIndex\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/rowCurrent.js\n **/","/**\n * Module : kero dataTable rowDelete\n * Desc: 不建议使用此库方法\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-01 14:34:01\n */\nimport {_formatToIndicesArray} from './util';\n\n/**\n * 设置行删除\n * @param {Object} index\n */\nconst setRowDelete = function (index) {\n    if (index instanceof Row) {\n        index = this.getIndexByRowId(index.rowId)\n    }\n    this.setRowsDelete([index])\n}\n\n/**\n * 设置所有行删除\n */\nconst setAllRowsDelete = function () {\n    var indices = new Array(this.rows().length)\n    for (var i = 0; i < indices.length; i++) {\n        indices[i] = i\n    }\n    this.setRowsDelete(indices)\n}\n\n/**\n * 设置行删除\n * @param {Array} indices\n */\nconst setRowsDelete = function (indices) {\n    indices = _formatToIndicesArray(indices)\n    for (var i = 0; i < indices.length; i++) {\n        var row = this.getRow(indices[i])\n        if (row.status == Row.STATUS.NEW) {\n            this.rows(this.rows().splice(indices[i], 1));\n            this.updateSelectedIndices(indices[i], '-')\n            this.updateFocusIndex(index, '-')\n        }\n        else {\n            row.status = Row.STATUS.FALSE_DELETE\n        }\n    }\n    var rowIds = this.getRowIdsByIndices(indices)\n    this.trigger(DataTable.ON_ROW_DELETE, {\n        falseDelete: true,\n        indices: indices,\n        rowIds: rowIds\n    })\n}\n\nexport {\n\tsetRowDelete,\n\tsetAllRowsDelete,\n\tsetRowsDelete\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/rowDelete.js\n **/","/**\n * Module : kero dataTable rowSelect\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-01 14:34:01\n */\nimport {isArray, isNumber} from 'neoui-sparrow/js/util';\nimport {_formatToIndicesArray} from './util';\nconst setAllRowsSelect = function () {\n    var indices = new Array(this.rows().length)\n    for (var i = 0; i < indices.length; i++) {\n        indices[i] = i\n    }\n    this.setRowsSelect(indices);\n    this.allSelected(true);\n    this.trigger(DataTable.ON_ROW_ALLSELECT, {})\n}\n\n/**\n * 设置选中行，清空之前已选中的所有行\n */\nconst setRowSelect = function (index) {\n    if (index instanceof Row) {\n        index = this.getIndexByRowId(index.rowId)\n    }\n    this.setRowsSelect([index])\n    this.setRowFocus(this.getSelectedIndex())\n}\n\nconst setRowsSelect = function (indices) {\n    indices = indices || -1;\n    if (indices == -1) {\n        this.setAllRowsUnSelect({quiet: true})\n        return;\n    }\n    indices = _formatToIndicesArray(indices);\n    var sIns = this.selectedIndices();\n    if (isArray(indices) && isArray(sIns) && indices.join() == sIns.join()) {\n        // 避免与控件循环触发\n        return;\n    }\n    this.setAllRowsUnSelect({quiet: true});\n    try{\n        this.selectedIndices(indices);\n    }catch(e){\n        \n    }\n    \n    var rowIds = this.getRowIdsByIndices(indices);\n    this.currentRowChange(-this.currentRowChange());\n    this.trigger(DataTable.ON_ROW_SELECT, {\n        indices: indices,\n        rowIds: rowIds\n    })\n    this.updateCurrIndex();\n}\n\n\n/**\n * 添加选中行，不会清空之前已选中的行\n */\nconst addRowSelect = function (index) {\n    if (index instanceof Row) {\n        index = this.getIndexByRowId(index.rowId)\n    }\n    this.addRowsSelect([index])\n}\n\n/**\n * 添加选中行，不会清空之前已选中的行\n */\nconst addRowsSelect = function (indices) {\n    indices = _formatToIndicesArray(indices)\n    var selectedIndices = this.selectedIndices().slice()\n    for (var i = 0; i < indices.length; i++) {\n        var ind = indices[i], toAdd = true\n        for (var j = 0; j < selectedIndices.length; j++) {\n            if (selectedIndices[j] == ind) {\n                toAdd = false\n            }\n        }\n        if (toAdd) {\n            selectedIndices.push(indices[i])\n        }\n    }\n    this.selectedIndices(selectedIndices)\n    var rowIds = this.getRowIdsByIndices(indices)\n    this.trigger(DataTable.ON_ROW_SELECT, {\n        indices: indices,\n        rowIds: rowIds\n    })\n    this.updateCurrIndex();\n}\n\n/**\n * 全部取消选中\n */\nconst setAllRowsUnSelect = function (options) {\n    this.selectedIndices([])\n    if (!(options && options.quiet)) {\n        this.trigger(DataTable.ON_ROW_ALLUNSELECT)\n    }\n    this.updateCurrIndex();\n    this.allSelected(false);\n}\n\n/**\n * 取消选中\n */\nconst setRowUnSelect = function (index) {\n    if (index instanceof Row) {\n        index = this.getIndexByRowId(index.rowId)\n    }\n    this.setRowsUnSelect([index])\n}\n\nconst setRowsUnSelect = function (indices) {\n    indices = _formatToIndicesArray(indices)\n    var selectedIndices = this.selectedIndices().slice()\n\n    // 避免与控件循环触发\n    if (selectedIndices.indexOf(indices[0]) == -1) return;\n\n    for (var i = 0; i < indices.length; i++) {\n        var index = indices[i]\n        var pos = selectedIndices.indexOf(index)\n        if (pos != -1)\n            selectedIndices.splice(pos, 1)\n    }\n    this.selectedIndices(selectedIndices)\n    var rowIds = this.getRowIdsByIndices(indices)\n    this.trigger(DataTable.ON_ROW_UNSELECT, {\n        indices: indices,\n        rowIds: rowIds\n    })\n    this.updateCurrIndex();\n    this.allSelected(false);\n}\n\n\n const toggleAllSelect = function(){\n    if (this.allSelected()){\n        this.setAllRowsUnSelect();\n    }else{\n        this.setAllRowsSelect();\n    }\n\n};\n\n\n/**\n *\n * @param {Object} index 要处理的起始行索引\n * @param {Object} type   增加或减少  + -\n */\nconst updateSelectedIndices = function (index, type, num) {\n    if (!isNumber(num)) {\n        num = 1\n    }\n    var selectedIndices = this.selectedIndices().slice()\n    if (selectedIndices == null || selectedIndices.length == 0)\n        return\n    for (var i = 0, count = selectedIndices.length; i < count; i++) {\n        if (type == '+') {\n            if (selectedIndices[i] >= index)\n                selectedIndices[i] = parseInt(selectedIndices[i]) + num\n        }\n        else if (type == '-') {\n            if (selectedIndices[i] >= index && selectedIndices[i] <= index + num - 1) {\n                selectedIndices.splice(i, 1)\n            }\n            else if (selectedIndices[i] > index + num - 1)\n                selectedIndices[i] = selectedIndices[i] - num\n        }\n    }\n    this.selectedIndices(selectedIndices)\n}\nexport {\n\tsetAllRowsSelect,\n\tsetRowSelect,\n\tsetRowsSelect,\n\taddRowSelect,\n\taddRowsSelect,\n    setAllRowsUnSelect,\n    setRowUnSelect,\n    setRowsUnSelect,\n    toggleAllSelect,\n    updateSelectedIndices\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/rowSelect.js\n **/","/**\n * Module : kero dataTable rowFocus\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\nimport {isNumber} from 'neoui-sparrow/js/util';\n\n/**\n * 设置焦点行\n * @param {Object} index 行对象或者行index\n * @param quiet 不触发事件\n * @param force 当index行与已focus的行相等时，仍然触发事件\n */\nconst setRowFocus = function (index, quiet, force) {\n    var rowId = null\n    if (index instanceof Row) {\n        index = this.getIndexByRowId(index.rowId)\n        rowId = index.rowId\n    }\n    if (index === -1 || (index === this.focusIndex() && !force)) {\n        return;\n    }\n    this.focusIndex(index)\n    if (quiet) {\n        return;\n    }\n    this.currentRowChange(-this.currentRowChange())\n    if (!rowId) {\n        rowId = this.getRow(index).rowId\n    }\n    this.trigger(DataTable.ON_ROW_FOCUS, {\n        index: index,\n        rowId: rowId\n    })\n    this.updateCurrIndex();\n}\n\n\n/**\n * 焦点行反选\n */\nconst setRowUnFocus = function () {\n    this.currentRowChange(-this.currentRowChange())\n    var indx = this.focusIndex(), rowId = null;\n    if (indx !== -1) {\n        rowId = this.getRow(indx).rowId\n    }\n    this.trigger(DataTable.ON_ROW_UNFOCUS, {\n        index: indx,\n        rowId: rowId\n    })\n    this.focusIndex(-1)\n    this.updateCurrIndex();\n}\n\n\nconst updateFocusIndex = function (opIndex, opType, num) {\n    if (!isNumber(num)) {\n        num = 1\n    }\n    if (opIndex <= this.focusIndex() && this.focusIndex() != -1) {\n        if (opType === '+') {\n            this.focusIndex(this.focusIndex() + num)\n        } else if (opType === '-') {\n            if (this.focusIndex() >= opIndex && this.focusIndex() <= opIndex + num - 1) {\n                this.focusIndex(this.focusIndex() - 1)\n            } else if (this.focusIndex() > opIndex + num - 1) {\n                this.focusIndex(this.focusIndex() - num)\n            }\n        }\n    }\n}\n\nexport {\n    setRowFocus,\n    setRowUnFocus,\n    updateFocusIndex\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/rowFocus.js\n **/","/**\n * Module : kero dataTable simpleData\n * Author : liuyk(liuyk@yonyou.com)\n * Date\t  : 2016-08-01 14:34:01\n */\nimport {isArray} from 'neoui-sparrow/js/util';\n\n/**\n * 设置数据, 只设置字段值\n * @param {array} data\n *options{} unSelect为true：不选中，为false则选中，默认选中0行\n */\nconst setSimpleData = function(data,options){\n    this.removeAllRows();\n    this.cachedPages = [];\n    this.focusIndex(-1);\n    this.selectedIndices([]);\n\n    if (!data){\n        // throw new Error(\"dataTable.setSimpleData param can't be null!\");\n        return;\n    }\n    \n    var rows = [];\n    if (!isArray(data))\n        data = [data];\n    for (var i =0; i< data.length; i++){\n        var _data = data[i];\n        /* 判断data中的字段在datatable中是否存在，如果不存在则创建 */\n        // for(var f in _data){\n        //     this.createField(f)\n        // }\n        if (typeof data[i] !== 'object')\n            _data = {$data:data[i]}\n        rows.push({\n            status: Row.STATUS.NORMAL,\n            data: _data\n        })\n    }\n    var _data = {\n        rows: rows\n    }\n    this.setData(_data,options);\n};\n\n\n/**\n * 追加数据\n * @param data\n */\nconst addSimpleData = function(data, status){\n    if (!data){\n        throw new Error(\"dataTable.addSimpleData param can't be null!\");\n    }\n    if (!isArray(data))\n        data = [data];\n    for (var i =0; i< data.length; i++){\n        var r = this.createEmptyRow();\n        r.setSimpleData(data[i],status);\n    }\n\n}\n\nexport {\n\tsetSimpleData,\n\taddSimpleData\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/simpleData.js\n **/","/**\n * Module : Kero webpack entry Page index\n * Author : liuyk(liuyuekai@yonyou.com)\n * Date\t  : 2016-08-09 15:24:46\n */\n\nimport {\n\tsetRowValue,\n\tupdateRow\n} from './page-data'; \n\nimport {\n\tgetData,\n\tgetSelectDatas,\n\tgetSelectRows,\n\tgetRowByRowId,\n\tgetRowValue\n} from './page-getData'; \n\nimport{\n\tgetRowMeta\n} from './page-getMeta'; \n\nimport {\n\tsetRowMeta\n} from './page-meta'; \n\nimport {\n\tremoveRowByRowId\n} from './page-removeRow'; \n\n\nclass Page{\n    constructor(options){\n        this.focus = options['focus'] || null;\n        this.selectedIndices = options['selectedIndices'] || null;\n        this.rows = options['rows'] || []\n        this.parent = options['parent'] || null;\n\n        \n\t\t//data\n\t\tthis.setRowValue= setRowValue;\n\t\tthis.updateRow= updateRow;\n\n\t\t//getData\n\t\tthis.getData= getData;\n\t\tthis.getSelectDatas= getSelectDatas;\n\t\tthis.getSelectRows= getSelectRows;\n\t\tthis.getRowByRowId= getRowByRowId;\n\t\tthis.getRowValue= getRowValue;\n\n\t\t//getMeta\n\t\tthis.getRowMeta= getRowMeta;\n\n\t\t//meta\n\t\tthis.setRowMeta= setRowMeta;\n\n\t\t//removeRow\n\t\tthis.removeRowByRowId= removeRowByRowId;\n\n    }\n}\n\n\nexport {\n\tPage\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/indexPage.js\n **/","/**\n * Module : kero dataTable page data\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\n\nconst setRowValue = function (rowIndex, fieldName, value) {\n    var row = this.rows[rowIndex]\n    if (row) {\n        row.data[fieldName]['value'] = value\n        if (row.status != Row.STATUS.NEW)\n            row.status = Row.STATUS.UPDATE\n    }\n}\n\n\n\n\nconst updateRow = function (originRow, newRow) {\n    originRow.status = originRow.status\n    //this.rowId = data.rowId\n    if (!newRow.data) return;\n    for (var key in newRow.data) {\n        if (originRow.data[key]) {\n            var valueObj = newRow.data[key]\n            if (typeof valueObj == 'string' || typeof valueObj == 'number' || valueObj === null)\n                originRow.data[key]['value'] = valueObj\n            //this.setValue(key, this.formatValue(key, valueObj))\n            else {\n//\t\t\t\t\tthis.setValue(key, valueObj.value)\n\n                if (valueObj.error) {\n                    if(u.showMessageDialog)\n                        u.showMessageDialog({title: \"警告\", msg: valueObj.error, backdrop: true});\n                    else\n                        alert(valueObj.error)\n                } else {\n                    //this.setValue(key, this.formatValue(key, valueObj.value), null)\n                    originRow.data[key]['value'] = valueObj.value\n                    for (var k in valueObj.meta) {\n                        originRow.data[key]['meta'] = originRow.data[key]['meta'] || {}\n                        originRow.data[key]['meta'][k] = valueObj.meta[k]\n                    }\n                }\n            }\n        }\n    }\n}\n\nexport {\n\tsetRowValue,\n\tupdateRow\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/page-data.js\n **/","/**\n * Module : kero dataTable page getData\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\n\nconst getData = function () {\n    var datas = [], row, meta;\n    meta = this.parent.getMeta()\n    for (var i = 0; i < this.rows.length; i++) {\n        row = this.rows[i];\n        datas.push({'id': row.rowId, 'status': row.status, data: row.data});\n    }\n    return datas\n}\n\nconst getSelectDatas = function () {\n    var datas = [], row;\n    for (var i = 0; i < this.rows.length; i++) {\n        row = this.rows[i];\n        datas.push({'id': row.rowId, 'status': row.status, data: row.data});\n    }\n    for (var i = 0; i < this.selectedIndices.length; i++) {\n        row = this.rows[this.selectedIndices[i]];\n        datas.push({'id': row.rowId, 'status': row.status, data: row.data});\n    }\n    return datas\n}\n\n\n\nconst getSelectRows = function () {\n    var rows = [];\n    for (var i = 0; i < this.selectedIndices.length; i++) {\n        rows.push(this.rows[this.selectedIndices[i]])\n    }\n    return rows\n}\n\nconst getRowByRowId = function (rowid) {\n    for (var i = 0, count = this.rows.length; i < count; i++) {\n        if (this.rows.rowId == rowid)\n            return this.rows[i]\n    }\n    return null\n}\n\nconst getRowValue = function (rowIndex, fieldName) {\n    var row = this.rows[rowIndex]\n    if (row) {\n        return row.data[fieldName]['value']\n    }\n    return null\n}\n\nexport {\n\tgetData,\n\tgetSelectDatas,\n\tgetSelectRows,\n\tgetRowByRowId,\n\tgetRowValue\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/page-getData.js\n **/","/**\n * Module : kero dataTable page getMeta\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\n\n\nconst getRowMeta = function (rowIndex, fieldName, metaName) {\n    var row = this.rows[rowIndex]\n    if (row) {\n        var meta = row[fieldName].meta\n        if (!meta)\n            return null\n        else\n            return meta[metaName]\n    }\n    return null\n}\n\nexport{\n\tgetRowMeta\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/page-getMeta.js\n **/","/**\n * Module : kero dataTable page meta\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\n\n\n\nconst setRowMeta = function (rowIndex, fieldName, metaName, value) {\n    var row = this.rows[rowIndex]\n    if (row) {\n        var meta = row[fieldName].meta\n        if (!meta)\n            meta = row[fieldName].meta = {}\n        meta[metaName] = value\n        if (row.status != Row.STATUS.NEW)\n            row.status = Row.STATUS.UPDATE\n    }\n}\n\nexport {\n\tsetRowMeta\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/page-meta.js\n **/","/**\n * Module : kero dataTable page removeRow\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 09:59:01\n */\n\n\nconst removeRowByRowId = function (rowid) {\n    for (var i = 0, count = this.rows.length; i < count; i++) {\n        if (this.rows.rowId == rowid)\n            this.rows.splice(i, 1);\n    }\n}\n\nexport {\n\tremoveRowByRowId\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/page-removeRow.js\n **/","/**\n * Module : Kero webpack entry row index\n * Author : liuyk(liuyuekai@yonyou.com)\n * Date   : 2016-08-09 15:24:46\n */\n\nimport {\n    Events\n} from './indexEvents';\n\n\nimport {\n    setValue,\n    setChildValue,\n    setChildSimpleDataByRowId,\n    setData,\n    updateRow\n} from './row-data'; \n\nimport {\n    getValue,\n    getChildValue,\n    getData,\n    getEmptyData\n} from './row-getData'; \n\nimport {\n    getMeta\n} from './row-getMeta'; \n\nimport {\n    getSimpleData\n} from './row-getSimpleData'; \n\nimport {\n    init\n} from './row-init'; \n\nimport {\n    setMeta\n} from './row-meta'; \n\nimport {\n    ref,\n    refMeta,\n    refCombo,\n    refDate,\n    refEnum\n} from './row-ref'; \n\nimport{\n    toggleSelect,\n    singleSelect,\n    multiSelect\n} from './row-rowSelect'; \n\nimport {\n    setSimpleData\n} from './row-simpleData'; \n\nimport {\n    formatValue, //需要最终产出\n} from './row-util'; \n\n\nclass Row extends Events{\n    constructor(options){\n        super();\n        var self = this;\n        this.rowId = options['id'] || Row.getRandomRowId()\n        this.status = Row.STATUS.NEW\n        this.parent = options['parent']\n        this.initValue = null\n        this.data = {}\n        this.metaChange = {}//ko.observable(1)\n        this.valueChange = {};\n        this.currentRowChange = ko.observable(1);\n        this.selected = ko.pureComputed({\n            read: function () {\n                var index = this.parent.getRowIndex(this);\n                var selectindices = this.parent.getSelectedIndices();\n                return selectindices.indexOf(index) != -1;\n            },\n            owner: this\n\n        })\n        this.focused = ko.pureComputed({\n            read: function () {\n                var index = this.parent.getRowIndex(this);\n                var focusIndex = this.parent.getFocusIndex()\n                return focusIndex == index;\n            },\n            owner: this\n\n        })\n\n        \n        //data\n        this.setValue= setValue;\n        this.setChildValue= setChildValue;\n        this.setChildSimpleDataByRowId= setChildSimpleDataByRowId;\n        this.setData= setData;\n        this.updateRow= updateRow;\n\n        //getData\n        this.getValue= getValue;\n        this.getChildValue= getChildValue;\n        this.getData= getData;\n        this.getEmptyData= getEmptyData;\n\n        //getMeta\n        this.getMeta= getMeta;\n\n        //getSimpleData\n        this.getSimpleData= getSimpleData;\n\n        //init\n        this.init= init;\n\n        //meta\n        this.setMeta= setMeta;\n\n        //ref\n        this.ref= ref;\n        this.refMeta= refMeta;\n        this.refCombo= refCombo;\n        this.refDate= refDate;\n        this.refEnum= refEnum;\n\n        //rowSelect\n        this.toggleSelect= toggleSelect;\n        this.singleSelect= singleSelect;\n        this.multiSelect= multiSelect;\n\n        //simpleData\n        this.setSimpleData= setSimpleData;\n\n        //util\n        this.formatValue= formatValue;\n\n        this.init()\n    }\n}\n\nRow.STATUS = {\n    NORMAL: 'nrm',\n    UPDATE: 'upd',\n    NEW: 'new',\n    DELETE: 'del',\n    FALSE_DELETE: 'fdel'\n}\n\n/*\n * 生成随机行id\n * @private\n */\nRow.getRandomRowId = function () {\n    var _id = setTimeout(function () {})\n    return  _id + '';\n};\n\nexport {\n    Row\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/indexRow.js\n **/","/**\n * Module : kero dataTable row getData\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 13:54:01\n */\nimport {eq,_triggerChange, _getField} from './util';\nimport {isArray} from 'neoui-sparrow/js/util';\n /**\n *设置row中某一列的值\n */\nconst setValue = function (fieldName, value, ctx, options) {\n    if (arguments.length === 1){\n        value = fieldName;\n        fieldName = '$data';\n    }\n    var oldValue = this.getValue(fieldName)\n    if(typeof oldValue == 'undefined' || oldValue === null)\n        oldValue = ''\n    if (eq(oldValue, value)) return;\n    _getField(fieldName)['value'] = value;\n    _triggerChange(fieldName, oldValue, ctx);\n}\n\nconst setChildValue = function(fieldName, value){\n    var nameArr = fieldName.split('.');\n    var _name = nameArr[0];\n    var _field = this.data[_name];//_field保存当前_name对应的数据\n    for (var i = 0, count = nameArr.length; i<count; i++){\n        //最后一级\n        if (i == count -1){\n            if (_field['value'] instanceof u.DataTable){\n                //暂不处理\n            }else{\n                this.setValue(fieldName, value);\n            }\n        }else{\n\t\t\tif (_field && _field['value'] instanceof u.DataTable){\n                var row = _field['value'].getCurrentRow();\n                if (row)\n                    row.setChildValue(fieldName.replace(_name + '.', ''), value)\n            }else{\n            \t_name = nameArr[i + 1];\n            \t_field = _field[_name];//多层嵌套时_field取子项对应的数据\n            }\n\n        }\n    }\n};\n\nconst setChildSimpleDataByRowId = function(rowId, data){\n    var rowIdArr = rowId.split('.');\n    var rowIdLength = rowIdArr.length;\n    if(rowIdLength > 1){\n        var _childField = rowIdArr[0]; //子表字段\n        var _childObj = this.data[_childField]; // 子表字段存放的obj\n        if (_childObj && _childObj['value'] instanceof u.DataTable){\n            var rowId = rowIdArr[1];\n            var row = null;\n            if(rowId)\n                row = _childObj['value'].getRowByRowId(rowId);\n            if (row){\n                if(rowIdArr.length == 2){\n                    row.setSimpleData(data);\n                }else{\n                    row.setChildSimpleDataByRowId(fieldName.replace(_childField + '.' + rowId + '.', ''),data)\n                }\n            }\n        }\n    }\n}\n\n\n/**\n * [_setData description]\n * @param {[type]} sourceData \n * @param {[type]} targetData \n * @param {[type]} subscribe  \n * @param {[type]} parentKey  [父项key，数据项为数组时获取meta值用]\n */\nconst _setData = function(sourceData, targetData, subscribe, parentKey){\n    for (var key in sourceData) {\n    \tvar _parentKey = parentKey || null;\n        //if (targetData[key]) {\n        targetData[key] = targetData[key] || {};\n        var valueObj = sourceData[key]\n        if (typeof valueObj != 'object')\n            this.parent.createField(key);\n        //if (typeof this.parent.meta[key] === 'undefined') continue;\n        if (valueObj == null ||  typeof valueObj != 'object'){\n            targetData[key]['value'] = this.formatValue(key, valueObj)\n            if (subscribe === true && (oldValue !== targetData[key]['value'])){\n                    _triggerChange(key, oldValue);\n                }\n        }\n        else {\n            if (valueObj.error) {\n                if(u.showMessageDialog)\n                    u.showMessageDialog({title: \"警告\", msg: valueObj.error, backdrop: true});\n                else\n                    alert(valueObj.error);\n            } else if (valueObj.value || valueObj.value === null  || valueObj.meta || valueObj.value === '' || valueObj.value === '0' || valueObj.value === 0){\n                var oldValue = targetData[key]['value'];\n                targetData[key]['value'] = this.formatValue(key, valueObj.value)\n                if (subscribe === true && (oldValue !== targetData[key]['value'])){\n                    _triggerChange(key, oldValue);\n                }\n                for (var k in valueObj.meta) {\n                    this.setMeta(key, k, valueObj.meta[k])\n                }\n            }else if (isArray(valueObj)){\n                targetData[key].isChild = true;\n                //ns 是多级数据时的空间名： 最顶层的dataTable没有ns。  f1.f2.f3\n                var _key = _parentKey == null ? key : _parentKey + '.' + key;\n                var ns = this.parent.ns === '' ? key : this.parent.ns + '.' + _key\n              if(this.parent.meta[_key]){\n            \tvar meta = this.parent.meta[_key]['meta']\n                targetData[key].value = new u.DataTable({root:this.parent.root,ns:ns,meta:meta});\n                targetData[key].value.setSimpleData(valueObj);\n              }\n            }else{\n            \t_parentKey = _parentKey == null ? key : _parentKey + '.' + key;\n                this._setData(valueObj, targetData[key], null, _parentKey);\n            }\n        }\n        //}\n    }\n\n}\n\n/**\n *设置Row数据\n *@subscribe 是否触发监听  \n */\nconst setData = function (data, subscribe) {\n    this.status = data.status\n    var sourceData = data.data,\n        targetData = this.data;\n    if (this.parent.root.strict != true){\n        this._setData(sourceData, targetData,subscribe);\n        return;\n    }\n\n    // strict 为true 时 ，定义dataTable的时候必须定义所有字段信息才能设置数据。\n    var meta = this.parent.meta;\n    for (var key in meta){\n        var oldValue = newValue = null;\n        //子数据\n        if (meta[key]['type'] && meta[key]['type'] === 'child'){\n            targetData[key].isChild = true;\n            //ns 是多级数据时的空间名： 最顶层的dataTable没有ns。  f1.f2.f3\n            var ns = this.parent.ns === '' ? key : this.parent.ns + '.' + key\n            var meta = this.parent.meta[key]['meta']\n            targetData[key].value = new u.DataTable({root:this.parent.root,ns:ns,meta:meta});\n            if (typeof sourceData[key] === 'object')\n                targetData[key].value.setSimpleData(sourceData[key]);\n        }\n        //存在多级关系\n        else if (key.indexOf('.') != -1){\n            var keys = key.split('.');\n            var _fieldValue = sourceData;\n            var _targetField = targetData;\n            for(var i = 0; i< keys.length; i++){\n                _fieldValue = _fieldValue || {};\n                _fieldValue = _fieldValue[keys[i]];\n                _targetField = _targetField[keys[i]];\n            }\n            oldValue = _targetField['value'];\n            _targetField['value'] = this.formatValue(key, _fieldValue)\n            newValue = _targetField['value'];\n        }\n        // 通过 setSimpleData 设置的数据\n        else if (sourceData[key] == null ||  typeof sourceData[key] != 'object'){\n            oldValue = targetData[key]['value'];\n            targetData[key]['value'] = this.formatValue(key, sourceData[key])\n            newValue = targetData[key]['value'];\n        }\n        else{\n            var valueObj = sourceData[key];\n            if (valueObj.error) {\n                if(u.showMessageDialog)\n                    u.showMessageDialog({title: \"警告\", msg: valueObj.error, backdrop: true});\n                else\n                    alert(valueObj.error);\n            } else if (valueObj.value || valueObj.value === null || valueObj.meta){\n                oldValue = targetData[key]['value'];\n                targetData[key]['value'] = this.formatValue(key, valueObj.value)\n                newValue = targetData[key]['value'];\n                for (var k in valueObj.meta) {\n                    this.setMeta(key, k, valueObj.meta[k])\n                }\n            }\n        }\n        if (subscribe === true && (oldValue !== newValue)){\n            _triggerChange(key, oldValue);\n        }\n\n    }\n};\n\n\nconst updateRow = function (row) {\n    this.setData(row)\n}\n\nexport {\n\tsetValue,\n\tsetChildValue,\n\tsetChildSimpleDataByRowId,\n\tsetData,\n\tupdateRow\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row-data.js\n **/","/**\n * Module : kero dataTable row getData\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 13:54:01\n */\nimport {_dateToUTCString,_getField} from './util';\n/**\n *获取row中某一列的值\n */\nconst getValue = function (fieldName) {\n    return _getField(fieldName)['value']\n}\n\n/**\n * 获取子表值 ，如果fieldName对应了一个子表，返回该子表的行数组\n * @param fieldName\n */\nconst getChildValue = function(fieldName){\n    var nameArr = fieldName.split('.');\n    var _name = nameArr[0];\n    for (var i = 0, count = nameArr.length; i<count; i++){\n        var _value = this.getValue(_name);\n        //最后一级\n        if (i == count -1){\n            if (_value instanceof u.DataTable){\n                return _value.rows.peek();\n            }else{\n                return _value;\n            }\n        }else{\n            if (_value instanceof u.DataTable){\n                _value = _value.getCurrentRow();\n                if (!_value)\n                    return '';\n                else\n                    return _value.getChildValue(fieldName.replace(_name + '.', ''))\n            }else{\n                _name = _name + '.' + nameArr[i+1];\n            }\n\n        }\n    }\n    return '';\n};\n\n/**\n * @private\n * 提交数据到后台\n */\nconst getData = function () {\n    var data = ko.toJS(this.data)\n    var meta = this.parent.getMeta()\n    for (var key in meta) {\n        if (meta[key] && meta[key].type) {\n            if (meta[key].type == 'date' || meta[key].type == 'datetime') {\n                if(key.indexOf('.')>0){//大于0说明是多级json\n                    var keys=key.split('.');\n                    var _keyValue=data;\n                    for(var i=0,count=keys.length;i<count;i++){\n                        _keyValue=_keyValue[keys[i]];\n                    }\n                    _keyValue.value =_dateToUTCString(_keyValue.value);\n                  \n                }else{\n                    data[key].value = _dateToUTCString(data[key].value)\n                }\n            } else if(meta[key].type == 'child') {\n                var chiddt = this.getValue(key),\n                    rs = chiddt.rows(),\n                    cds = [];\n                for(var i=0;i < rs.length;i++) {\n                    cds.push(rs[i].getData());\n                }\n                data[key].value = JSON.stringify(cds);\n            }\n        }\n    }\n    return {'id': this.rowId, 'status': this.status, data: data}\n}\n\nconst getEmptyData = function () {\n    return {'id': this.rowId, 'status': this.status, data: {}}\n};\n\nexport {\n\tgetValue,\n\tgetChildValue,\n\tgetData,\n\tgetEmptyData\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row-getData.js\n **/","/**\n * Module : kero dataTable row getMeta\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 13:54:01\n */\n\n import {_getField} from './util';\n/**\n *获取row中某一列的属性\n */\nconst getMeta = function (fieldName, key, fetchParent) {\n    if (arguments.length == 0) {\n        var mt = {}\n        for (var k in this.data) {\n            mt[k] = this.data[k].meta ? this.data[k].meta : {}\n        }\n        return mt\n    }\n    var meta = _getField(fieldName).meta\n    if (meta && meta[key] !== undefined && meta[key] !== null && meta[key] !== '')\n        return meta[key]\n    else if (typeof fetchParent == 'undefined' || fetchParent != false)\n        return this.parent.getMeta(fieldName, key)\n    return undefined;\n}\n\nexport {\n\tgetMeta\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row-getMeta.js\n **/","/**\n * Module : kero dataTable row getSimpleData\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 13:54:01\n */\nimport {_dateToUTCString} from './util';\nimport {isEmptyObject} from 'neoui-sparrow/js/util';\n\nconst _getSimpleData = function(data){\n    var _data = {};\n    var meta = this.parent.getMeta() || {};\n    for(var key in data){\n        if (key === 'meta' || isEmptyObject(data[key])){\n            continue;\n        }else if (data[key].isChild) {\n            _data[key] = data[key].value?data[key].value.getSimpleData():{};\n        }else if (key === '$data'){  //处理一维数组： [1,2,3]\n            _data = data[key].value\n        }else if (typeof data[key].value !== 'undefined'){\n           //如果类型为boolean，无论值为false、true都应该等于他本身\n            if(meta[key] && meta[key].type==='boolean'){\n                _data[key] = data[key].value?true:false;//默认值可能是null\n            }else{\n                _data[key] = data[key].value;\n            }\n            if (meta[key] && meta[key].type) {\n                if (meta[key].type == 'date' || meta[key].type == 'datetime') {\n\n                    _data[key] = _dateToUTCString(data[key].value)\n                }\n            }\n        }\n        else{\n            _data[key] = this._getSimpleData(data[key])\n        }\n    }\n    return _data;\n\n}\n\nconst getSimpleData = function(options){\n    options = options || {}\n    var fields = options['fields'] || null;\n    var meta = this.parent.getMeta();\n    var data = this.data;\n    var _data = this._getSimpleData(data); //{};\n    var _fieldsData = {};\n    if (fields){\n        for (var key in _data){\n            if (fields.indexOf(key) != -1){\n                _fieldsData[key] = _data[key];\n            }\n        }\n        return _fieldsData;\n    }\n    return _data;\n\n};\n\nexport {\n\tgetSimpleData\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row-getSimpleData.js\n **/","/**\n * Module : kero dataTable row init\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 13:54:01\n */\n\n /**\n * Row初始化方法\n * @private\n */\nconst init = function () {\n    var meta = this.parent.meta;\n\n    for (var key in meta) {\n        var targetData;\n        if (key.indexOf('.') > 0){\n            var keys = key.split('.');\n            targetData =  this.data[keys[0]] = this.data[keys[0]] || {};\n            for(var i = 1; i< keys.length; i++){\n                targetData[keys[i]] = targetData[keys[i]] || {};\n                targetData = targetData[keys[i]];\n            }\n        }else{\n            this.data[key] = this.data[key] || {}\n            targetData = this.data[key];\n        }\n        targetData.value = null;\n        //this.data[key] = {}\n        //处理子表\n        if (meta[key]['type'] && meta[key]['type'] === 'child'){\n            targetData.isChild = true;\n            //ns 是多级数据时的空间名： 最顶层的dataTable没有ns。  f1.f2.f3\n            var ns = this.parent.ns === '' ? key : this.parent.ns + '.' + key\n            targetData.value = new u.DataTable({root:this.parent.root,ns:ns,meta:meta[key]['meta']});\n        }\n        //添加默认值\n        else if (meta[key]['default']) {\n            var defaults = meta[key]['default']\n            if (typeof defaults === 'object'){\n                for (var k in defaults) {\n                    if (k == 'value'){\n                        if (typeof defaults[k] === 'function')\n                            targetData.value = this.formatValue(key,defaults[k]());\n                        else\n                            targetData.value = this.formatValue(key,defaults[k]);\n                    }\n                    else {\n                        targetData.meta = targetData.meta || {}\n                        targetData.meta[k] = defaults[k]\n                    }\n                }\n            }else{\n                if (typeof defaults === 'function')\n                    targetData.value = this.formatValue(key, defaults());\n                else\n                    targetData.value = this.formatValue(key,defaults);\n            }\n        }\n    }\n}\n\n\nexport {\n\tinit\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row-init.js\n **/","/**\n * Module : kero dataTable row meta\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 13:54:01\n */\nimport {eq, _getField} from './util';\n\n/**\n *设置row中某一列的属性\n */\nconst setMeta = function (fieldName, key, value) {\n    var meta = _getField(fieldName).meta\n    if (!meta)\n        meta = _getField(fieldName).meta = {}\n    var oldValue = meta[key]\n    if (eq(oldValue, value)) return;\n    meta[key] = value\n    //this.metaChange(- this.metaChange())\n    if (this.metaChange[fieldName + '.' + key]) {\n        this.metaChange[fieldName + '.' + key](-this.metaChange[fieldName + '.' + key]());\n    }\n\n    if (key == 'enable')\n        this.parent.enableChange(-this.parent.enableChange())\n    if (this.parent.getCurrentRow() == this) {\n        if (this.parent.metaChange[fieldName + '.' + key])\n            this.parent.metaChange[fieldName + '.' + key](-this.parent.metaChange[fieldName + '.' + key]());\n        this.parent.trigger(fieldName + '.' + key + '.' + DataTable.ON_CURRENT_META_CHANGE, {\n            eventType: 'dataTableEvent',\n            dataTable: this.parent.id,\n            oldValue: oldValue,\n            newValue: value\n        });\n        //this.parent.metaChange(- this.parent.metaChange())\n    }\n    this.parent.trigger(DataTable.ON_ROW_META_CHANGE, {\n        eventType: 'dataTableEvent',\n        dataTable: this.parent.id,\n        field: fieldName,\n        meta: key,\n        oldValue: oldValue,\n        newValue: value,\n        row: this\n    });\n\n    this.parent.trigger(fieldName + '.' + key + '.' + DataTable.ON_ROW_META_CHANGE, {\n        eventType: 'dataTableEvent',\n        dataTable: this.parent.id,\n        field: fieldName,\n        meta: key,\n        oldValue: oldValue,\n        newValue: value,\n        row: this\n    });\n}\n\n\nexport {\n\tsetMeta\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row-meta.js\n **/","/**\n * Module : kero dataTable row ref\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 13:54:01\n */\nimport {getJSObject} from 'neoui-sparrow/js/util';\nimport {date} from 'neoui-sparrow/js/util/dateUtils';\nimport {_getField} from './util';\n\nconst ref = function (fieldName) {\n    this.parent.createField(fieldName);\n    if (!this.valueChange[fieldName])\n        this.valueChange[fieldName] = ko.observable(1);\n    return ko.pureComputed({\n        read: function () {\n            this.valueChange[fieldName]();\n            this.currentRowChange();\n            return this.getChildValue(fieldName)\n            //var value = this._getField(fieldName)['value'];\n            //return value;\n        },\n        write: function (value) {\n            this.setChildValue(fieldName, value);\n            //this.setValue(fieldName, value)\n        },\n        owner: this\n    })\n}\n\n\n\nconst refMeta = function (fieldName, key) {\n    if (!this.metaChange[fieldName + '.' + key])\n        this.metaChange[fieldName + '.' + key] = ko.observable(1);\n    return ko.pureComputed({\n        read: function () {\n            this.metaChange[fieldName + '.' + key]()\n            return this.getMeta(fieldName, key)\n        },\n        write: function (value) {\n            this.setMeta(fieldName, key, value)\n        },\n        owner: this\n    })\n}\nconst refCombo = function (fieldName, datasource) {\n    if (!this.valueChange[fieldName])\n        this.valueChange[fieldName] = ko.observable(1);\n    return ko.pureComputed({\n        read: function () {\n            this.valueChange[fieldName]();\n            this.currentRowChange();\n            var ds = getJSObject(this.parent.parent, datasource)\n            if (_getField(fieldName)['value'] === undefined || _getField(fieldName)['value'] === \"\") return \"\";\n            var v = _getField(fieldName)['value'];\n            var valArr = typeof v === 'string' ? v.split(',') : [v];\n\n            var nameArr = []\n\n            for (var i = 0, length = ds.length; i < length; i++) {\n                for (var j = 0; j < valArr.length; j++) {\n                    var value = ds[i]['pk'] || ds[i]['value'] || '';\n                    if (value == valArr[j]) {\n                        nameArr.push(ds[i].name)\n                    }\n                }\n            }\n\n            return nameArr.toString();\n        },\n        write: function (value) {\n\n            this.setValue(fieldName, value)\n        },\n        owner: this\n    })\n}\nconst refDate = function (fieldName, format) {\n    if (!this.valueChange[fieldName])\n        this.valueChange[fieldName] = ko.observable(1);\n    return ko.pureComputed({\n        read: function () {\n            this.valueChange[fieldName]();\n            this.currentRowChange();\n            if (!_getField(fieldName)['value']) return \"\";\n            var valArr = _getField(fieldName)['value']\n            if (!valArr) return \"\";\n            valArr = date.format(valArr, format); //moment(valArr).format(format)\n            return valArr;\n        },\n        write: function (value) {\n\n            this.setValue(fieldName, value)\n        },\n        owner: this\n    })\n}\n\n// 刘云燕提交\nconst refEnum = function (fieldName) {\n    this.parent.createField(fieldName);\n    if (!this.valueChange[fieldName])\n        this.valueChange[fieldName] = ko.observable(1);\n    return ko.pureComputed({\n        read: function () {\n            this.valueChange[fieldName]();\n            this.currentRowChange();\n            if (!_getField(fieldName)['value']) return \"\";\n            var valArr = _getField(fieldName)['value']\n            if (!valArr) return \"\";\n            if(valArr == \"N\")\n                valArr = \"否\";\n            else if(valArr == \"Y\")\n                valArr = \"是\";\n            return valArr;\n        },\n        write: function (value) {\n\n            this.setValue(fieldName, value)\n        },\n        owner: this\n    })\n}\n\nexport {\n\tref,\n\trefMeta,\n\trefCombo,\n\trefDate,\n\trefEnum\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row-ref.js\n **/","/**\n * Module : Sparrow date util\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-08-06 13:37:20\n */\n\nimport {core} from '../core';\nvar u = {};\nu.date = {\n\n\t/**\n\t * 多语言处理\n\t */\n\t//TODO 后续放到多语文件中\n\t_dateLocale: {\n\t\t'zh-CN': {\n\t\t\tmonths: '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),\n\t\t\tmonthsShort: '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),\n\t\t\tweekdays: '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),\n\t\t\tweekdaysShort: '周日_周一_周二_周三_周四_周五_周六'.split('_'),\n\t\t\tweekdaysMin: '日_一_二_三_四_五_六'.split('_')\n\t\t},\n\t\t'en-US': {\n\t\t\tmonths: 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n\t\t\tmonthsShort: 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n\t\t\tweekdays: 'Sunday_Monday_Tuesday_Wednesday_Thurday_Friday_Saturday'.split('_'),\n\t\t\tweekdaysShort: 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n\t\t\tweekdaysMin: 'S_M_T_W_T_F_S'.split('_')\n\t\t}\n\t},\n\n\t_formattingTokens: /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYY|YY|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,\n\n\tleftZeroFill: function(number, targetLength, forceSign) {\n\t\tvar output = '' + Math.abs(number),\n\t\t\tsign = number >= 0;\n\t\twhile(output.length < targetLength) {\n\t\t\toutput = '0' + output;\n\t\t}\n\t\treturn(sign ? (forceSign ? '+' : '') : '-') + output;\n\t},\n\n\t_formats: {\n\t\t//year\n\t\tYY: function(date) {\n\t\t\treturn u.date.leftZeroFill(date.getFullYear() % 100, 2);\n\t\t},\n\t\tYYYY: function(date) {\n\t\t\treturn date.getFullYear();\n\t\t},\n\t\t//month\n\t\tM: function(date) {\n\t\t\treturn date.getMonth() + 1;\n\t\t},\n\t\tMM: function(date) {\n\t\t\tvar m = u.date._formats.M(date);\n\t\t\treturn u.date.leftZeroFill(m, 2);\n\t\t},\n\t\tMMM: function(date, language) {\n\t\t\tvar m = date.getMonth();\n\t\t\treturn u.date._dateLocale[language].monthsShort[m];\n\t\t},\n\t\tMMMM: function(date, language) {\n\t\t\tvar m = date.getMonth();\n\t\t\treturn u.date._dateLocale[language].months[m];\n\t\t},\n\t\t//date\n\t\tD: function(date) {\n\t\t\treturn date.getDate();\n\t\t},\n\t\tDD: function(date) {\n\t\t\tvar d = u.date._formats.D(date);\n\t\t\treturn u.date.leftZeroFill(d, 2);\n\t\t},\n\t\t// weekday\n\t\td: function(date) {\n\t\t\treturn date.getDay();\n\t\t},\n\t\tdd: function(date, language) {\n\t\t\tvar d = u.date._formats.d(date);\n\t\t\treturn u.date._dateLocale[language].weekdaysMin[d];\n\t\t},\n\t\tddd: function(date, language) {\n\t\t\tvar d = u.date._formats.d(date);\n\t\t\treturn u.date._dateLocale[language].weekdaysShort[d];\n\t\t},\n\t\tdddd: function(date, language) {\n\t\t\tvar d = u.date._formats.d(date);\n\t\t\treturn u.date._dateLocale[language].weekdays[d];\n\t\t},\n\t\t// am pm\n\t\ta: function(date) {\n\t\t\tif(date.getHours() > 12) {\n\t\t\t\treturn 'pm';\n\t\t\t} else {\n\t\t\t\treturn 'am';\n\t\t\t}\n\t\t},\n\t\t//hour\n\t\th: function(date) {\n\t\t\tvar h = date.getHours();\n\t\t\th = h > 12 ? h - 12 : h;\n\t\t\treturn h\n\t\t},\n\t\thh: function(date) {\n\t\t\tvar h = u.date._formats.h(date);\n\t\t\treturn u.date.leftZeroFill(h, 2);\n\t\t},\n\t\tH: function(date) {\n\t\t\treturn date.getHours();\n\t\t},\n\t\tHH: function(date) {\n\t\t\treturn u.date.leftZeroFill(date.getHours(), 2);\n\t\t},\n\t\t// minutes\n\t\tm: function(date) {\n\t\t\treturn date.getMinutes();\n\t\t},\n\t\tmm: function(date) {\n\t\t\treturn u.date.leftZeroFill(date.getMinutes(), 2);\n\t\t},\n\t\t//seconds\n\t\ts: function(date) {\n\t\t\treturn date.getSeconds();\n\t\t},\n\t\tss: function(date) {\n\t\t\treturn u.date.leftZeroFill(date.getSeconds(), 2);\n\t\t}\n\t},\n\n\t/**\n\t * 日期格式化\n\t * @param date\n\t * @param formatString\n\t */\n\tformat: function(date, formatString, language) {\n\t\tif(!date) return date;\n\t\tvar array = formatString.match(u.date._formattingTokens),\n\t\t\ti, length, output = '';\n\t\tvar _date = u.date.getDateObj(date);\n\t\tif(!_date) return date;\n\t\tlanguage = language || core.getLanguages();\n\t\tfor(i = 0, length = array.length; i < length; i++) {\n\t\t\tif(u.date._formats[array[i]]) {\n\t\t\t\toutput += u.date._formats[array[i]](_date, language);\n\t\t\t} else {\n\t\t\t\toutput += array[i];\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t},\n\n\t_addOrSubtract: function(date, period, value, isAdding) {\n\t\tvar times = date.getTime(),\n\t\t\td = date.getDate(),\n\t\t\tm = date.getMonth(),\n\t\t\t_date = u.date.getDateObj(date);\n\t\tif(period === 'ms') {\n\t\t\ttimes = times + value * isAdding;\n\t\t\t_date.setTime(times);\n\t\t} else if(period == 's') {\n\t\t\ttimes = times + value * 1000 * isAdding;\n\t\t\t_date.setTime(times);\n\t\t} else if(period == 'm') {\n\t\t\ttimes = times + value * 60000 * isAdding;\n\t\t\t_date.setTime(times);\n\t\t} else if(period == 'h') {\n\t\t\ttimes = times + value * 3600000 * isAdding;\n\t\t\t_date.setTime(times);\n\t\t} else if(period == 'd') {\n\t\t\td = d + value * isAdding;\n\t\t\t_date.setDate(d);\n\t\t} else if(period == 'w') {\n\t\t\td = d + value * 7 * isAdding;\n\t\t\t_date.setDate(d);\n\t\t} else if(period == 'M') {\n\t\t\tm = m + value * isAdding;\n\t\t\t_date.setMonth(d);\n\t\t} else if(period == 'y') {\n\t\t\tm = m + value * 12 * isAdding;\n\t\t\t_date.setMonth(d);\n\t\t}\n\t\treturn _date;\n\t},\n\n\tadd: function(date, period, value) {\n\t\treturn u.date._addOrSubtract(date, period, value, 1);\n\t},\n\tsub: function(date, period, value) {\n\t\treturn u.date._addOrSubtract(date, period, value, -1);\n\t},\n\tgetDateObj: function(value) {\n\t\tif(!value || typeof value == 'undefined') return value;\n\t\tvar dateFlag = false;\n\t\tvar _date = new Date(value);\n\t\tif(isNaN(_date)) {\n\t\t\t// IE的话对\"2016-2-13 12:13:22\"进行处理\n\t\t\tvar index1, index2, index3, s1, s2, s3;\n\t\t\tif(value.indexOf) {\n\t\t\t\tindex1 = value.indexOf('-');\n\t\t\t\tindex2 = value.indexOf(':');\n\t\t\t\tindex3 = value.indexOf(' ');\n\t\t\t\tif(index1 > 0 || index2 > 0 || index3 > 0) {\n\t\t\t\t\t_date = new Date();\n\t\t\t\t\tif(index3 > 0) {\n\t\t\t\t\t\ts3 = value.split(' ');\n\t\t\t\t\t\ts1 = s3[0].split('-');\n\t\t\t\t\t\ts2 = s3[1].split(':');\n\t\t\t\t\t} else if(index1 > 0) {\n\t\t\t\t\t\ts1 = value.split('-');\n\t\t\t\t\t} else if(index2 > 0) {\n\t\t\t\t\t\ts2 = value.split(':');\n\t\t\t\t\t}\n\t\t\t\t\tif(s1 && s1.length > 0) {\n\t\t\t\t\t\t_date.setYear(s1[0]);\n\t\t\t\t\t\t_date.setMonth(parseInt(s1[1] - 1));\n\t\t\t\t\t\t_date.setDate(s1[2] ? s1[2] : 0);\n\t\t\t\t\t\tdateFlag = true;\n\t\t\t\t\t}\n\t\t\t\t\tif(s2 && s2.length > 0) {\n\t\t\t\t\t\t_date.setHours(s2[0] ? s2[0] : 0);\n\t\t\t\t\t\t_date.setMinutes(s2[1] ? s2[1] : 0);\n\t\t\t\t\t\t_date.setSeconds(s2[2] ? s2[2] : 0);\n\t\t\t\t\t\tdateFlag = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t_date = new Date(parseInt(value))\n\t\t\t\t\tif(isNaN(_date)) {\n\t\t\t\t\t\tthrow new TypeError('invalid Date parameter');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdateFlag = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tdateFlag = true;\n\t\t}\n\n\t\tif(dateFlag)\n\t\t\treturn _date;\n\t\telse\n\t\t\treturn null;\n\t}\n\n};\n\nvar date = u.date;\nexport {\n\tdate\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/util/dateUtils.js\n **/","/**\n * Module : Sparrow core context\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-28 13:52:19\n */\nimport extend from './extend';\nimport {createShellObject} from './util';\nimport {getCookie,setCookie} from './cookies';\nimport {U_LANGUAGES,U_THEME,U_LOCALE,U_USERCODE} from './enumerables'\n\n\nvar environment = {};\n/**\n * client attributes\n */\nvar clientAttributes = {};\n\nvar sessionAttributes = {};\n\nvar fn = {};\nvar maskerMeta = {\n\t'float': {\n\t\tprecision: 2\n\t},\n\t'datetime': {\n\t\tformat: 'YYYY-MM-DD HH:mm:ss',\n\t\tmetaType: 'DateTimeFormatMeta',\n\t\tsperatorSymbol: '-'\n\t},\n\t'time': {\n\t\tformat: 'HH:mm'\n\t},\n\t'date': {\n\t\tformat: 'YYYY-MM-DD'\n\t},\n\t'currency': {\n\t\tprecision: 2,\n\t\tcurSymbol: '￥'\n\t},\n\t'percent': {\n\n\t}\n};\n/**\n * 获取环境信息\n * @return {environment}\n */\nfn.getEnvironment = function() {\n\treturn createShellObject(environment);\n};\n\n/**\n * 获取客户端参数对象\n * @return {clientAttributes}\n */\nfn.getClientAttributes = function() {\n\tvar exf = function() {}\n\treturn createShellObject(clientAttributes);\n}\n\nfn.setContextPath = function(contextPath) {\n\treturn environment[IWEB_CONTEXT_PATH] = contextPath\n}\nfn.getContextPath = function(contextPath) {\n\t\treturn environment[IWEB_CONTEXT_PATH]\n\t}\n\t/**\n\t * 设置客户端参数对象\n\t * @param {Object} k 对象名称\n\t * @param {Object} v 对象值(建议使用简单类型)\n\t */\nfn.setClientAttribute = function(k, v) {\n\t\tclientAttributes[k] = v;\n\t}\n\t/**\n\t * 获取会话级参数对象\n\t * @return {clientAttributes}\n\t */\nfn.getSessionAttributes = function() {\n\tvar exf = function() {}\n\treturn createShellObject(sessionAttributes);\n}\n\n/**\n * 设置会话级参数对象\n * @param {Object} k 对象名称\n * @param {Object} v 对象值(建议使用简单类型)\n */\nfn.setSessionAttribute = function(k, v) {\n\tsessionAttributes[k] = v;\n\tsetCookie(\"ISES_\" + k, v);\n}\n\n/**\n * 移除客户端参数\n * @param {Object} k 对象名称\n */\nfn.removeClientAttribute = function(k) {\n\tclientAttributes[k] = null;\n\texecIgnoreError(function() {\n\t\tdelete clientAttributes[k];\n\t})\n}\n\n/**\n * 获取地区信息编码\n */\nfn.getLocale = function() {\n\treturn this.getEnvironment().locale\n}\n\n/**\n * 获取多语信息\n */\nfn.getLanguages = function() {\n\treturn this.getEnvironment().languages\n};\n/**\n * 收集环境信息(包括客户端参数)\n * @return {Object}\n */\nfn.collectEnvironment = function() {\n\tvar _env = this.getEnvironment();\n\tvar _ses = this.getSessionAttributes();\n\n\tfor(var i in clientAttributes) {\n\t\t_ses[i] = clientAttributes[i];\n\t}\n\t_env.clientAttributes = _ses;\n\treturn _env\n}\n\n/**\n * 设置数据格式信息\n * @param {String} type\n * @param {Object} meta\n */\nfn.setMaskerMeta = function(type, meta) {\n\tif(typeof type == 'function') {\n\t\tgetMetaFunc = type;\n\t} else {\n\t\tif(!maskerMeta[type])\n\t\t\tmaskerMeta[type] = meta;\n\t\telse {\n\t\t\tif(typeof meta != 'object')\n\t\t\t\tmaskerMeta[type] = meta;\n\t\t\telse\n\t\t\t\tfor(var key in meta) {\n\t\t\t\t\tmaskerMeta[type][key] = meta[key];\n\t\t\t\t}\n\t\t}\n\t}\n};\nfn.getMaskerMeta = function(type) {\n\tif(typeof getMetaFunc == 'function') {\n\t\tvar meta = getMetaFunc.call(this);\n\t\treturn meta[type];\n\t} else\n\t\treturn extend({}, maskerMeta[type]);\n};\nenvironment.languages = getCookie(U_LANGUAGES) ? getCookie(U_LANGUAGES).split(',') : navigator.language ? navigator.language : 'zh-CN';\nif(environment.languages == 'zh-cn')\n\tenvironment.languages = 'zh-CN'\nif(environment.languages == 'en-us')\n\tenvironment.languages = 'en-US'\n\nenvironment.theme = getCookie(U_THEME);\nenvironment.locale = getCookie(U_LOCALE);\n//environment.timezoneOffset = (new Date()).getTimezoneOffset()\nenvironment.usercode = getCookie(U_USERCODE);\n//init session attribute\ndocument.cookie.replace(/ISES_(\\w*)=([^;]*);?/ig, function(a, b, c) {\n\tsessionAttributes[b] = c;\n});\n\nvar Core = function() {};\nCore.prototype = fn;\n\nvar core = new Core();\n\nexport { core };\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/core.js\n **/","/**\n * Module : Sparrow cookies\n * Author : Kvkens(yueming@yonyou.com)\n * Date\t  : 2016-07-27 21:46:50\n */\n\nvar setCookie = function(sName, sValue, oExpires, sPath, sDomain, bSecure) {\n\tvar sCookie = sName + \"=\" + encodeURIComponent(sValue);\n\tif(oExpires)\n\t\tsCookie += \"; expires=\" + oExpires.toGMTString();\n\tif(sPath)\n\t\tsCookie += \"; path=\" + sPath;\n\tif(sDomain)\n\t\tsCookie += \"; domain=\" + sDomain;\n\tif(bSecure)\n\t\tsCookie += \"; secure=\" + bSecure;\n\tdocument.cookie = sCookie;\n};\n\nvar getCookie = function(sName) {\n\tvar sRE = \"(?:; )?\" + sName + \"=([^;]*);?\";\n\tvar oRE = new RegExp(sRE);\n\n\tif(oRE.test(document.cookie)) {\n\t\treturn decodeURIComponent(RegExp[\"$1\"]);\n\t} else\n\t\treturn null;\n};\n\nexport {\n\tsetCookie,getCookie\n};\n\n\n/** WEBPACK FOOTER **\n ** ./~/neoui-sparrow/js/cookies.js\n **/","/**\n * Module : kero dataTable row rowSelect\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 13:54:01\n */\n\n\nconst toggleSelect = function(type){\n    var index = this.parent.getRowIndex(this);\n    var selectindices = this.parent.getSelectedIndices();\n    if (selectindices.indexOf(index) != -1){\n        this.parent.setRowUnSelect(index);\n    }else{\n        if (type === 'single')\n            this.parent.setRowSelect(index);\n        else\n            this.parent.addRowSelect(index);\n    }\n};\n\n/**\n * 行点击事件\n */\nconst singleSelect = function(){\n    this.toggleSelect('single');\n};\n\nconst multiSelect = function(){\n    this.toggleSelect('multi');\n};\n\nexport{\n\ttoggleSelect,\n\tsingleSelect,\n\tmultiSelect\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row-rowSelect.js\n **/","/**\n * Module : kero dataTable row simpleData\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 13:54:01\n */\n\nconst setSimpleData = function(data, status){\n    var allData = {};\n    allData.data = data;\n    allData.status = status || 'nrm';\n    this.setData(allData, true);\n    this.currentRowChange(-this.currentRowChange());\n}\n\nexport {\n\tsetSimpleData\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row-simpleData.js\n **/","/**\n * Module : kero dataTable row util\n * Author : liuyk(liuyk@yonyou.com)\n * Date   : 2016-08-08 13:54:01\n */\nimport {isNumber} from 'neoui-sparrow/js/util';\n\nconst eq = function (a, b) {\n    if ((a === null || a === undefined || a === '') && (b === null || b === undefined || b === '')) return true;\n    if (isNumber(a) && isNumber(b) && parseFloat(a) == parseFloat(b)) return true;\n    if (a + '' == b + '')  return true;\n    return false;\n}\n\n\nconst _formatDate = function (value) {\n    if (!value) return value\n    var date = new Date();\n    date.setTime(value);\n    //如果不能转为Date 直接返回原值\n    if (isNaN(date)){\n        return value\n    }\n    var year = date.getFullYear();\n    var month = date.getMonth() + 1;\n    if (parseInt(month) < 10) month = \"0\" + month;\n    var day = date.getDate();\n    if (parseInt(day) < 10) day = \"0\" + day;\n    var hours = date.getHours();\n    if (parseInt(hours) < 10) hours = \"0\" + hours;\n    var minutes = date.getMinutes();\n    if (parseInt(minutes) < 10) minutes = \"0\" + minutes;\n    var seconds = date.getSeconds();\n    if (parseInt(seconds) < 10) seconds = \"0\" + seconds;\n    var mill = date.getMilliseconds();\n    var formatString = year + \"-\" + month + \"-\" + day + \" \" + hours + \":\" + minutes + \":\" + seconds ; //+ \".\" + mill;\n    return formatString;\n}\n\nconst _dateToUTCString = function (date) {\n    if (!date) return ''\n    if(typeof date==='number')\n        return date\n    if (date.indexOf(\"-\") > -1)\n        date = date.replace(/\\-/g, \"/\");\n    var utcString = Date.parse(date);\n    if (isNaN(utcString)) return \"\";\n    return utcString;\n}\n\nconst _triggerChange = function(fieldName, oldValue, ctx){\n    this._getField(fieldName).changed = true\n    if (this.status != Row.STATUS.NEW)\n        this.status = Row.STATUS.UPDATE\n    if (this.valueChange[fieldName])\n        this.valueChange[fieldName](-this.valueChange[fieldName]())\n    if (this.parent.getCurrentRow() == this && this.parent.valueChange[fieldName]){\n        this.parent.valueChange[fieldName](-this.parent.valueChange[fieldName]());\n    }\n    if (this.parent.ns){\n        var fName = this.parent.ns + '.' + fieldName;\n        if (this.parent.root.valueChange[fName])\n            this.parent.root.valueChange[fName](-this.parent.root.valueChange[fName]());\n    }\n\n    var event = {\n        eventType: 'dataTableEvent',\n        dataTable: this.parent.id,\n        rowId: this.rowId,\n        field: fieldName,\n        oldValue: oldValue,\n        newValue: this.getValue(fieldName),\n        ctx: ctx || \"\"\n    }\n    this.parent.trigger(DataTable.ON_VALUE_CHANGE, event);\n    this.parent.trigger(fieldName + \".\" + DataTable.ON_VALUE_CHANGE, event);\n    if (this == this.parent.getCurrentRow())\n        this.parent.trigger(fieldName + \".\" + DataTable.ON_CURRENT_VALUE_CHANGE, event);\n\n};\n\n/**\n * 格式化数据值\n * @private\n * @param {Object} field\n * @param {Object} value\n */\nconst formatValue = function (field, value) {\n    var type = this.parent.getMeta(field, 'type')\n    if (!type) return value\n    if (type == 'date' || type == 'datetime') {\n        return _formatDate(value)\n    }\n    return value\n}\n\n\nconst _findField = function(fieldName){\n    var rat = this.data[fieldName];\n    if (!rat) {\n        var fnames = fieldName.split('.'); //多级field\n        if (fnames.length > 1){\n            var tempField = this.data\n            for (var i = 0; i < fnames.length; i++){\n                tempField = tempField[fnames[i]];\n                if (!tempField){\n                    break;\n                }\n            }\n            rat = tempField;\n        }\n    }\n    return rat || null;\n\n}\n\nconst _getField = function (fieldName) {\n    var rat = this._findField(fieldName);\n    if (!rat) {\n        var msg = 'field:' + fieldName + ' not exist in dataTable:' + this.parent.root.id + '!'\n        console.error(msg);\n        throw new Error(msg);\n    }\n    return rat;\n}\n\n\nexport {\n\teq,\n\t_dateToUTCString,\n\t_triggerChange,\n\tformatValue, //需要最终产出\n\t_getField\n}\n\n\n/** WEBPACK FOOTER **\n ** ./js/dataTable/row-util.js\n **/"],"sourceRoot":""}